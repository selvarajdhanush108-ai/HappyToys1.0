var aR=Object.defineProperty,cR=Object.defineProperties;var uR=Object.getOwnPropertyDescriptors;var Mw=Object.getOwnPropertySymbols;var lR=Object.prototype.hasOwnProperty,dR=Object.prototype.propertyIsEnumerable;var Rw=(n,e,t)=>e in n?aR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})lR.call(e,t)&&Rw(n,t,e[t]);if(Mw)for(var t of Mw(e))dR.call(e,t)&&Rw(n,t,e[t]);return n},le=(n,e)=>cR(n,uR(e));var S=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{c(t.next(u))}catch(l){i(l)}},s=u=>{try{c(t.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((t=t.apply(n,e)).next())});var mp;function Nu(){return mp}function Dn(n){let e=mp;return mp=n,e}var Pw=Symbol("NotFound");function go(n){return n===Pw||n?.name==="\u0275NotFound"}var wt=null,Ou=!1,yp=1,hR=null,bt=Symbol("SIGNAL");function Y(n){let e=wt;return wt=n,e}function Vu(){return wt}var mo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function yo(n){if(Ou)throw new Error("");if(wt===null)return;wt.consumerOnSignalRead(n);let e=wt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=wt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:wt.producers,t!==void 0&&t.producer===n)){wt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===wt&&(!r||pR(i,wt)))return;let o=_o(wt),s={producer:n,consumer:wt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};wt.producersTail=s,e!==void 0?e.nextProducer=s:wt.producers=s,o&&Fw(n,s)}function Nw(){yp++}function Uu(n){if(!(_o(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===yp)){if(!n.producerMustRecompute(n)&&!wa(n)){Lu(n);return}n.producerRecomputeValue(n),Lu(n)}}function vp(n){if(n.consumers===void 0)return;let e=Ou;Ou=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||fR(r)}}finally{Ou=e}}function _p(){return wt?.consumerAllowSignalWrites!==!1}function fR(n){n.dirty=!0,vp(n),n.consumerMarkedDirty?.(n)}function Lu(n){n.dirty=!1,n.lastCleanEpoch=yp}function vo(n){return n&&Ow(n),Y(n)}function Ow(n){n.producersTail=void 0,n.recomputing=!0}function Ia(n,e){Y(e),n&&kw(n)}function kw(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(_o(n))do t=Ep(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function wa(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Uu(t),r!==t.version))return!0}return!1}function ba(n){if(_o(n)){let e=n.producers;for(;e!==void 0;)e=Ep(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function Fw(n,e){let t=n.consumersTail,r=_o(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)Fw(i.producer,i)}function Ep(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!_o(e)){let o=e.producers;for(;o!==void 0;)o=Ep(o)}return t}function _o(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function ju(n){hR?.(n)}function pR(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Bu(n,e){return Object.is(n,e)}function $u(n,e){let t=Object.create(gR);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Uu(t),yo(t),t.value===Ea)throw t.error;return t.value};return r[bt]=t,ju(t),r}var ku=Symbol("UNSET"),Fu=Symbol("COMPUTING"),Ea=Symbol("ERRORED"),gR=le(L({},mo),{value:ku,dirty:!0,error:null,equal:Bu,kind:"computed",producerMustRecompute(n){return n.value===ku||n.value===Fu},producerRecomputeValue(n){if(n.value===Fu)throw new Error("");let e=n.value;n.value=Fu;let t=vo(n),r,i=!1;try{r=n.computation(),Y(null),i=e!==ku&&e!==Ea&&r!==Ea&&n.equal(e,r)}catch(o){r=Ea,n.error=o}finally{Ia(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function mR(){throw new Error}var Lw=mR;function Vw(n){Lw(n)}function Ip(n){Lw=n}var yR=null;function wp(n,e){let t=Object.create(Hu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>Uw(t);return r[bt]=t,ju(t),[r,s=>Eo(t,s),s=>bp(t,s)]}function Uw(n){return yo(n),n.value}function Eo(n,e){_p()||Vw(n),n.equal(n.value,e)||(n.value=e,vR(n))}function bp(n,e){_p()||Vw(n),Eo(n,e(n.value))}var Hu=le(L({},mo),{equal:Bu,value:void 0,kind:"signal"});function vR(n){n.version++,Nw(),vp(n),yR?.(n)}function te(n){return typeof n=="function"}function Io(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var zu=Io(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function pi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ve=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof zu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{jw(o)}catch(s){e=e??[],s instanceof zu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new zu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)jw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&pi(t,e)}remove(e){let{_finalizers:t}=this;t&&pi(t,e),e instanceof n&&e._removeParent(this)}};Ve.EMPTY=(()=>{let n=new Ve;return n.closed=!0,n})();var Cp=Ve.EMPTY;function qu(n){return n instanceof Ve||n&&"closed"in n&&te(n.remove)&&te(n.add)&&te(n.unsubscribe)}function jw(n){te(n)?n():n.unsubscribe()}var gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wo={setTimeout(n,e,...t){let{delegate:r}=wo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=wo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Gu(n){wo.setTimeout(()=>{let{onUnhandledError:e}=gn;if(e)e(n);else throw n})}function Ca(){}var Bw=Dp("C",void 0,void 0);function $w(n){return Dp("E",void 0,n)}function Hw(n){return Dp("N",n,void 0)}function Dp(n,e,t){return{kind:n,value:e,error:t}}var gi=null;function bo(n){if(gn.useDeprecatedSynchronousErrorHandling){let e=!gi;if(e&&(gi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=gi;if(gi=null,t)throw r}}else n()}function zw(n){gn.useDeprecatedSynchronousErrorHandling&&gi&&(gi.errorThrown=!0,gi.error=n)}var mi=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,qu(e)&&e.add(this)):this.destination=IR}static create(e,t,r){return new Co(e,t,r)}next(e){this.isStopped?Sp(Hw(e),this):this._next(e)}error(e){this.isStopped?Sp($w(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Sp(Bw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},_R=Function.prototype.bind;function Tp(n,e){return _R.call(n,e)}var Ap=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Wu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Wu(r)}else Wu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Wu(t)}}},Co=class extends mi{constructor(e,t,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&gn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Tp(e.next,o),error:e.error&&Tp(e.error,o),complete:e.complete&&Tp(e.complete,o)}):i=e}this.destination=new Ap(i)}};function Wu(n){gn.useDeprecatedSynchronousErrorHandling?zw(n):Gu(n)}function ER(n){throw n}function Sp(n,e){let{onStoppedNotification:t}=gn;t&&wo.setTimeout(()=>t(n,e))}var IR={closed:!0,next:Ca,error:ER,complete:Ca};var Do=typeof Symbol=="function"&&Symbol.observable||"@@observable";function qt(n){return n}function Ku(...n){return xp(n)}function xp(n){return n.length===0?qt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=bR(t)?t:new Co(t,r,i);return bo(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=qw(r),new r((i,o)=>{let s=new Co({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Do](){return this}pipe(...t){return xp(t)(this)}toPromise(t){return t=qw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function qw(n){var e;return(e=n??gn.Promise)!==null&&e!==void 0?e:Promise}function wR(n){return n&&te(n.next)&&te(n.error)&&te(n.complete)}function bR(n){return n&&n instanceof mi||wR(n)&&qu(n)}function Mp(n){return te(n?.lift)}function pe(n){return e=>{if(Mp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(n,e,t,r,i){return new Rp(n,e,t,r,i)}var Rp=class extends mi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function To(){return pe((n,e)=>{let t=null;n._refCount++;let r=fe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var So=class extends re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Mp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ve;let t=this.getSubject();e.add(this.source.subscribe(fe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ve.EMPTY)}return e}refCount(){return To()(this)}};var Gw=Io(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var We=(()=>{class n extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Qu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Gw}next(t){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Cp:(this.currentObservers=null,o.push(t),new Ve(()=>{this.currentObservers=null,pi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new re;return t.source=this,t}}return n.create=(e,t)=>new Qu(e,t),n})(),Qu=class extends We{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Cp}};var ft=class extends We{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Pp={now(){return(Pp.delegate||Date).now()},delegate:void 0};var Yu=class extends Ve{constructor(e,t){super()}schedule(e,t=0){return this}};var Da={setInterval(n,e,...t){let{delegate:r}=Da;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Da;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ao=class extends Yu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Da.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Da.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,pi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var xo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};xo.now=Pp.now;var Mo=class extends xo{constructor(e,t=xo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Np=new Mo(Ao);var Zu=class extends Ao{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ju=class extends Mo{};var Op=new Ju(Zu);var jt=new re(n=>n.complete());function Ww(n){return n&&te(n.schedule)}function Kw(n){return n[n.length-1]}function Xu(n){return te(Kw(n))?n.pop():void 0}function Tr(n){return Ww(Kw(n))?n.pop():void 0}function kp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Yw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function Qw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yi(n){return this instanceof yi?(this.v=n,this):new yi(n)}function Zw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function c(y,T){r[y]&&(i[y]=function(M){return new Promise(function(x,V){o.push([y,M,x,V])>1||u(y,M)})},T&&(i[y]=T(i[y])))}function u(y,T){try{l(r[y](T))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof yi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,T){y(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Jw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Qw=="function"?Qw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var el=n=>n&&typeof n.length=="number"&&typeof n!="function";function tl(n){return te(n?.then)}function nl(n){return te(n[Do])}function rl(n){return Symbol.asyncIterator&&te(n?.[Symbol.asyncIterator])}function il(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function CR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ol=CR();function sl(n){return te(n?.[ol])}function al(n){return Zw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield yi(t.read());if(i)return yield yi(void 0);yield yield yi(r)}}finally{t.releaseLock()}})}function cl(n){return te(n?.getReader)}function Ke(n){if(n instanceof re)return n;if(n!=null){if(nl(n))return DR(n);if(el(n))return TR(n);if(tl(n))return SR(n);if(rl(n))return Xw(n);if(sl(n))return AR(n);if(cl(n))return xR(n)}throw il(n)}function DR(n){return new re(e=>{let t=n[Do]();if(te(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function TR(n){return new re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function SR(n){return new re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Gu)})}function AR(n){return new re(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Xw(n){return new re(e=>{MR(n,e).catch(t=>e.error(t))})}function xR(n){return Xw(al(n))}function MR(n,e){var t,r,i,o;return Yw(this,void 0,void 0,function*(){try{for(t=Jw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Bt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Sr(n,e=0){return pe((t,r)=>{t.subscribe(fe(r,i=>Bt(r,n,()=>r.next(i),e),()=>Bt(r,n,()=>r.complete(),e),i=>Bt(r,n,()=>r.error(i),e)))})}function Ar(n,e=0){return pe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function e0(n,e){return Ke(n).pipe(Ar(e),Sr(e))}function t0(n,e){return Ke(n).pipe(Ar(e),Sr(e))}function n0(n,e){return new re(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function r0(n,e){return new re(t=>{let r;return Bt(t,e,()=>{r=n[ol](),Bt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function ul(n,e){if(!n)throw new Error("Iterable cannot be null");return new re(t=>{Bt(t,e,()=>{let r=n[Symbol.asyncIterator]();Bt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function i0(n,e){return ul(al(n),e)}function o0(n,e){if(n!=null){if(nl(n))return e0(n,e);if(el(n))return n0(n,e);if(tl(n))return t0(n,e);if(rl(n))return ul(n,e);if(sl(n))return r0(n,e);if(cl(n))return i0(n,e)}throw il(n)}function Pe(n,e){return e?o0(n,e):Ke(n)}function Z(...n){let e=Tr(n);return Pe(n,e)}function Ro(n,e){let t=te(n)?n:()=>n,r=i=>i.error(t());return new re(e?i=>e.schedule(r,0,i):r)}function Fp(n){return!!n&&(n instanceof re||te(n.lift)&&te(n.subscribe))}var Zn=Io(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ce(n,e){return pe((t,r)=>{let i=0;t.subscribe(fe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:RR}=Array;function PR(n,e){return RR(e)?n(...e):n(e)}function ll(n){return ce(e=>PR(n,e))}var{isArray:NR}=Array,{getPrototypeOf:OR,prototype:kR,keys:FR}=Object;function dl(n){if(n.length===1){let e=n[0];if(NR(e))return{args:e,keys:null};if(LR(e)){let t=FR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function LR(n){return n&&typeof n=="object"&&OR(n)===kR}function hl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Po(...n){let e=Tr(n),t=Xu(n),{args:r,keys:i}=dl(n);if(r.length===0)return Pe([],e);let o=new re(VR(r,e,i?s=>hl(i,s):qt));return t?o.pipe(ll(t)):o}function VR(n,e,t=qt){return r=>{s0(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)s0(e,()=>{let l=Pe(n[u],e),h=!1;l.subscribe(fe(r,p=>{o[u]=p,h||(h=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function s0(n,e,t){n?Bt(t,n,e):e()}function a0(n,e,t,r,i,o,s,c){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?T(M):u.push(M),T=M=>{o&&e.next(M),l++;let x=!1;Ke(t(M,h++)).subscribe(fe(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let V=u.shift();s?Bt(e,s,()=>T(V)):T(V)}m()}catch(V){e.error(V)}}))};return n.subscribe(fe(e,y,()=>{p=!0,m()})),()=>{c?.()}}function Xe(n,e,t=1/0){return te(e)?Xe((r,i)=>ce((o,s)=>e(r,o,i,s))(Ke(n(r,i))),t):(typeof e=="number"&&(t=e),pe((r,i)=>a0(r,i,n,t)))}function c0(n=1/0){return Xe(qt,n)}function u0(){return c0(1)}function No(...n){return u0()(Pe(n,Tr(n)))}function Ta(n){return new re(e=>{Ke(n()).subscribe(e)})}function Lp(...n){let e=Xu(n),{args:t,keys:r}=dl(n),i=new re(o=>{let{length:s}=t;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ke(t[h]).subscribe(fe(o,m=>{p||(p=!0,l--),c[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?hl(r,c):c),o.complete())}))}});return e?i.pipe(ll(e)):i}function Gt(n,e){return pe((t,r)=>{let i=0;t.subscribe(fe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function xr(n){return pe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(fe(t,void 0,void 0,s=>{o=Ke(n(s,xr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function l0(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(fe(s,h=>{let p=l++;u=c?n(u,h,p):(c=!0,h),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Oo(n,e){return te(e)?Xe(n,e,1):Xe(n,1)}function Mr(n){return pe((e,t)=>{let r=!1;e.subscribe(fe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Jn(n){return n<=0?()=>jt:pe((e,t)=>{let r=0;e.subscribe(fe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function fl(n=UR){return pe((e,t)=>{let r=!1;e.subscribe(fe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function UR(){return new Zn}function Sa(n){return pe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Xn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Gt((i,o)=>n(i,o,r)):qt,Jn(1),t?Mr(e):fl(()=>new Zn))}function ko(n){return n<=0?()=>jt:pe((e,t)=>{let r=[];e.subscribe(fe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Vp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Gt((i,o)=>n(i,o,r)):qt,ko(1),t?Mr(e):fl(()=>new Zn))}function pl(n,e){return pe(l0(n,e,arguments.length>=2,!0))}function gl(...n){let e=Tr(n);return pe((t,r)=>{(e?No(n,t,e):No(n,t)).subscribe(r)})}function $t(n,e){return pe((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(fe(r,u=>{i?.unsubscribe();let l=0,h=o++;Ke(n(u,h)).subscribe(i=fe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function ml(n){return pe((e,t)=>{Ke(n).subscribe(fe(t,()=>t.complete(),Ca)),!t.closed&&e.subscribe(t)})}function st(n,e,t){let r=te(n)||e||t?{next:n,error:e,complete:t}:n;return r?pe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(fe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):qt}function d0(n){let e=Y(null);try{return n()}finally{Y(e)}}var _i=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Zp=new _i("20.3.16");var El="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$=class extends Error{code;constructor(e,t){super(Lo(e,t)),this.code=e}};function jR(n){return`NG0${Math.abs(n)}`}function Lo(n,e){return`${jR(n)}${e?": "+e:""}`}function Ee(n){for(let e in n)if(n[e]===Ee)return e;throw Error("")}function p0(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function tr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(tr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Jp(n,e){return n?e?`${n} ${e}`:n:e||""}var BR=Ee({__forward_ref__:Ee});function bi(n){return n.__forward_ref__=bi,n.toString=function(){return tr(this())},n}function pt(n){return Xp(n)?n():n}function Xp(n){return typeof n=="function"&&n.hasOwnProperty(BR)&&n.__forward_ref__===bi}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function nr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ra(n){return $R(n,Il)}function eg(n){return Ra(n)!==null}function $R(n,e){return n.hasOwnProperty(e)&&n[e]||null}function HR(n){let e=n?.[Il]??null;return e||null}function jp(n){return n&&n.hasOwnProperty(vl)?n[vl]:null}var Il=Ee({\u0275prov:Ee}),vl=Ee({\u0275inj:Ee}),q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function tg(n){return n&&!!n.\u0275providers}var ng=Ee({\u0275cmp:Ee}),rg=Ee({\u0275dir:Ee}),ig=Ee({\u0275pipe:Ee}),og=Ee({\u0275mod:Ee}),xa=Ee({\u0275fac:Ee}),Ci=Ee({__NG_ELEMENT_ID__:Ee}),h0=Ee({__NG_ENV_ID__:Ee});function wl(n){return typeof n=="string"?n:n==null?"":String(n)}function g0(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():wl(n)}var m0=Ee({ngErrorCode:Ee}),zR=Ee({ngErrorMessage:Ee}),qR=Ee({ngTokenPath:Ee});function sg(n,e){return y0("",-200,e)}function bl(n,e){throw new $(-201,!1)}function y0(n,e,t){let r=new $(e,n);return r[m0]=e,r[zR]=n,t&&(r[qR]=t),r}function GR(n){return n[m0]}var Bp;function v0(){return Bp}function Mt(n){let e=Bp;return Bp=n,e}function ag(n,e,t){let r=Ra(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;bl(n,"Injector")}var WR={},vi=WR,$p="__NG_DI_FLAG__",Hp=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Ei(t)||0;try{return this.injector.get(e,r&8?null:vi,r)}catch(i){if(go(i))return i;throw i}}};function KR(n,e=0){let t=Nu();if(t===void 0)throw new $(-203,!1);if(t===null)return ag(n,void 0,e);{let r=QR(e),i=t.retrieve(n,r);if(go(i)){if(r.optional)return null;throw i}return i}}function K(n,e=0){return(v0()||KR)(pt(n),e)}function R(n,e){return K(n,Ei(e))}function Ei(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function QR(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function zp(n){let e=[];for(let t=0;t<n.length;t++){let r=pt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=YR(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(K(i,o))}else e.push(K(r))}return e}function _0(n,e){return n[$p]=e,n.prototype[$p]=e,n}function YR(n){return n[$p]}function Rr(n,e){let t=n.hasOwnProperty(xa);return t?n[xa]:null}function E0(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function I0(n){return n.flat(Number.POSITIVE_INFINITY)}function Cl(n,e){n.forEach(t=>Array.isArray(t)?Cl(t,e):e(t))}function cg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Pa(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function w0(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function b0(n,e,t){let r=Vo(n,e);return r>=0?n[r|1]=t:(r=~r,w0(n,r,e,t)),r}function Dl(n,e){let t=Vo(n,e);if(t>=0)return n[t|1]}function Vo(n,e){return ZR(n,e,1)}function ZR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Or={},Wt=[],rr=new q(""),ug=new q("",-1),lg=new q(""),Ma=class{get(e,t=vi){if(t===vi){let i=y0("",-201);throw i.name="\u0275NotFound",i}return t}};function dg(n){return n[og]||null}function kr(n){return n[ng]||null}function hg(n){return n[rg]||null}function C0(n){return n[ig]||null}function Sn(n){return{\u0275providers:n}}function D0(n){return Sn([{provide:rr,multi:!0,useValue:n}])}function T0(...n){return{\u0275providers:fg(!0,n),\u0275fromNgModule:!0}}function fg(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Cl(e,s=>{let c=s;_l(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&S0(i,o),t}function S0(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];pg(i,o=>{e(o,r)})}}function _l(n,e,t,r){if(n=pt(n),!n)return!1;let i=null,o=jp(n),s=!o&&kr(n);if(!o&&!s){let u=n.ngModule;if(o=jp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)_l(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Cl(o.imports,h=>{_l(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&S0(l,e)}if(!c){let l=Rr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Wt},i),e({provide:lg,useValue:i,multi:!0},i),e({provide:rr,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;pg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function pg(n,e){for(let t of n)tg(t)&&(t=t.\u0275providers),Array.isArray(t)?pg(t,e):e(t)}var JR=Ee({provide:String,useValue:Ee});function A0(n){return n!==null&&typeof n=="object"&&JR in n}function XR(n){return!!(n&&n.useExisting)}function eP(n){return!!(n&&n.useFactory)}function Ii(n){return typeof n=="function"}function x0(n){return!!n.useClass}var Na=new q(""),yl={},f0={},Up;function Oa(){return Up===void 0&&(Up=new Ma),Up}var et=class{},wi=class extends et{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Gp(e,s=>this.processProvider(s)),this.records.set(ug,Fo(void 0,this)),i.has("environment")&&this.records.set(et,Fo(void 0,this));let o=this.records.get(Na);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(lg,Wt,{self:!0}))}retrieve(e,t){let r=Ei(t)||0;try{return this.get(e,vi,r)}catch(i){if(go(i))return i;throw i}}destroy(){Aa(this),this._destroyed=!0;let e=Y(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Y(e)}}onDestroy(e){return Aa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Aa(this);let t=Dn(this),r=Mt(void 0),i;try{return e()}finally{Dn(t),Mt(r)}}get(e,t=vi,r){if(Aa(this),e.hasOwnProperty(h0))return e[h0](this);let i=Ei(r),o,s=Dn(this),c=Mt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=oP(e)&&Ra(e);h&&this.injectableDefInScope(h)?l=Fo(qp(e),yl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Oa():this.parent;return t=i&8&&t===vi?null:t,u.get(e,t)}catch(u){let l=GR(u);throw l===-200||l===-201?new $(l,null):u}finally{Mt(c),Dn(s)}}resolveInjectorInitializers(){let e=Y(null),t=Dn(this),r=Mt(void 0),i;try{let o=this.get(rr,Wt,{self:!0});for(let s of o)s()}finally{Dn(t),Mt(r),Y(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(tr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=pt(e);let t=Ii(e)?e:pt(e&&e.provide),r=nP(e);if(!Ii(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Fo(void 0,yl,!0),i.factory=()=>zp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Y(null);try{if(t.value===f0)throw sg(tr(e));return t.value===yl&&(t.value=f0,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&iP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Y(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=pt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function qp(n){let e=Ra(n),t=e!==null?e.factory:Rr(n);if(t!==null)return t;if(n instanceof q)throw new $(204,!1);if(n instanceof Function)return tP(n);throw new $(204,!1)}function tP(n){if(n.length>0)throw new $(204,!1);let t=HR(n);return t!==null?()=>t.factory(n):()=>new n}function nP(n){if(A0(n))return Fo(void 0,n.useValue);{let e=gg(n);return Fo(e,yl)}}function gg(n,e,t){let r;if(Ii(n)){let i=pt(n);return Rr(i)||qp(i)}else if(A0(n))r=()=>pt(n.useValue);else if(eP(n))r=()=>n.useFactory(...zp(n.deps||[]));else if(XR(n))r=(i,o)=>K(pt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=pt(n&&(n.useClass||n.provide));if(rP(n))r=()=>new i(...zp(n.deps));else return Rr(i)||qp(i)}return r}function Aa(n){if(n.destroyed)throw new $(205,!1)}function Fo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function rP(n){return!!n.deps}function iP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function oP(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Gp(n,e){for(let t of n)Array.isArray(t)?Gp(t,e):t&&tg(t)?Gp(t.\u0275providers,e):e(t)}function nt(n,e){let t;n instanceof wi?(Aa(n),t=n):t=new Hp(n);let r,i=Dn(t),o=Mt(void 0);try{return e()}finally{Dn(i),Mt(o)}}function M0(){return v0()!==void 0||Nu()!=null}var mn=0,G=1,J=2,tt=3,tn=4,nn=5,Uo=6,jo=7,$e=8,ir=9,An=10,xe=11,Bo=12,mg=13,Di=14,Kt=15,Fr=16,Ti=17,xn=18,ka=19,yg=20,er=21,Tl=22,Fa=23,Qt=24,Sl=25,Si=26,Ue=27,R0=1,vg=6,Lr=7,La=8,Ai=9,je=10;function Mn(n){return Array.isArray(n)&&typeof n[R0]=="object"}function yn(n){return Array.isArray(n)&&n[R0]===!0}function _g(n){return(n.flags&4)!==0}function Vr(n){return n.componentOffset>-1}function $o(n){return(n.flags&1)===1}function Rn(n){return!!n.template}function Ho(n){return(n[J]&512)!==0}function xi(n){return(n[J]&256)===256}var Eg="svg",P0="math";function rn(n){for(;Array.isArray(n);)n=n[mn];return n}function Ig(n,e){return rn(e[n])}function Pn(n,e){return rn(e[n.index])}function Va(n,e){return n.data[e]}function wg(n,e){return n[e]}function bg(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function on(n,e){let t=e[n];return Mn(t)?t:t[mn]}function N0(n){return(n[J]&4)===4}function Al(n){return(n[J]&128)===128}function O0(n){return yn(n[tt])}function sn(n,e){return e==null?null:n[e]}function Cg(n){n[Ti]=0}function Dg(n){n[J]&1024||(n[J]|=1024,Al(n)&&ja(n))}function k0(n,e){for(;n>0;)e=e[Di],n--;return e}function Ua(n){return!!(n[J]&9216||n[Qt]?.dirty)}function xl(n){n[An].changeDetectionScheduler?.notify(8),n[J]&64&&(n[J]|=1024),Ua(n)&&ja(n)}function ja(n){n[An].changeDetectionScheduler?.notify(0);let e=Pr(n);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Al(e)));)e=Pr(e)}function Tg(n,e){if(xi(n))throw new $(911,!1);n[er]===null&&(n[er]=[]),n[er].push(e)}function F0(n,e){if(n[er]===null)return;let t=n[er].indexOf(e);t!==-1&&n[er].splice(t,1)}function Pr(n){let e=n[tt];return yn(e)?e[tt]:e}function Sg(n){return n[jo]??=[]}function Ag(n){return n.cleanup??=[]}function L0(n,e,t,r){let i=Sg(e);i.push(t),n.firstCreatePass&&Ag(n).push(r,i.length-1)}var se={lFrame:J0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Wp=!1;function V0(){return se.lFrame.elementDepthCount}function U0(){se.lFrame.elementDepthCount++}function xg(){se.lFrame.elementDepthCount--}function Ml(){return se.bindingsEnabled}function j0(){return se.skipHydrationRootTNode!==null}function Mg(n){return se.skipHydrationRootTNode===n}function Rg(){se.skipHydrationRootTNode=null}function ue(){return se.lFrame.lView}function He(){return se.lFrame.tView}function zo(n){return se.lFrame.contextLView=n,n[$e]}function qo(n){return se.lFrame.contextLView=null,n}function mt(){let n=Pg();for(;n!==null&&n.type===64;)n=n.parent;return n}function Pg(){return se.lFrame.currentTNode}function B0(){let n=se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Go(n,e){let t=se.lFrame;t.currentTNode=n,t.isParent=e}function Ng(){return se.lFrame.isParent}function $0(){se.lFrame.isParent=!1}function H0(){return se.lFrame.contextLView}function Og(){return Wp}function kg(n){let e=Wp;return Wp=n,e}function z0(){let n=se.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function q0(n){return se.lFrame.bindingIndex=n}function Mi(){return se.lFrame.bindingIndex++}function G0(n){let e=se.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function W0(){return se.lFrame.inI18n}function K0(n,e){let t=se.lFrame;t.bindingIndex=t.bindingRootIndex=n,Rl(e)}function Q0(){return se.lFrame.currentDirectiveIndex}function Rl(n){se.lFrame.currentDirectiveIndex=n}function Y0(n){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Fg(){return se.lFrame.currentQueryIndex}function Pl(n){se.lFrame.currentQueryIndex=n}function sP(n){let e=n[G];return e.type===2?e.declTNode:e.type===1?n[nn]:null}function Lg(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=sP(o),i===null||(o=o[Di],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=se.lFrame=Z0();return r.currentTNode=e,r.lView=n,!0}function Nl(n){let e=Z0(),t=n[G];se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Z0(){let n=se.lFrame,e=n===null?null:n.child;return e===null?J0(n):e}function J0(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function X0(){let n=se.lFrame;return se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Vg=X0;function Ol(){let n=X0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function eb(n){return(se.lFrame.contextLView=k0(n,se.lFrame.contextLView))[$e]}function Ur(){return se.lFrame.selectedIndex}function jr(n){se.lFrame.selectedIndex=n}function kl(){let n=se.lFrame;return Va(n.tView,n.selectedIndex)}function Br(){se.lFrame.currentNamespace=Eg}function $r(){aP()}function aP(){se.lFrame.currentNamespace=null}function tb(){return se.lFrame.currentNamespace}var nb=!0;function Fl(){return nb}function Ba(n){nb=n}function Kp(n,e=null,t=null,r){let i=Ug(n,e,t,r);return i.resolveInjectorInitializers(),i}function Ug(n,e=null,t=null,r,i=new Set){let o=[t||Wt,T0(n)];return r=r||(typeof n=="object"?void 0:tr(n)),new wi(o,e||Oa(),r||null,i)}var gt=class n{static THROW_IF_NOT_FOUND=vi;static NULL=new Ma;static create(e,t){if(Array.isArray(e))return Kp({name:""},t,e,"");{let r=e.name??"";return Kp({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:n,providedIn:"any",factory:()=>K(ug)});static __NG_ELEMENT_ID__=-1},at=new q(""),or=(()=>{class n{static __NG_ELEMENT_ID__=cP;static __NG_ENV_ID__=t=>t}return n})(),Qp=class extends or{_lView;constructor(e){super(),this._lView=e}get destroyed(){return xi(this._lView)}onDestroy(e){let t=this._lView;return Tg(t,e),()=>F0(t,e)}};function cP(){return new Qp(ue())}var Tn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Rt=new q("",{providedIn:"root",factory:()=>{let n=R(et),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Tn),e.handleError(t))}}}),rb={provide:rr,useValue:()=>void R(Tn),multi:!0},uP=new q("",{providedIn:"root",factory:()=>{let n=R(at).defaultView;if(!n)return;let e=R(Rt),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),R(or).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function jg(){return Sn([D0(()=>void R(uP))])}function Bg(n){return typeof n=="function"&&n[bt]!==void 0}function Ne(n,e){let[t,r,i]=wp(n,e?.equal),o=t,s=o[bt];return o.set=r,o.update=i,o.asReadonly=ib.bind(o),o}function ib(){let n=this[bt];if(n.readonlyFn===void 0){let e=()=>this();e[bt]=n,n.readonlyFn=e}return n.readonlyFn}function $g(n){return Bg(n)&&typeof n.set=="function"}var Nr=class{},Ll=new q("",{providedIn:"root",factory:()=>!1});var Hg=new q(""),zg=new q(""),Nn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ft(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new re(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),Wo=(()=>{class n{internalPendingTasks=R(Nn);scheduler=R(Nr);errorHandler=R(Rt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})();function $a(...n){}var qg=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new Yp})}return n})(),Yp=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function es(n){return{toString:n}.toString()}var Vl="__parameters__";function mP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function yP(n,e,t){return es(()=>{let r=mP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,h){let p=u.hasOwnProperty(Vl)?u[Vl]:Object.defineProperty(u,Vl,{value:[]})[Vl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var ar=_0(yP("Optional"),8);function vP(n){return typeof n=="function"}var ql=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function kb(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var ts=(()=>{let n=()=>Fb;return n.ngInherit=!0,n})();function Fb(n){return n.type.prototype.ngOnChanges&&(n.setInput=EP),_P}function _P(){let n=Vb(this),e=n?.current;if(e){let t=n.previous;if(t===Or)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function EP(n,e,t,r,i){let o=this.declaredInputs[r],s=Vb(n)||IP(n,{previous:Or,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new ql(l&&l.currentValue,t,u===Or),kb(n,e,i,t)}var Lb="__ngSimpleChanges__";function Vb(n){return n[Lb]||null}function IP(n,e){return n[Lb]=e}var ob=[];var Te=function(n,e=null,t){for(let r=0;r<ob.length;r++){let i=ob[r];i(n,e,t)}};function wP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Fb(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Ub(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function jl(n,e,t){jb(n,e,3,t)}function Bl(n,e,t,r){(n[J]&3)===t&&jb(n,e,t,r)}function Gg(n,e){let t=n[J];(t&3)===e&&(t&=16383,t+=1,n[J]=t)}function jb(n,e,t,r){let i=r!==void 0?n[Ti]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[Ti]+=65536),(c<o||o==-1)&&(bP(n,t,e,u),n[Ti]=(n[Ti]&4294901760)+u+2),u++}function sb(n,e){Te(4,n,e);let t=Y(null);try{e.call(n)}finally{Y(t),Te(5,n,e)}}function bP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[J]>>14<n[Ti]>>16&&(n[J]&3)===e&&(n[J]+=16384,sb(c,o)):sb(c,o)}var Qo=-1,Pi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function CP(n){return(n.flags&8)!==0}function DP(n){return(n.flags&16)!==0}function TP(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];AP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function SP(n){return n===3||n===4||n===6}function AP(n){return n.charCodeAt(0)===64}function Yo(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?ab(n,t,i,null,e[++r]):ab(n,t,i,null,null))}}return n}function ab(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function Bb(n){return n!==Qo}function Gl(n){return n&32767}function xP(n){return n>>16}function Wl(n,e){let t=xP(n),r=e;for(;t>0;)r=r[Di],t--;return r}var nm=!0;function Kl(n){let e=nm;return nm=n,e}var MP=256,$b=MP-1,Hb=5,RP=0,On={};function PP(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ci)&&(r=t[Ci]),r==null&&(r=t[Ci]=RP++);let i=r&$b,o=1<<i;e.data[n+(i>>Hb)]|=o}function Ql(n,e){let t=zb(n,e);if(t!==-1)return t;let r=e[G];r.firstCreatePass&&(n.injectorIndex=e.length,Wg(r.data,n),Wg(e,null),Wg(r.blueprint,null));let i=Nm(n,e),o=n.injectorIndex;if(Bb(i)){let s=Gl(i),c=Wl(i,e),u=c[G].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Wg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function zb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Nm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Qb(i),r===null)return Qo;if(t++,i=i[Di],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Qo}function rm(n,e,t){PP(n,e,t)}function qb(n,e,t){if(t&8||n!==void 0)return n;bl(e,"NodeInjector")}function Gb(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[ir],o=Mt(void 0);try{return i?i.get(e,r,t&8):ag(e,r,t&8)}finally{Mt(o)}}return qb(r,e,t)}function Wb(n,e,t,r=0,i){if(n!==null){if(e[J]&2048&&!(r&2)){let s=FP(n,e,t,r,On);if(s!==On)return s}let o=Kb(n,e,t,r,On);if(o!==On)return o}return Gb(e,t,r,i)}function Kb(n,e,t,r,i){let o=OP(t);if(typeof o=="function"){if(!Lg(e,n,r))return r&1?qb(i,t,r):Gb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))bl(t);else return s}finally{Vg()}}else if(typeof o=="number"){let s=null,c=zb(n,e),u=Qo,l=r&1?e[Kt][nn]:null;for((c===-1||r&4)&&(u=c===-1?Nm(n,e):e[c+8],u===Qo||!ub(r,!1)?c=-1:(s=e[G],c=Gl(u),e=Wl(u,e)));c!==-1;){let h=e[G];if(cb(o,c,h.data)){let p=NP(c,e,t,s,r,l);if(p!==On)return p}u=e[c+8],u!==Qo&&ub(r,e[G].data[c+8]===l)&&cb(o,c,e)?(s=h,c=Gl(u),e=Wl(u,e)):c=-1}}return i}function NP(n,e,t,r,i,o){let s=e[G],c=s.data[n+8],u=r==null?Vr(c)&&nm:r!=s&&(c.type&3)!==0,l=i&1&&o===c,h=$l(c,s,t,u,l);return h!==null?qa(e,s,h,c,i):On}function $l(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?c:c+h,m=i?c+h:l;for(let y=p;y<m;y++){let T=s[y];if(y<u&&t===T||y>=u&&T.type===t)return y}if(i){let y=s[u];if(y&&Rn(y)&&y.type===t)return u}return null}function qa(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Pi){let c=o;if(c.resolving){let y=g0(s[t]);throw sg(y)}let u=Kl(c.canSeeViewProviders);c.resolving=!0;let l=s[t].type||s[t],h,p=c.injectImpl?Mt(c.injectImpl):null,m=Lg(n,r,0);try{o=n[t]=c.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&wP(t,s[t],e)}finally{p!==null&&Mt(p),Kl(u),c.resolving=!1,Vg()}}return o}function OP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ci)?n[Ci]:void 0;return typeof e=="number"?e>=0?e&$b:kP:e}function cb(n,e,t){let r=1<<n;return!!(t[e+(n>>Hb)]&r)}function ub(n,e){return!(n&2)&&!(n&1&&e)}var Ri=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Wb(this._tNode,this._lView,e,Ei(r),t)}};function kP(){return new Ri(mt(),ue())}function ns(n){return es(()=>{let e=n.prototype.constructor,t=e[xa]||im(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[xa]||im(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function im(n){return Xp(n)?()=>{let e=im(pt(n));return e&&e()}:Rr(n)}function FP(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!Ho(s);){let c=Kb(o,s,t,r|2,On);if(c!==On)return c;let u=o.parent;if(!u){let l=s[yg];if(l){let h=l.get(t,On,r);if(h!==On)return h}u=Qb(s),s=s[Di]}o=u}return i}function Qb(n){let e=n[G],t=e.type;return t===2?e.declTNode:t===1?n[nn]:null}function LP(){return rs(mt(),ue())}function rs(n,e){return new it(Pn(n,e))}var it=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=LP}return n})();function VP(n){return n instanceof it?n.nativeElement:n}function UP(){return this._results[Symbol.iterator]()}var Yl=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new We}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=I0(e);(this._changesDetected=!E0(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=UP};function Yb(n){return(n.flags&128)===128}var Om=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Om||{}),Zb=new Map,jP=0;function BP(){return jP++}function $P(n){Zb.set(n[ka],n)}function om(n){Zb.delete(n[ka])}var lb="__ngContext__";function Zo(n,e){Mn(e)?(n[lb]=e[ka],$P(e)):n[lb]=e}function Jb(n){return eC(n[Bo])}function Xb(n){return eC(n[tn])}function eC(n){for(;n!==null&&!yn(n);)n=n[tn];return n}var sm;function km(n){sm=n}function tC(){if(sm!==void 0)return sm;if(typeof document<"u")return document;throw new $(210,!1)}var dd=new q("",{providedIn:"root",factory:()=>HP}),HP="ng",hd=new q(""),Li=new q("",{providedIn:"platform",factory:()=>"unknown"});var fd=new q("",{providedIn:"root",factory:()=>tC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var zP="h",qP="b";var nC="r";var rC="di";var iC=!1,oC=new q("",{providedIn:"root",factory:()=>iC});var GP=(n,e,t,r)=>{};function WP(n,e,t,r){GP(n,e,t,r)}function Fm(n){return(n.flags&32)===32}var KP=()=>null;function sC(n,e,t=!1){return KP(n,e,t)}function aC(n,e){let t=n.contentQueries;if(t!==null){let r=Y(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];Pl(o),c.contentQueries(2,e[s],s)}}}finally{Y(r)}}}function am(n,e,t){Pl(0);let r=Y(null);try{e(n,t)}finally{Y(r)}}function Lm(n,e,t){if(_g(e)){let r=Y(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{Y(r)}}}var sr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(sr||{});var Zl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${El})`}};function Vm(n){return n instanceof Zl?n.changingThisBreaksApplicationSecurity:n}function cC(n,e){let t=uC(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${El})`)}return t===e}function uC(n){return n instanceof Zl&&n.getTypeName()||null}var QP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function lC(n){return n=String(n),n.match(QP)?n:"unsafe:"+n}var YP=/^>|^->|<!--|-->|--!>|<!-$/g,ZP=/(<|>)/g,JP="\u200B$1\u200B";function XP(n){return n.replace(YP,e=>e.replace(ZP,JP))}function eN(n,e){return n.createText(e)}function tN(n,e,t){n.setValue(e,t)}function nN(n,e){return n.createComment(XP(e))}function dC(n,e,t){return n.createElement(e,t)}function Jl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function hC(n,e,t){n.appendChild(e,t)}function db(n,e,t,r,i){r!==null?Jl(n,e,t,r,i):hC(n,e,t)}function fC(n,e,t,r){n.removeChild(null,e,t,r)}function rN(n,e,t){n.setAttribute(e,"style",t)}function iN(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function pC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&TP(n,e,r),i!==null&&iN(n,e,i),o!==null&&rN(n,e,o)}var Um=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Um||{});function Ct(n){let e=oN();return e?e.sanitize(Um.URL,n)||"":cC(n,"URL")?Vm(n):lC(wl(n))}function oN(){let n=ue();return n&&n[An].sanitizer}function Fn(n){return n.ownerDocument.defaultView}function pd(n){return n.ownerDocument}function gC(n){return n instanceof Function?n():n}function sN(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var mC="ng-template";function aN(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&sN(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(jm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function jm(n){return n.type===4&&n.value!==mC}function cN(n,e,t){let r=n.type===4&&!t?mC:n.value;return e===r}function uN(n,e,t){let r=4,i=n.attrs,o=i!==null?hN(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!vn(r)&&!vn(u))return!1;if(s&&vn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!cN(n,u,t)||u===""&&e.length===1){if(vn(r))return!1;s=!0}}else if(r&8){if(i===null||!aN(n,i,u,t)){if(vn(r))return!1;s=!0}}else{let l=e[++c],h=lN(u,i,jm(n),t);if(h===-1){if(vn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(vn(r))return!1;s=!0}}}}return vn(r)||s}function vn(n){return(n&1)===0}function lN(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return fN(e,n)}function dN(n,e,t=!1){for(let r=0;r<e.length;r++)if(uN(n,e[r],t))return!0;return!1}function hN(n){for(let e=0;e<n.length;e++){let t=n[e];if(SP(t))return e}return n.length}function fN(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function hb(n,e){return n?":not("+e.trim()+")":e}function pN(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!vn(s)&&(e+=hb(o,i),i=""),r=s,o=o||!vn(r);t++}return i!==""&&(e+=hb(o,i)),e}function gN(n){return n.map(pN).join(",")}function mN(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!vn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Ln={};function Bm(n,e,t,r,i,o,s,c,u,l,h){let p=Ue+r,m=p+i,y=yN(p,m),T=typeof l=="function"?l():l;return y[G]={type:n,blueprint:y,template:t,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function yN(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ln);return t}function vN(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Bm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function $m(n,e,t,r,i,o,s,c,u,l,h){let p=e.blueprint.slice();return p[mn]=i,p[J]=r|4|128|8|64|1024,(l!==null||n&&n[J]&2048)&&(p[J]|=2048),Cg(p),p[tt]=p[Di]=n,p[$e]=t,p[An]=s||n&&n[An],p[xe]=c||n&&n[xe],p[ir]=u||n&&n[ir]||null,p[nn]=o,p[ka]=BP(),p[Uo]=h,p[yg]=l,p[Kt]=e.type==2?n[Kt]:p,p}function _N(n,e,t){let r=Pn(e,n),i=vN(t),o=n[An].rendererFactory,s=Hm(n,$m(n,i,null,yC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function yC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function vC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Hm(n,e){return n[Bo]?n[mg][tn]=e:n[Bo]=e,n[mg]=e,e}function B(n=1){_C(He(),ue(),Ur()+n,!1)}function _C(n,e,t,r){if(!r)if((e[J]&3)===3){let o=n.preOrderCheckHooks;o!==null&&jl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Bl(e,o,0,t)}jr(t)}var gd=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(gd||{});function cm(n,e,t,r){let i=Y(null);try{let[o,s,c]=n.inputs[t],u=null;(s&gd.SignalBased)!==0&&(u=e[o][bt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):kb(e,u,o,r)}finally{Y(i)}}var kn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(kn||{}),EN;function zm(n,e){return EN(n,e)}var Ni=new Set,qm=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(qm||{}),Za=new q(""),fb=new Set;function Vi(n){fb.has(n)||(fb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var EC=!1,um=class extends We{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,M0()&&(this.destroyRef=R(or,{optional:!0})??void 0,this.pendingTasks=R(Nn,{optional:!0})??void 0)}emit(e){let t=Y(null);try{super.next(e)}finally{Y(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Ve&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},rt=um;function IC(n){let e,t;function r(){n=$a;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function pb(n){return queueMicrotask(()=>n()),()=>{n=$a}}var Gm="isAngularZone",Xl=Gm+"_ID",IN=0,Se=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new rt(!1);onMicrotaskEmpty=new rt(!1);onStable=new rt(!1);onError=new rt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=EC}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,CN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Gm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,wN,$a,$a);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},wN={};function Wm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function bN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){IC(()=>{n.callbackScheduled=!1,lm(n),n.isCheckStableRunning=!0,Wm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),lm(n)}function CN(n){let e=()=>{bN(n)},t=IN++;n._inner=n._inner.fork({name:"angular",properties:{[Gm]:!0,[Xl]:t,[Xl+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(DN(u))return r.invokeTask(o,s,c,u);try{return gb(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),mb(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return gb(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!TN(u)&&e(),mb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,lm(n),Wm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function lm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function gb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mb(n){n._nesting--,Wm(n)}var ed=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new rt;onMicrotaskEmpty=new rt;onStable=new rt;onError=new rt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function DN(n){return wC(n,"__ignore_ng_zone__")}function TN(n){return wC(n,"__scheduler_tick__")}function wC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var bC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})();var CC=new q("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function DC(n,e,t){let r=n.get(CC);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function SN(n,e){let t=n.get(CC);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)t.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function AN(n,e){for(let[t,r]of e)DC(n,r.animateFns)}function yb(n,e,t,r){let i=n?.[Si]?.enter;e!==null&&i&&i.has(t.index)&&AN(r,i)}function Ko(n,e,t,r,i,o,s,c){if(i!=null){let u,l=!1;yn(i)?u=i:Mn(i)&&(l=!0,i=i[mn]);let h=rn(i);n===0&&r!==null?(yb(c,r,o,t),s==null?hC(e,r,h):Jl(e,r,h,s||null,!0)):n===1&&r!==null?(yb(c,r,o,t),Jl(e,r,h,s||null,!0)):n===2?vb(c,o,t,p=>{fC(e,h,l,p)}):n===3&&vb(c,o,t,()=>{e.destroyNode(h)}),u!=null&&BN(e,n,t,u,o,r,s)}}function xN(n,e){TC(n,e),e[mn]=null,e[nn]=null}function MN(n,e,t,r,i,o){r[mn]=i,r[nn]=e,yd(n,r,t,1,i,o)}function TC(n,e){e[An].changeDetectionScheduler?.notify(9),yd(n,e,e[xe],2,null,null)}function RN(n){let e=n[Bo];if(!e)return Kg(n[G],n);for(;e;){let t=null;if(Mn(e))t=e[Bo];else{let r=e[je];r&&(t=r)}if(!t){for(;e&&!e[tn]&&e!==n;)Mn(e)&&Kg(e[G],e),e=e[tt];e===null&&(e=n),Mn(e)&&Kg(e[G],e),t=e&&e[tn]}e=t}}function Km(n,e){let t=n[Ai],r=t.indexOf(e);t.splice(r,1)}function md(n,e){if(xi(e))return;let t=e[xe];t.destroyNode&&yd(n,e,t,3,null,null),RN(e)}function Kg(n,e){if(xi(e))return;let t=Y(null);try{e[J]&=-129,e[J]|=256,e[Qt]&&ba(e[Qt]),ON(n,e),NN(n,e),e[G].type===1&&e[xe].destroy();let r=e[Fr];if(r!==null&&yn(e[tt])){r!==e[tt]&&Km(r,e);let i=e[xn];i!==null&&i.detachView(n)}om(e)}finally{Y(t)}}function vb(n,e,t,r){let i=n?.[Si];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&Ni.add(n),DC(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),c=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();c.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(c),PN(n,r)}else n&&Ni.delete(n),r(!1)},i)}function PN(n,e){let t=n[Si]?.running;if(t){t.then(()=>{n[Si].running=void 0,Ni.delete(n),e(!0)});return}e(!1)}function NN(n,e){let t=n.cleanup,r=e[jo];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[jo]=null);let i=e[er];if(i!==null){e[er]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Fa];if(o!==null){e[Fa]=null;for(let s of o)s.destroy()}}function ON(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Pi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];Te(4,c,u);try{u.call(c)}finally{Te(5,c,u)}}else{Te(4,i,o);try{o.call(i)}finally{Te(5,i,o)}}}}}function kN(n,e,t){return FN(n,e.parent,t)}function FN(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[mn];if(Vr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===sr.None||i===sr.Emulated)return null}return Pn(r,t)}function LN(n,e,t){return UN(n,e,t)}function VN(n,e,t){return n.type&40?Pn(n,t):null}var UN=VN,_b;function Qm(n,e,t,r){let i=kN(n,r,e),o=e[xe],s=r.parent||e[nn],c=LN(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)db(o,i,t[u],c,!1);else db(o,i,t,c,!1);_b!==void 0&&_b(o,r,e,t,i)}function Ha(n,e){if(e!==null){let t=e.type;if(t&3)return Pn(e,n);if(t&4)return dm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ha(n,r);{let i=n[e.index];return yn(i)?dm(-1,i):rn(i)}}else{if(t&128)return Ha(n,e.next);if(t&32)return zm(e,n)()||rn(n[e.index]);{let r=SC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Pr(n[Kt]);return Ha(i,r)}else return Ha(n,e.next)}}}return null}function SC(n,e){if(e!==null){let r=n[Kt][nn],i=e.projection;return r.projection[i]}return null}function dm(n,e){let t=je+n+1;if(t<e.length){let r=e[t],i=r[G].firstChild;if(i!==null)return Ha(r,i)}return e[Lr]}function Ym(n,e,t,r,i,o,s){for(;t!=null;){let c=r[ir];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&Zo(rn(u),r),t.flags|=2),!Fm(t))if(l&8)Ym(n,e,t.child,r,i,o,!1),Ko(e,n,c,i,u,t,o,r);else if(l&32){let h=zm(t,r),p;for(;p=h();)Ko(e,n,c,i,p,t,o,r);Ko(e,n,c,i,u,t,o,r)}else l&16?jN(n,e,r,t,i,o):Ko(e,n,c,i,u,t,o,r);t=s?t.projectionNext:t.next}}function yd(n,e,t,r,i,o){Ym(t,r,n.firstChild,e,i,o,!1)}function jN(n,e,t,r,i,o){let s=t[Kt],u=s[nn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ko(e,n,t[ir],i,h,r,o,t)}else{let l=u,h=s[tt];Yb(r)&&(l.flags|=128),Ym(n,e,l,h,i,o,!0)}}function BN(n,e,t,r,i,o,s){let c=r[Lr],u=rn(r);c!==u&&Ko(e,n,t,o,c,i,s);for(let l=je;l<r.length;l++){let h=r[l];yd(h[G],h,n,e,o,c)}}function $N(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:kn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=kn.Important),n.setStyle(t,r,i,o))}}function AC(n,e,t,r,i){let o=Ur(),s=r&2;try{jr(-1),s&&e.length>Ue&&_C(n,e,Ue,!1),Te(s?2:0,i,t),t(r,i)}finally{jr(o),Te(s?3:1,i,t)}}function vd(n,e,t){KN(n,e,t),(t.flags&64)===64&&QN(n,e,t)}function Ja(n,e,t=Pn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function HN(n,e,t,r){let o=r.get(oC,iC)||t===sr.ShadowDom,s=n.selectRootElement(e,o);return zN(s),s}function zN(n){qN(n)}var qN=()=>null;function GN(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function xC(n,e,t,r,i,o){let s=e[G];if(ey(n,s,e,t,r)){Vr(n)&&WN(e,n.index);return}n.type&3&&(t=GN(t)),MC(n,e,t,r,i,o)}function MC(n,e,t,r,i,o){if(n.type&3){let s=Pn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function WN(n,e){let t=on(e,n);t[J]&16||(t[J]|=64)}function KN(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Vr(t)&&_N(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Ql(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=qa(e,n,s,t);if(Zo(u,e),o!==null&&ZN(e,s-r,u,c,t,o),Rn(c)){let l=on(t.index,e);l[$e]=qa(e,n,s,t)}}}function QN(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Q0();try{jr(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];Rl(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&YN(u,l)}}finally{jr(-1),Rl(s)}}function YN(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Zm(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];dN(e,o.selectors,!1)&&(r??=[],Rn(o)?r.unshift(o):r.push(o))}return r}function ZN(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];cm(r,t,u,l)}}function Jm(n,e,t,r,i){let o=Ue+t,s=e[G],c=i(s,e,n,r,t);e[o]=c,Go(n,!0);let u=n.type===2;return u?(pC(e[xe],c,n),(V0()===0||$o(n))&&Zo(c,e),U0()):Zo(c,e),Fl()&&(!u||!Fm(n))&&Qm(s,e,c,n),n}function Xm(n){let e=n;return Ng()?$0():(e=e.parent,Go(e,!1)),e}function JN(n,e){let t=n[ir];if(!t)return;let r;try{r=t.get(Rt,null)}catch{r=null}r?.(e)}function ey(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];cm(p,t[l],h,i),c=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];cm(h,l,r,i),c=!0}return c}function XN(n,e){let t=on(e,n),r=t[G];e1(r,t);let i=t[mn];i!==null&&t[Uo]===null&&(t[Uo]=sC(i,t[ir])),Te(18),ty(r,t,t[$e]),Te(19,t[$e])}function e1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function ty(n,e,t){Nl(e);try{let r=n.viewQuery;r!==null&&am(1,r,t);let i=n.template;i!==null&&AC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[xn]?.finishViewCreation(n),n.staticContentQueries&&aC(n,e),n.staticViewQueries&&am(2,n.viewQuery,t);let o=n.components;o!==null&&t1(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[J]&=-5,Ol()}}function t1(n,e){for(let t=0;t<e.length;t++)XN(n,e[t])}function _d(n,e,t,r){let i=Y(null);try{let o=e.tView,c=n[J]&4096?4096:16,u=$m(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Fr]=l;let h=n[xn];return h!==null&&(u[xn]=h.createEmbeddedView(o)),ty(o,u,t),u}finally{Y(i)}}function Ga(n,e){return!e||e.firstChild===null||Yb(n)}function Wa(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(rn(o)),yn(o)&&RC(o,r);let s=t.type;if(s&8)Wa(n,e,t.child,r);else if(s&32){let c=zm(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=SC(e,t);if(Array.isArray(c))r.push(...c);else{let u=Pr(e[Kt]);Wa(u[G],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function RC(n,e){for(let t=je;t<n.length;t++){let r=n[t],i=r[G].firstChild;i!==null&&Wa(r[G],r,i,e)}n[Lr]!==n[mn]&&e.push(n[Lr])}function PC(n){if(n[Sl]!==null){for(let e of n[Sl])e.impl.addSequence(e);n[Sl].length=0}}var NC=[];function n1(n){return n[Qt]??r1(n)}function r1(n){let e=NC.pop()??Object.create(o1);return e.lView=n,e}function i1(n){n.lView[Qt]!==n&&(n.lView=null,NC.push(n))}var o1=le(L({},mo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ja(n.lView)},consumerOnSignalRead(){this.lView[Qt]=this}});function s1(n){let e=n[Qt]??Object.create(a1);return e.lView=n,e}var a1=le(L({},mo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Pr(n.lView);for(;e&&!OC(e[G]);)e=Pr(e);e&&Dg(e)},consumerOnSignalRead(){this.lView[Qt]=this}});function OC(n){return n.type!==2}function kC(n){if(n[Fa]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Fa])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[J]&8192)}}var c1=100;function FC(n,e=0){let r=n[An].rendererFactory,i=!1;i||r.begin?.();try{u1(n,e)}finally{i||r.end?.()}}function u1(n,e){let t=Og();try{kg(!0),hm(n,e);let r=0;for(;Ua(n);){if(r===c1)throw new $(103,!1);r++,hm(n,1)}}finally{kg(t)}}function l1(n,e,t,r){if(xi(e))return;let i=e[J],o=!1,s=!1;Nl(e);let c=!0,u=null,l=null;o||(OC(n)?(l=n1(e),u=vo(l)):Vu()===null?(c=!1,l=s1(e),u=vo(l)):e[Qt]&&(ba(e[Qt]),e[Qt]=null));try{Cg(e),q0(n.bindingStartIndex),t!==null&&AC(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&jl(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Bl(e,y,0,null),Gg(e,0)}if(s||d1(e),kC(e),LC(e,0),n.contentQueries!==null&&aC(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&jl(e,y)}else{let y=n.contentHooks;y!==null&&Bl(e,y,1),Gg(e,1)}f1(n,e);let p=n.components;p!==null&&UC(e,p,0);let m=n.viewQuery;if(m!==null&&am(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&jl(e,y)}else{let y=n.viewHooks;y!==null&&Bl(e,y,2),Gg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Tl]){for(let y of e[Tl])y();e[Tl]=null}o||(PC(e),e[J]&=-73)}catch(h){throw o||ja(e),h}finally{l!==null&&(Ia(l,u),c&&i1(l)),Ol()}}function LC(n,e){for(let t=Jb(n);t!==null;t=Xb(t))for(let r=je;r<t.length;r++){let i=t[r];VC(i,e)}}function d1(n){for(let e=Jb(n);e!==null;e=Xb(e)){if(!(e[J]&2))continue;let t=e[Ai];for(let r=0;r<t.length;r++){let i=t[r];Dg(i)}}}function h1(n,e,t){Te(18);let r=on(e,n);VC(r,t),Te(19,r[$e])}function VC(n,e){Al(n)&&hm(n,e)}function hm(n,e){let r=n[G],i=n[J],o=n[Qt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&wa(o)),s||=!1,o&&(o.dirty=!1),n[J]&=-9217,s)l1(r,n,r.template,n[$e]);else if(i&8192){let c=Y(null);try{kC(n),LC(n,1);let u=r.components;u!==null&&UC(n,u,1),PC(n)}finally{Y(c)}}}function UC(n,e,t){for(let r=0;r<e.length;r++)h1(n,e[r],t)}function f1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)jr(~i);else{let o=i,s=t[++r],c=t[++r];K0(s,o);let u=e[o];Te(24,u),c(2,u),Te(25,u)}}}finally{jr(-1)}}function ny(n,e){let t=Og()?64:1088;for(n[An].changeDetectionScheduler?.notify(e);n;){n[J]|=t;let r=Pr(n);if(Ho(n)&&!r)return n;n=r}return null}function jC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function BC(n,e){let t=je+e;if(t<n.length)return n[t]}function Ed(n,e,t,r=!0){let i=e[G];if(p1(i,e,n,t),r){let s=dm(t,n),c=e[xe],u=c.parentNode(n[Lr]);u!==null&&MN(i,n[nn],c,e,u,s)}let o=e[Uo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function $C(n,e){let t=Ka(n,e);return t!==void 0&&md(t[G],t),t}function Ka(n,e){if(n.length<=je)return;let t=je+e,r=n[t];if(r){let i=r[Fr];i!==null&&i!==n&&Km(i,r),e>0&&(n[t-1][tn]=r[tn]);let o=Pa(n,je+e);xN(r[G],r);let s=o[xn];s!==null&&s.detachView(o[G]),r[tt]=null,r[tn]=null,r[J]&=-129}return r}function p1(n,e,t,r){let i=je+r,o=t.length;r>0&&(t[i-1][tn]=e),r<o-je?(e[tn]=t[i],cg(t,je+r,e)):(t.push(e),e[tn]=null),e[tt]=t;let s=e[Fr];s!==null&&t!==s&&HC(s,e);let c=e[xn];c!==null&&c.insertView(n),xl(e),e[J]|=128}function HC(n,e){let t=n[Ai],r=e[tt];if(Mn(r))n[J]|=2;else{let i=r[tt][Kt];e[Kt]!==i&&(n[J]|=2)}t===null?n[Ai]=[e]:t.push(e)}var Hr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[G];return Wa(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[$e]}set context(e){this._lView[$e]=e}get destroyed(){return xi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[tt];if(yn(e)){let t=e[La],r=t?t.indexOf(this):-1;r>-1&&(Ka(e,r),Pa(t,r))}this._attachedToViewContainer=!1}md(this._lView[G],this._lView)}onDestroy(e){Tg(this._lView,e)}markForCheck(){ny(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){xl(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,FC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ho(this._lView),t=this._lView[Fr];t!==null&&!e&&Km(t,this._lView),TC(this._lView[G],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let t=Ho(this._lView),r=this._lView[Fr];r!==null&&!t&&HC(r,this._lView),xl(this._lView)}};var zr=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=g1;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=_d(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Hr(o)}}return n})();function g1(){return Id(mt(),ue())}function Id(n,e){return n.type&4?new zr(e,n,rs(n,e)):null}function Xa(n,e,t,r,i){let o=n.data[e];if(o===null)o=m1(n,e,t,r,i),W0()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=B0();o.injectorIndex=s===null?-1:s.injectorIndex}return Go(o,!0),o}function m1(n,e,t,r,i){let o=Pg(),s=Ng(),c=s?o:o&&o.parent,u=n.data[e]=v1(n,c,t,e,r,i);return y1(n,u,o,s),u}function y1(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function v1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return j0()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var l9=new RegExp(`^(\\d+)*(${qP}|${zP})*(.*)`);function _1(n){let e=n[vg]??[],r=n[tt][xe],i=[];for(let o of e)o.data[rC]!==void 0?i.push(o):E1(o,r);n[vg]=i}function E1(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[nC];for(;t<i;){let o=r.nextSibling;fC(e,r,!1),r=o,t++}}}var I1=()=>null,w1=()=>null;function fm(n,e){return I1(n,e)}function zC(n,e,t){return w1(n,e,t)}var qC=class{},wd=class{},pm=class{resolveComponentFactory(e){throw new $(917,!1)}},ec=class{static NULL=new pm},Oi=class{},tc=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>b1()}return n})();function b1(){let n=ue(),e=mt(),t=on(e.index,n);return(Mn(t)?t:n)[xe]}var GC=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>null})}return n})();var Hl={},gm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Hl,r);return i!==Hl||t===Hl?i:this.parentInjector.get(e,t,r)}};function td(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Jp(i,c);else if(o==2){let u=c,l=e[++s];r=Jp(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function X(n,e=0){let t=ue();if(t===null)return K(n,e);let r=mt();return Wb(r,t,pt(n),e)}function WC(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[c,u,l]=h.resolveHostDirectives(s);break}T1(n,e,t,c,o,u,l)}o!==null&&r!==null&&C1(t,r,o)}function C1(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}function D1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function T1(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&Rn(y)&&(u=!0,D1(n,t,m)),rm(Ql(t,e),n,y.type)}P1(t,n.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=vC(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(t.mergedAttrs=Yo(t.mergedAttrs,y.hostAttrs),A1(n,t,e,p,y),R1(p,y,i),s!==null&&s.has(y)){let[M,x]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,x+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let T=y.type.prototype;!l&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}S1(n,t,o)}function S1(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))Eb(0,e,i,r),Eb(1,e,i,r),wb(e,r,!1);else{let o=t.get(i);Ib(0,e,o,r),Ib(1,e,o,r),wb(e,r,!0)}}}function Eb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),KC(e,o)}}function Ib(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),KC(e,s)}}function KC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function wb(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||jm(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function A1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Rr(i.type,!0)),s=new Pi(o,Rn(i),X,null);n.blueprint[r]=s,t[r]=s,x1(n,e,r,vC(n,t,i.hostVars,Ln),i)}function x1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;M1(s)!=c&&s.push(c),s.push(t,r,o)}}function M1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function R1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Rn(e)&&(t[""]=n)}}function P1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function ry(n,e,t,r,i,o,s,c){let u=e[G],l=u.consts,h=sn(l,s),p=Xa(u,n,t,r,h);return o&&WC(u,e,p,sn(l,c),i),p.mergedAttrs=Yo(p.mergedAttrs,p.attrs),p.attrs!==null&&td(p,p.attrs,!1),p.mergedAttrs!==null&&td(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function iy(n,e){Ub(n,e),_g(e)&&n.queries.elementEnd(e)}function N1(n,e,t,r,i,o){let s=e.consts,c=sn(s,i),u=Xa(e,n,t,r,c);if(u.mergedAttrs=Yo(u.mergedAttrs,u.attrs),o!=null){let l=sn(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&td(u,u.attrs,!1),u.mergedAttrs!==null&&td(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function oy(n){return YC(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function QC(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function YC(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function O1(n,e,t){return n[e]=t}function qr(n,e,t){if(t===Ln)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function zl(n,e,t){return function r(i){let o=Vr(n)?on(n.index,e):e;ny(o,5);let s=e[$e],c=bb(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)c=bb(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function bb(n,e,t,r){let i=Y(null);try{return Te(6,e,t),t(r)!==!1}catch(o){return JN(n,o),!1}finally{Te(7,e,t),Y(i)}}function ZC(n,e,t,r,i,o,s,c){let u=$o(n),l=!1,h=null;if(!r&&u&&(h=F1(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Pn(n,t),m=r?r(p):p;WP(t,m,o,c);let y=i.listen(m,o,c);if(!k1(o)){let T=r?M=>r(rn(M[n.index])):n.index;JC(T,e,t,o,c,y,!1)}}return l}function k1(n){return n.startsWith("animation")||n.startsWith("transition")}function F1(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[jo],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function JC(n,e,t,r,i,o,s){let c=e.firstCreatePass?Ag(e):null,u=Sg(t),l=u.length;u.push(i,o),c&&c.push(r,n,l,(l+1)*(s?-1:1))}function Cb(n,e,t,r,i,o){let s=e[t],c=e[G],l=c.data[t].outputs[r],p=s[l].subscribe(o);JC(n.index,c,e,i,o,p,!0)}var mm=Symbol("BINDING");var nd=class extends ec{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=kr(e);return new Jo(t,this.ngModule)}};function L1(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&gd.SignalBased)!==0};return i&&(o.transform=i),o})}function V1(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function U1(n,e,t){let r=e instanceof et?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new gm(t,r):t}function j1(n){let e=n.get(Oi,null);if(e===null)throw new $(407,!1);let t=n.get(GC,null),r=n.get(Nr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function B1(n,e){let t=XC(n);return dC(e,t,t==="svg"?Eg:t==="math"?P0:null)}function XC(n){return(n.selectors[0][0]||"div").toLowerCase()}var Jo=class extends wd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=L1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=V1(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=gN(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Te(22);let c=Y(null);try{let u=this.componentDef,l=$1(r,u,s,o),h=U1(u,i||this.ngModule,e),p=j1(h),m=p.rendererFactory.createRenderer(null,u),y=r?HN(m,r,u.encapsulation,h):B1(u,m),T=s?.some(Db)||o?.some(V=>typeof V!="function"&&V.bindings.some(Db)),M=$m(null,l,null,512|yC(u),null,null,p,m,h,null,sC(y,h,!0));M[Ue]=y,Nl(M);let x=null;try{let V=ry(Ue,M,2,"#host",()=>l.directiveRegistry,!0,0);pC(m,y,V),Zo(y,M),vd(l,M,V),Lm(l,V,M),iy(l,V),t!==void 0&&z1(V,this.ngContentSelectors,t),x=on(V.index,M),M[$e]=x[$e],ty(l,M,null)}catch(V){throw x!==null&&om(x),om(M),V}finally{Te(23),Ol()}return new rd(this.componentType,M,!!T)}finally{Y(c)}}};function $1(n,e,t,r){let i=n?["ng-version","20.3.16"]:mN(e.selectors[0]),o=null,s=null,c=0;if(t)for(let h of t)c+=h[mm].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){c+=m[mm].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=hg(p);u.push(m)}return Bm(0,null,H1(o,s),1,c,u,null,null,null,[i],null)}function H1(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function Db(n){let e=n[mm].kind;return e==="input"||e==="twoWay"}var rd=class extends qC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Va(t[G],Ue),this.location=rs(this._tNode,t),this.instance=on(this._tNode.index,t)[$e],this.hostView=this.changeDetectorRef=new Hr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=ey(r,i[G],i,e,t);this.previousInputValues.set(e,t);let s=on(r.index,i);ny(s,1)}get injector(){return new Ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function z1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var cr=(()=>{class n{static __NG_ELEMENT_ID__=q1}return n})();function q1(){let n=mt();return tD(n,ue())}var G1=cr,eD=class extends G1{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return rs(this._hostTNode,this._hostLView)}get injector(){return new Ri(this._hostTNode,this._hostLView)}get parentInjector(){let e=Nm(this._hostTNode,this._hostLView);if(Bb(e)){let t=Wl(e,this._hostLView),r=Gl(e),i=t[G].data[r+8];return new Ri(i,t)}else return new Ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Tb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-je}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=fm(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,Ga(this._hostTNode,s)),c}createComponent(e,t,r,i,o,s,c){let u=e&&!vP(e),l;if(u)l=t;else{let x=t||{};l=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef,s=x.directives,c=x.bindings}let h=u?e:new Jo(kr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let V=(u?p:this.parentInjector).get(et,null);V&&(o=V)}let m=kr(h.componentType??{}),y=fm(this._lContainer,m?.id??null),T=y?.firstChild??null,M=h.create(p,i,T,o,s,c);return this.insertImpl(M.hostView,l,Ga(this._hostTNode,y)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(O0(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[tt],l=new eD(u,u[nn],u[tt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Ed(s,i,o,r),e.attachToViewContainerRef(),cg(Qg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Tb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ka(this._lContainer,t);r&&(Pa(Qg(this._lContainer),t),md(r[G],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ka(this._lContainer,t);return r&&Pa(Qg(this._lContainer),t)!=null?new Hr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Tb(n){return n[La]}function Qg(n){return n[La]||(n[La]=[])}function tD(n,e){let t,r=e[n.index];return yn(r)?t=r:(t=jC(r,e,null,n),e[n.index]=t,Hm(e,t)),K1(t,e,n,r),new eD(t,n,e)}function W1(n,e){let t=n[xe],r=t.createComment(""),i=Pn(e,n),o=t.parentNode(i);return Jl(t,o,r,t.nextSibling(i),!1),r}var K1=Z1,Q1=()=>!1;function Y1(n,e,t){return Q1(n,e,t)}function Z1(n,e,t,r){if(n[Lr])return;let i;t.type&8?i=rn(r):i=W1(e,t),n[Lr]=i}var ym=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},vm=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)sy(e,t).matches!==null&&this.queries[t].setDirty()}},_m=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=oO(e):this.predicate=e}},Em=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Im=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,J1(t,o)),this.matchTNodeWithReadOption(e,t,$l(t,e,o,!1,!1))}else r===zr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,$l(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===it||i===cr||i===zr&&t.type&4)this.addMatch(t.index,-2);else{let o=$l(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function J1(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function X1(n,e){return n.type&11?rs(n,e):n.type&4?Id(n,e):null}function eO(n,e,t,r){return t===-1?X1(e,n):t===-2?tO(n,e,r):qa(n,n[G],t,e)}function tO(n,e,t){if(t===it)return rs(e,n);if(t===zr)return Id(e,n);if(t===cr)return tD(e,n)}function nD(n,e,t,r){let i=e[xn].queries[r];if(i.matches===null){let o=n.data,s=t.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)c.push(null);else{let h=o[l];c.push(eO(e,h,s[u+1],t.metadata.read))}}i.matches=c}return i.matches}function wm(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=nD(n,e,i,t);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let l=o[c+1],h=e[-u];for(let p=je;p<h.length;p++){let m=h[p];m[Fr]===m[tt]&&wm(m[G],m,l,r)}if(h[Ai]!==null){let p=h[Ai];for(let m=0;m<p.length;m++){let y=p[m];wm(y[G],y,l,r)}}}}}return r}function nO(n,e){return n[xn].queries[e].queryList}function rO(n,e,t){let r=new Yl((t&4)===4);return L0(n,e,r,r.destroy),(e[xn]??=new vm).queries.push(new ym(r))-1}function iO(n,e,t){let r=He();return r.firstCreatePass&&(sO(r,new _m(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),rO(r,ue(),e)}function oO(n){return n.split(",").map(e=>e.trim())}function sO(n,e,t){n.queries===null&&(n.queries=new Em),n.queries.track(new Im(e,t))}function sy(n,e){return n.queries.getByIndex(e)}function aO(n,e){let t=n[G],r=sy(t,e);return r.crossesNgTemplate?wm(t,n,e,[]):nD(t,n,r,e)}var ki=class{},bd=class{};var id=class extends ki{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new nd(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=dg(e);this._bootstrapComponents=gC(o.bootstrap),this._r3Injector=Ug(e,t,[{provide:ki,useValue:this},{provide:ec,useValue:this.componentFactoryResolver},...r],tr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},od=class extends bd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new id(this.moduleType,e,[])}};var Qa=class extends ki{injector;componentFactoryResolver=new nd(this);instance=null;constructor(e){super();let t=new wi([...e.providers,{provide:ki,useValue:this},{provide:ec,useValue:this.componentFactoryResolver}],e.parent||Oa(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function nc(n,e,t=null){return new Qa({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var cO=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=fg(!1,t.type),i=r.length>0?nc([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(K(et))})}return n})();function be(n){return es(()=>{let e=rD(n),t=le(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Om.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(cO).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||sr.Emulated,styles:n.styles||Wt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Vi("NgStandalone"),iD(t);let r=n.dependencies;return t.directiveDefs=Sb(r,uO),t.pipeDefs=Sb(r,C0),t.id=hO(t),t})}function uO(n){return kr(n)||hg(n)}function Gr(n){return es(()=>({type:n.type,bootstrap:n.bootstrap||Wt,declarations:n.declarations||Wt,imports:n.imports||Wt,exports:n.exports||Wt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function lO(n,e){if(n==null)return Or;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=gd.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function dO(n){if(n==null)return Or;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function an(n){return es(()=>{let e=rD(n);return iD(e),e})}function ay(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function rD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Or,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Wt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:lO(n.inputs,e),outputs:dO(n.outputs),debugInfo:null}}function iD(n){n.features?.forEach(e=>e(n))}function Sb(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function hO(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function fO(n){return Object.getPrototypeOf(n.prototype).constructor}function Ui(n){let e=fO(n.type),t=!0,r=[n];for(;e;){let i;if(Rn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Yg(n.inputs),s.declaredInputs=Yg(n.declaredInputs),s.outputs=Yg(n.outputs);let c=i.hostBindings;c&&vO(n,c);let u=i.viewQuery,l=i.contentQueries;if(u&&mO(n,u),l&&yO(n,l),pO(n,i),p0(n.outputs,i.outputs),Rn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(n),c===Ui&&(t=!1)}}e=Object.getPrototypeOf(e)}gO(r)}function pO(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function gO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Yo(i.hostAttrs,t=Yo(t,i.hostAttrs))}}function Yg(n){return n===Or?{}:n===Wt?[]:n}function mO(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function yO(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function vO(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function oD(n,e,t,r,i,o,s,c){if(t.firstCreatePass){n.mergedAttrs=Yo(n.mergedAttrs,n.attrs);let h=n.tView=Bm(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}c&&(n.flags|=c),Go(n,!1);let u=EO(t,e,n,r);Fl()&&Qm(t,e,u,n),Zo(u,e);let l=jC(u,e,u,n);e[r+Ue]=l,Hm(e,l),Y1(l,n,e)}function _O(n,e,t,r,i,o,s,c,u,l,h){let p=t+Ue,m;return e.firstCreatePass?(m=Xa(e,p,4,s||null,c||null),Ml()&&WC(e,n,m,sn(e.consts,l),Zm),Ub(e,m)):m=e.data[p],oD(m,n,e,t,r,i,o,u),$o(m)&&vd(e,n,m),l!=null&&Ja(n,m,h),m}function sd(n,e,t,r,i,o,s,c,u,l,h){let p=t+Ue,m;if(e.firstCreatePass){if(m=Xa(e,p,4,s||null,c||null),l!=null){let y=sn(e.consts,l);m.localNames=[];for(let T=0;T<y.length;T+=2)m.localNames.push(y[T],-1)}}else m=e.data[p];return oD(m,n,e,t,r,i,o,u),l!=null&&Ja(n,m,h),m}function ji(n,e,t,r,i,o,s,c){let u=ue(),l=He(),h=sn(l.consts,o);return _O(u,l,n,e,t,r,i,h,void 0,s,c),ji}var EO=IO;function IO(n,e,t,r){return Ba(!0),e[xe].createComment("")}var cy=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var uy=new q("");function ur(n){return!!n&&typeof n.then=="function"}function Cd(n){return!!n&&typeof n.subscribe=="function"}var sD=new q("");var ly=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=R(sD,{optional:!0})??[];injector=R(gt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=nt(this.injector,i);if(ur(o))t.push(o);else if(Cd(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dd=new q("");function aD(){Ip(()=>{let n="";throw new $(600,n)})}function cD(n){return n.isBoundToModule}var wO=10;var Wr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=R(Rt);afterRenderManager=R(bC);zonelessEnabled=R(Ll);rootEffectScheduler=R(qg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new We;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=R(Nn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ce(t=>!t))}constructor(){R(Za,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=R(et);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=gt.NULL){return this._injector.get(Se).run(()=>{Te(10);let s=t instanceof wd;if(!this._injector.get(ly).done){let T="";throw new $(405,T)}let u;s?u=t:u=this._injector.get(ec).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=cD(u)?void 0:this._injector.get(ki),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(uy,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),za(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Te(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Te(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(qm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $(101,!1);let t=Y(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Y(t),this.afterTick.next(),Te(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Oi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<wO;)Te(14),this.synchronizeOnce(),Te(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ua(i))continue;let o=r&&!this.zonelessEnabled?0:1;FC(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ua(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;za(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Dd,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>za(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function za(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var y9=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var bm=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Zg(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function bO(n,e,t){let r,i,o=0,s=n.length-1,c=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=n.at(o),h=e[o],p=Zg(o,l,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let m=n.at(s),y=e[u],T=Zg(s,m,u,y,t);if(T!==0){T<0&&n.updateValue(s,y),s--,u--;continue}let M=t(o,l),x=t(s,m),V=t(o,h);if(Object.is(V,x)){let Q=t(u,y);Object.is(Q,M)?(n.swap(o,s),n.updateValue(s,y),u--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new ad,i??=xb(n,o,s,t),Cm(n,r,o,V))n.updateValue(o,h),o++,s++;else if(i.has(V))r.set(M,n.detach(o)),s--;else{let Q=n.create(o,e[o]);n.attach(o,Q),o++,s++}}for(;o<=u;)Ab(n,r,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=n.at(o),p=l.value,m=Zg(o,h,o,p,t);if(m!==0)m<0&&n.updateValue(o,p),o++,l=u.next();else{r??=new ad,i??=xb(n,o,s,t);let y=t(o,p);if(Cm(n,r,o,y))n.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))n.attach(o,n.create(o,p)),o++,s++,l=u.next();else{let T=t(o,h);r.set(T,n.detach(o)),s--}}}for(;!l.done;)Ab(n,r,t,n.length,l.value),l=u.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(u=>{n.destroy(u)})}function Cm(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function Ab(n,e,t,r,i){if(Cm(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function xb(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var ad=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Kr(n,e,t,r,i,o,s,c){Vi("NgControlFlow");let u=ue(),l=He(),h=sn(l.consts,o);return sd(u,l,n,e,t,r,i,h,256,s,c),dy}function dy(n,e,t,r,i,o,s,c){Vi("NgControlFlow");let u=ue(),l=He(),h=sn(l.consts,o);return sd(u,l,n,e,t,r,i,h,512,s,c),dy}function Qr(n,e){Vi("NgControlFlow");let t=ue(),r=Mi(),i=t[r]!==Ln?t[r]:-1,o=i!==-1?cd(t,Ue+i):void 0,s=0;if(qr(t,r,n)){let c=Y(null);try{if(o!==void 0&&$C(o,s),n!==-1){let u=Ue+n,l=cd(t,u),h=Am(t[G],u),p=zC(l,h,t),m=_d(t,h,e,{dehydratedView:p});Ed(l,m,s,Ga(h,p))}}finally{Y(c)}}else if(o!==void 0){let c=BC(o,s);c!==void 0&&(c[$e]=e)}}var Dm=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-je}};var Tm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Pt(n,e,t,r,i,o,s,c,u,l,h,p,m){Vi("NgControlFlow");let y=ue(),T=He(),M=u!==void 0,x=ue(),V=c?s.bind(x[Kt][$e]):s,Q=new Tm(M,V);x[Ue+n]=Q,sd(y,T,n+1,e,t,r,i,sn(T.consts,o),256),M&&sd(y,T,n+2,u,l,h,p,sn(T.consts,m),512)}var Sm=class extends bm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-je}at(e){return this.getLView(e)[$e].$implicit}attach(e,t){let r=t[Uo];this.needsIndexUpdate||=e!==this.length,Ed(this.lContainer,t,e,Ga(this.templateTNode,r)),CO(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,DO(this.lContainer,e),TO(this.lContainer,e)}create(e,t){let r=fm(this.lContainer,this.templateTNode.tView.ssrId),i=_d(this.hostLView,this.templateTNode,new Dm(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){md(e[G],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[$e].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[$e].$index=e}getLView(e){return SO(this.lContainer,e)}};function Nt(n){let e=Y(null),t=Ur();try{let r=ue(),i=r[G],o=r[t],s=t+1,c=cd(r,s);if(o.liveCollection===void 0){let l=Am(i,s);o.liveCollection=new Sm(c,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(bO(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=Mi(),h=u.length===0;if(qr(r,l,h)){let p=t+2,m=cd(r,p);if(h){let y=Am(i,p),T=zC(m,y,r),M=_d(r,y,void 0,{dehydratedView:T});Ed(m,M,0,Ga(y,T))}else i.firstUpdatePass&&_1(m),$C(m,0)}}}finally{Y(e)}}function cd(n,e){return n[e]}function CO(n,e){if(n.length<=je)return;let t=je+e,r=n[t],i=r?r[Si]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[ir];SN(o,i),Ni.delete(r),i.detachedLeaveAnimationFns=void 0}}function DO(n,e){if(n.length<=je)return;let t=je+e,r=n[t],i=r?r[Si]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function TO(n,e){return Ka(n,e)}function SO(n,e){return BC(n,e)}function Am(n,e){return Va(n,e)}function Bi(n,e,t){let r=ue(),i=Mi();if(qr(r,i,e)){let o=He(),s=kl();xC(s,r,n,e,r[xe],t)}return Bi}function Mb(n,e,t,r,i){ey(e,n,t,i?"class":"style",r)}function Qe(n,e,t,r){let i=ue(),o=i[G],s=n+Ue,c=o.firstCreatePass?ry(s,i,2,e,Zm,Ml(),t,r):o.data[s];if(Jm(c,i,n,e,uD),$o(c)){let u=i[G];vd(u,i,c),Lm(u,c,i)}return r!=null&&Ja(i,c),Qe}function ze(){let n=He(),e=mt(),t=Xm(e);return n.firstCreatePass&&iy(n,t),Mg(t)&&Rg(),xg(),t.classesWithoutHost!=null&&CP(t)&&Mb(n,t,ue(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&DP(t)&&Mb(n,t,ue(),t.stylesWithoutHost,!1),ze}function Ot(n,e,t,r){return Qe(n,e,t,r),ze(),Ot}function N(n,e,t,r){let i=ue(),o=i[G],s=n+Ue,c=o.firstCreatePass?N1(s,o,2,e,t,r):o.data[s];return Jm(c,i,n,e,uD),r!=null&&Ja(i,c),N}function O(){let n=mt(),e=Xm(n);return Mg(e)&&Rg(),xg(),O}function ae(n,e,t,r){return N(n,e,t,r),O(),ae}var uD=(n,e,t,r,i)=>(Ba(!0),dC(e[xe],r,tb()));function Td(n,e,t){let r=ue(),i=r[G],o=n+Ue,s=i.firstCreatePass?ry(o,r,8,"ng-container",Zm,Ml(),e,t):i.data[o];if(Jm(s,r,n,"ng-container",AO),$o(s)){let c=r[G];vd(c,r,s),Lm(c,s,r)}return t!=null&&Ja(r,s),Td}function Sd(){let n=He(),e=mt(),t=Xm(e);return n.firstCreatePass&&iy(n,t),Sd}var AO=(n,e,t,r,i)=>(Ba(!0),nN(e[xe],""));function rc(){return ue()}function kt(n,e,t){let r=ue(),i=Mi();if(qr(r,i,e)){let o=He(),s=kl();MC(s,r,n,e,r[xe],t)}return kt}var ic="en-US";var xO=ic;function lD(n){typeof n=="string"&&(xO=n.toLowerCase().replace(/_/g,"-"))}function Ft(n,e,t){let r=ue(),i=He(),o=mt();return dD(i,r,r[xe],o,n,e,t),Ft}function Lt(n,e,t){let r=ue(),i=He(),o=mt();return(o.type&3||t)&&ZC(o,i,r,t,r[xe],n,e,zl(o,r,e)),Lt}function dD(n,e,t,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=zl(r,e,o),ZC(r,n,e,s,t,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=zl(r,e,o),Cb(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=zl(r,e,o),Cb(r,e,p,i,i,u)}}function cn(n=1){return eb(n)}function hy(n,e,t){iO(n,e,t)}function fy(n){let e=ue(),t=He(),r=Fg();Pl(r+1);let i=sy(t,r);if(n.dirty&&N0(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=aO(e,r);n.reset(o,VP),n.notifyOnChanges()}return!0}return!1}function py(){return nO(ue(),Fg())}function gy(n){let e=H0();return wg(e,Ue+n)}function Ul(n,e){return n<<17|e<<2}function Fi(n){return n>>17&32767}function MO(n){return(n&2)==2}function RO(n,e){return n&131071|e<<17}function xm(n){return n|2}function Xo(n){return(n&131068)>>2}function Jg(n,e){return n&-131069|e<<2}function PO(n){return(n&1)===1}function Mm(n){return n|1}function NO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,c=Fi(s),u=Xo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Vo(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Fi(n[c+1]);n[r+1]=Ul(m,c),m!==0&&(n[m+1]=Jg(n[m+1],r)),n[c+1]=RO(n[c+1],r)}else n[r+1]=Ul(c,0),c!==0&&(n[c+1]=Jg(n[c+1],r)),c=r;else n[r+1]=Ul(u,0),c===0?c=r:n[u+1]=Jg(n[u+1],r),u=r;l&&(n[r+1]=xm(n[r+1])),Rb(n,h,r,!0),Rb(n,h,r,!1),OO(e,h,n,r,o),s=Ul(c,u),o?e.classBindings=s:e.styleBindings=s}function OO(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Vo(o,e)>=0&&(t[r+1]=Mm(t[r+1]))}function Rb(n,e,t,r){let i=n[t+1],o=e===null,s=r?Fi(i):Xo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=n[s],l=n[s+1];kO(u,e)&&(c=!0,n[s+1]=r?Mm(l):xm(l)),s=r?Fi(l):Xo(l)}c&&(n[t+1]=r?xm(i):Mm(i))}function kO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Vo(n,e)>=0:!1}function Be(n,e,t){return hD(n,e,t,!1),Be}function ct(n,e){return hD(n,e,null,!0),ct}function hD(n,e,t,r){let i=ue(),o=He(),s=G0(2);if(o.firstUpdatePass&&LO(o,n,s,r),e!==Ln&&qr(i,s,e)){let c=o.data[Ur()];$O(o,c,i,i[xe],n,i[s+1]=HO(e,t),r,s)}}function FO(n,e){return e>=n.expandoStartIndex}function LO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ur()],s=FO(n,t);zO(o,r)&&e===null&&!s&&(e=!1),e=VO(i,o,e,r),NO(i,o,e,t,s,r)}}function VO(n,e,t,r){let i=Y0(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Xg(null,n,e,t,r),t=Ya(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Xg(i,n,e,t,r),o===null){let u=UO(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Xg(null,n,e,u[1],r),u=Ya(u,e.attrs,r),jO(n,e,r,u))}else o=BO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function UO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Xo(r)!==0)return n[Fi(r)]}function jO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Fi(i)]=r}function BO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ya(r,s,t)}return Ya(r,e.attrs,t)}function Xg(n,e,t,r,i){let o=null,s=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<s&&(o=e[c],r=Ya(r,o.hostAttrs,i),o!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function Ya(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),b0(n,s,t?!0:e[++o]))}return n===void 0?null:n}function $O(n,e,t,r,i,o,s,c){if(!(e.type&3))return;let u=n.data,l=u[c+1],h=PO(l)?Pb(u,e,t,i,Xo(l),s):void 0;if(!ud(h)){ud(o)||MO(l)&&(o=Pb(u,null,t,i,c,s));let p=Ig(Ur(),t);$N(r,s,p,i,o)}}function Pb(n,e,t,r,i,o){let s=e===null,c;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Ln&&(m=p?Wt:void 0);let y=p?Dl(m,r):h===r?m:void 0;if(l&&!ud(y)&&(y=Dl(u,r)),ud(y)&&(c=y,s))return c;let T=n[i+1];i=s?Fi(T):Xo(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Dl(u,r))}return c}function ud(n){return n!==void 0}function HO(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=tr(Vm(n)))),n}function zO(n,e){return(n.flags&(e?8:16))!==0}function j(n,e=""){let t=ue(),r=He(),i=n+Ue,o=r.firstCreatePass?Xa(r,i,1,e,null):r.data[i],s=qO(r,t,o,e,n);t[i]=s,Fl()&&Qm(r,t,s,o),Go(o,!1)}var qO=(n,e,t,r,i)=>(Ba(!0),eN(e[xe],r));function GO(n,e,t,r=""){return qr(n,Mi(),t)?e+wl(t)+r:Ln}function Oe(n){return un("",n),Oe}function un(n,e,t){let r=ue(),i=GO(r,n,e,t);return i!==Ln&&WO(r,Ur(),i),un}function WO(n,e,t){let r=Ig(e,n);tN(n[xe],r,t)}function Ad(n,e,t){$g(e)&&(e=e());let r=ue(),i=Mi();if(qr(r,i,e)){let o=He(),s=kl();xC(s,r,n,e,r[xe],t)}return Ad}function my(n,e){let t=$g(n);return t&&n.set(e),t}function xd(n,e){let t=ue(),r=He(),i=mt();return dD(r,t,t[xe],i,n,e),xd}function KO(n,e,t){let r=He();if(r.firstCreatePass){let i=Rn(n);Rm(t,r.data,r.blueprint,i,!0),Rm(e,r.data,r.blueprint,i,!1)}}function Rm(n,e,t,r,i){if(n=pt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Rm(n[o],e,t,r,i);else{let o=He(),s=ue(),c=mt(),u=Ii(n)?n:pt(n.provide),l=gg(n),h=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(Ii(n)||!n.multi){let y=new Pi(l,i,X,null),T=tm(u,e,i?h:h+m,p);T===-1?(rm(Ql(c,s),o,u),em(o,n,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(y),s.push(y)):(t[T]=y,s[T]=y)}else{let y=tm(u,e,h+m,p),T=tm(u,e,h,h+m),M=y>=0&&t[y],x=T>=0&&t[T];if(i&&!x||!i&&!M){rm(Ql(c,s),o,u);let V=ZO(i?YO:QO,t.length,i,r,l,n);!i&&x&&(t[T].providerFactory=V),em(o,n,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=fD(t[i?T:y],l,!i&&r);em(o,n,y>-1?y:T,V)}!i&&r&&x&&t[T].componentProviders++}}}function em(n,e,t,r){let i=Ii(e),o=x0(e);if(i||o){let u=(o?pt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function fD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function tm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function QO(n,e,t,r,i){return Pm(this.multi,[])}function YO(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=qa(r,r[G],this.providerFactory.index,i);s=u.slice(0,c),Pm(o,s);for(let l=c;l<u.length;l++)s.push(u[l])}else s=[],Pm(o,s);return s}function Pm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function ZO(n,e,t,r,i,o){let s=new Pi(n,t,X,null);return s.multi=[],s.index=e,s.componentProviders=0,fD(s,i,r&&!t),s}function Md(n,e=[]){return t=>{t.providersResolver=(r,i)=>KO(r,i?i(n):n,e)}}function JO(n,e){let t=n[e];return t===Ln?void 0:t}function XO(n,e,t,r,i,o){let s=e+t;return qr(n,s,i)?O1(n,s+1,o?r.call(o,i):r(i)):JO(n,s+1)}function yy(n,e){let t=He(),r,i=n+Ue;t.firstCreatePass?(r=ek(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Rr(r.type,!0)),s,c=Mt(X);try{let u=Kl(!1),l=o();return Kl(u),bg(t,ue(),i,l),l}finally{Mt(c)}}function ek(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function vy(n,e,t){let r=n+Ue,i=ue(),o=wg(i,r);return tk(i,r)?XO(i,z0(),e,o.transform,t,o):o.transform(t)}function tk(n,e){return n[G].data[e].pure}function _y(n,e){return Id(n,e)}var ld=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Ey=(()=>{class n{compileModuleSync(t){return new od(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=dg(t),o=gC(i.declarations).reduce((s,c)=>{let u=kr(c);return u&&s.push(new Jo(u)),s},[]);return new ld(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nk=(()=>{class n{zone=R(Se);changeDetectionScheduler=R(Nr);applicationRef=R(Wr);applicationErrorHandler=R(Rt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Se(le(L({},gD()),{scheduleInRootZone:t})),[{provide:Se,useFactory:n},{provide:rr,multi:!0,useFactory:()=>{let r=R(nk,{optional:!0});return()=>r.initialize()}},{provide:rr,multi:!0,useFactory:()=>{let r=R(rk);return()=>{r.initialize()}}},e===!0?{provide:Hg,useValue:!0}:[],{provide:zg,useValue:t??EC},{provide:Rt,useFactory:()=>{let r=R(Se),i=R(et),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Tn),o.handleError(s))})}}}]}function gD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var rk=(()=>{class n{subscription=new Ve;initialized=!1;zone=R(Se);pendingTasks=R(Nn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var mD=(()=>{class n{applicationErrorHandler=R(Rt);appRef=R(Wr);taskService=R(Nn);ngZone=R(Se);zonelessEnabled=R(Ll);tracing=R(Za,{optional:!0});disableScheduling=R(Hg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Xl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(R(zg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ed||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?pb:IC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Xl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,pb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ik(){return typeof $localize<"u"&&$localize.locale||ic}var Rd=new q("",{providedIn:"root",factory:()=>R(Rd,{optional:!0,skipSelf:!0})||ik()});function ut(n){return d0(n)}function oc(n,e){return $u(n,e?.equal)}var yD=class{[bt];constructor(e){this[bt]=e}destroy(){this[bt].destroy()}};var wD=Symbol("InputSignalNode#UNSET"),Ik=le(L({},Hu),{transformFn:void 0,applyValueToInputSignal(n,e){Eo(n,e)}});function bD(n,e){let t=Object.create(Ik);t.value=n,t.transformFn=e?.transform;function r(){if(yo(t),t.value===wD){let i=null;throw new $(-950,i)}return t.value}return r[bt]=t,r}var wk=new q("");wk.__NG_ELEMENT_ID__=n=>{let e=mt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new $(204,!1)};function vD(n,e){return bD(n,e)}function bk(n){return bD(wD,n)}var CD=(vD.required=bk,vD);var Iy=new q(""),Ck=new q("");function sc(n){return!n.moduleRef}function Dk(n){let e=sc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Se);return t.run(()=>{sc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Rt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),sc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Iy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Iy);s.add(o),n.moduleRef.onDestroy(()=>{za(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return Sk(r,t,()=>{let o=e.get(Nn),s=o.add(),c=e.get(ly);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(Rd,ic);if(lD(u||ic),!e.get(Ck,!0))return sc(n)?e.get(Wr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(sc(n)){let h=e.get(Wr);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return Tk?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var Tk;function Sk(n,e,t){try{let r=t();return ur(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Pd=null;function Ak(n=[],e){return gt.create({name:e,providers:[{provide:Na,useValue:"platform"},{provide:Iy,useValue:new Set([()=>Pd=null])},...n]})}function xk(n=[]){if(Pd)return Pd;let e=Ak(n);return Pd=e,aD(),Mk(e),e}function Mk(n){let e=n.get(hd,null);nt(n,()=>{e?.forEach(t=>t())})}function Ty(){return!1}var Yr=(()=>{class n{static __NG_ELEMENT_ID__=Rk}return n})();function Rk(n){return Pk(mt(),ue(),(n&16)===16)}function Pk(n,e,t){if(Vr(n)&&!t){let r=on(n.index,e);return new Hr(r,r)}else if(n.type&175){let r=e[Kt];return new Hr(r,e)}return null}var wy=class{constructor(){}supports(e){return oy(e)}create(e){return new by(e)}},Nk=(n,e)=>e,by=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Nk}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<_D(r,i,o)?t:r,c=_D(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,T=y+m;h<=T&&T<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!oy(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,QC(e,c=>{s=this._trackByFn(i,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Cy(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Nd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Nd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Cy=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Dy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Nd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Dy,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function _D(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function ED(){return new Sy([new wy])}var Sy=(()=>{class n{factories;static \u0275prov=H({token:n,providedIn:"root",factory:ED});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=R(n,{optional:!0,skipSelf:!0});return n.create(t,r||ED())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new $(901,!1)}}return n})();function DD(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Te(8);try{let o=i?.injector??xk(r),s=[pD({}),{provide:Nr,useExisting:mD},rb,...t||[]],c=new Qa({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return Dk({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Te(9)}}function Ay(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var AD=null;function ln(){return AD}function xy(n){AD??=n}var ac=class{},My=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>R(xD),providedIn:"platform"})}return n})();var xD=(()=>{class n extends My{_location;_history;_doc=R(at);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ln().getBaseHref(this._doc)}onPopState(t){let r=ln().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ln().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function MD(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function TD(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Zr(n){return n&&n[0]!=="?"?`?${n}`:n}var Od=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>R(PD),providedIn:"root"})}return n})(),RD=new q(""),PD=(()=>{class n extends Od{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??R(at).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return MD(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Zr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Zr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Zr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(K(My),K(RD,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),is=(()=>{class n{_subject=new We;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Fk(TD(SD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Zr(r))}normalize(t){return n.stripTrailingSlash(kk(this._basePath,SD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Zr;static joinWithSlash=MD;static stripTrailingSlash=TD;static \u0275fac=function(r){return new(r||n)(K(Od))};static \u0275prov=H({token:n,factory:()=>Ok(),providedIn:"root"})}return n})();function Ok(){return new is(K(Od))}function kk(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function SD(n){return n.replace(/\/index.html$/,"")}function Fk(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var kd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ld=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new kd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),ND(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);ND(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(X(cr),X(zr),X(Sy))};static \u0275dir=an({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function ND(n,e){n.context.$implicit=e.item}var Ny=(()=>{class n{_viewContainer;_context=new Fd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){OD(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){OD(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(X(cr),X(zr))};static \u0275dir=an({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Fd=class{$implicit=null;ngIf=null};function OD(n,e){if(n&&!n.createEmbeddedView)throw new $(2020,!1)}function Lk(n,e){return new $(2100,!1)}var Ry=class{createSubscription(e,t,r){return ut(()=>e.subscribe({next:t,error:r}))}dispose(e){ut(()=>e.unsubscribe())}},Py=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},Vk=new Py,Uk=new Ry,Oy=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=R(Rt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(ur(t))return Vk;if(Cd(t))return Uk;throw Lk(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(X(Yr,16))};static \u0275pipe=ay({name:"async",type:n,pure:!1})}return n})();var Vn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gr({type:n});static \u0275inj=nr({})}return n})();function ky(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var cc=class{};var kD="browser";var uc=class{_doc;constructor(e){this._doc=e}manager},Vd=(()=>{class n extends uc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(K(at))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),jd=new q(""),jy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Vd));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Vd);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(K(jd),K(Se))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Fy="ng-app-id";function LD(n){for(let e of n)e.remove()}function VD(n,e){let t=e.createElement("style");return t.textContent=n,t}function jk(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Fy}="${e}"],link[${Fy}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Fy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Vy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var By=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,jk(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,VD);r?.forEach(i=>this.addUsage(i,this.external,Vy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(LD(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])LD(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,VD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Vy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(K(at),K(dd),K(fd,8),K(Li))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Ly={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},$y=/%COMP%/g;var jD="%COMP%",Bk=`_nghost-${jD}`,$k=`_ngcontent-${jD}`,Hk=!0,zk=new q("",{providedIn:"root",factory:()=>Hk});function qk(n){return $k.replace($y,n)}function Gk(n){return Bk.replace($y,n)}function BD(n,e){return e.map(t=>t.replace($y,n))}var Hy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,c,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new lc(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Ud?i.applyToHost(t):i instanceof dc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case sr.Emulated:o=new Ud(u,l,r,this.appId,h,s,c,p,m);break;case sr.ShadowDom:return new Uy(u,l,t,r,s,c,this.nonce,p,m);default:o=new dc(u,l,r,h,s,c,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(K(jy),K(By),K(dd),K(zk),K(at),K(Se),K(fd),K(Za,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),lc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Ly[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(UD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(UD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Ly[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Ly[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(kn.DashCase|kn.Important)?e.style.setProperty(t,r,i&kn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&kn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=ln().getGlobalEventTarget(this.doc,e),!e))throw new $(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function UD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Uy=class extends lc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=BD(i.id,h);for(let m of h){let y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=Vy(m,o);c&&y.setAttribute("nonce",c),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},dc=class extends lc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?BD(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ni.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ud=class extends dc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,c,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,c,u,l,h),this.contentAttr=qk(h),this.hostAttr=Gk(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Bd=class n extends ac{supportsDOMEvents=!0;static makeCurrent(){xy(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Wk();return t==null?null:Kk(t)}resetBaseElement(){hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ky(document.cookie,e)}},hc=null;function Wk(){return hc=hc||document.head.querySelector("base"),hc?hc.getAttribute("href"):null}function Kk(n){return new URL(n,document.baseURI).pathname}var Qk=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),$D=["alt","control","meta","shift"],Yk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zk={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},HD=(()=>{class n extends uc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ln().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),$D.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=Yk[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),$D.forEach(s=>{if(s!==i){let c=Zk[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(K(at))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function zy(n,e,t){let r=L({rootComponent:n,platformRef:t?.platformRef},Jk(e));return DD(r)}function Jk(n){return{appProviders:[...rF,...n?.providers??[]],platformProviders:nF}}function Xk(){Bd.makeCurrent()}function eF(){return new Tn}function tF(){return km(document),document}var nF=[{provide:Li,useValue:kD},{provide:hd,useValue:Xk,multi:!0},{provide:at,useFactory:tF}];var rF=[{provide:Na,useValue:"root"},{provide:Tn,useFactory:eF},{provide:jd,useClass:Vd,multi:!0,deps:[at]},{provide:jd,useClass:HD,multi:!0,deps:[at]},Hy,By,jy,{provide:Oi,useExisting:Hy},{provide:cc,useClass:Qk},[]];var zD=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(K(at))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ne="primary",Dc=Symbol("RouteTitle"),Qy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ls(n){return new Qy(n)}function oF(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function sF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Un(n[t],e[t]))return!1;return!0}function Un(n,e){let t=n?Yy(n):void 0,r=e?Yy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!JD(n[i],e[i]))return!1;return!0}function Yy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function JD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function XD(n){return n.length>0?n[n.length-1]:null}function hr(n){return Fp(n)?n:ur(n)?Pe(Promise.resolve(n)):Z(n)}var aF={exact:tT,subset:nT},eT={exact:cF,subset:uF,ignored:()=>!0};function qD(n,e,t){return aF[t.paths](n.root,e.root,t.matrixParams)&&eT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function cF(n,e){return Un(n,e)}function tT(n,e,t){if(!Hi(n.segments,e.segments)||!zd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!tT(n.children[r],e.children[r],t))return!1;return!0}function uF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>JD(n[t],e[t]))}function nT(n,e,t){return rT(n,e,e.segments,t)}function rT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Hi(i,t)||e.hasChildren()||!zd(i,t,r))}else if(n.segments.length===t.length){if(!Hi(n.segments,t)||!zd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!nT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Hi(n.segments,i)||!zd(n.segments,i,r)||!n.children[ne]?!1:rT(n.children[ne],e,o,r)}}function zd(n,e,t){return e.every((r,i)=>eT[t](n[i].parameters,r.parameters))}var dr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ie([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ls(this.queryParams),this._queryParamMap}toString(){return hF.serialize(this)}},Ie=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qd(this)}},$i=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ls(this.parameters),this._parameterMap}toString(){return oT(this)}};function lF(n,e){return Hi(n,e)&&n.every((t,r)=>Un(t.parameters,e[r].parameters))}function Hi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function dF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ne&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ne&&(t=t.concat(e(i,r)))}),t}var rh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new ds,providedIn:"root"})}return n})(),ds=class{parse(e){let t=new Jy(e);return new dr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${fc(e.root,!0)}`,r=gF(e.queryParams),i=typeof e.fragment=="string"?`#${fF(e.fragment)}`:"";return`${t}${r}${i}`}},hF=new ds;function qd(n){return n.segments.map(e=>oT(e)).join("/")}function fc(n,e){if(!n.hasChildren())return qd(n);if(e){let t=n.children[ne]?fc(n.children[ne],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${fc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=dF(n,(r,i)=>i===ne?[fc(n.children[ne],!1)]:[`${i}:${fc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ne]!=null?`${qd(n)}/${t[0]}`:`${qd(n)}/(${t.join("//")})`}}function iT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $d(n){return iT(n).replace(/%3B/gi,";")}function fF(n){return encodeURI(n)}function Zy(n){return iT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gd(n){return decodeURIComponent(n)}function GD(n){return Gd(n.replace(/\+/g,"%20"))}function oT(n){return`${Zy(n.path)}${pF(n.parameters)}`}function pF(n){return Object.entries(n).map(([e,t])=>`;${Zy(e)}=${Zy(t)}`).join("")}function gF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${$d(t)}=${$d(i)}`).join("&"):`${$d(t)}=${$d(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var mF=/^[^\/()?;#]+/;function qy(n){let e=n.match(mF);return e?e[0]:""}var yF=/^[^\/()?;=#]+/;function vF(n){let e=n.match(yF);return e?e[0]:""}var _F=/^[^=?&#]+/;function EF(n){let e=n.match(_F);return e?e[0]:""}var IF=/^[^&#]+/;function wF(n){let e=n.match(IF);return e?e[0]:""}var Jy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ne]=new Ie(e,t)),r}parseSegment(){let e=qy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new $i(Gd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=vF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=qy(this.remaining);i&&(r=i,this.capture(r))}e[Gd(t)]=Gd(r)}parseQueryParam(e){let t=EF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=wF(this.remaining);s&&(r=s,this.capture(r))}let i=GD(t),o=GD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=qy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();t[o??ne]=Object.keys(s).length===1&&s[ne]?s[ne]:new Ie([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function sT(n){return n.segments.length>0?new Ie([],{[ne]:n}):n}function aT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=aT(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ie(n.segments,e);return bF(t)}function bF(n){if(n.numberOfChildren===1&&n.children[ne]){let e=n.children[ne];return new Ie(n.segments.concat(e.segments),e.children)}return n}function hs(n){return n instanceof dr}function CF(n,e,t=null,r=null){let i=cT(n);return uT(i,e,t,r)}function cT(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let c=new Ie(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=sT(r);return e??i}function uT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Gy(i,i,i,t,r);let o=DF(e);if(o.toRoot())return Gy(i,i,new Ie([],{}),t,r);let s=TF(o,i,n),c=s.processChildren?gc(s.segmentGroup,s.index,o.commands):dT(s.segmentGroup,s.index,o.commands);return Gy(i,s.segmentGroup,c,t,r)}function Wd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function vc(n){return typeof n=="object"&&n!=null&&n.outlets}function Gy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=lT(n,e,t);let c=sT(aT(s));return new dr(c,o,i)}function lT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=lT(o,e,t)}),new Ie(n.segments,r)}var Kd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Wd(r[0]))throw new $(4003,!1);let i=r.find(vc);if(i&&i!==XD(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function DF(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Kd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Kd(t,e,r)}var as=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function TF(n,e,t){if(n.isAbsolute)return new as(e,!0,0);if(!t)return new as(e,!1,NaN);if(t.parent===null)return new as(t,!0,0);let r=Wd(n.commands[0])?0:1,i=t.segments.length-1+r;return SF(t,i,n.numberOfDoubleDots)}function SF(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new as(r,!1,i-o)}function AF(n){return vc(n[0])?n[0].outlets:{[ne]:n}}function dT(n,e,t){if(n??=new Ie([],{}),n.segments.length===0&&n.hasChildren())return gc(n,e,t);let r=xF(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ie(n.segments.slice(0,r.pathIndex),{});return o.children[ne]=new Ie(n.segments.slice(r.pathIndex),n.children),gc(o,0,i)}else return r.match&&i.length===0?new Ie(n.segments,{}):r.match&&!n.hasChildren()?Xy(n,e,t):r.match?gc(n,0,i):Xy(n,e,t)}function gc(n,e,t){if(t.length===0)return new Ie(n.segments,{});{let r=AF(t),i={};if(Object.keys(r).some(o=>o!==ne)&&n.children[ne]&&n.numberOfChildren===1&&n.children[ne].segments.length===0){let o=gc(n.children[ne],e,t);return new Ie(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=dT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(n.segments,i)}}function xF(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(vc(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!KD(u,l,s))return o;r+=2}else{if(!KD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Xy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(vc(o)){let u=MF(o.outlets);return new Ie(r,u)}if(i===0&&Wd(t[0])){let u=n.segments[e];r.push(new $i(u.path,WD(t[0]))),i++;continue}let s=vc(o)?o.outlets[ne]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&Wd(c)?(r.push(new $i(s,WD(c))),i+=2):(r.push(new $i(s,{})),i++)}return new Ie(r,{})}function MF(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Xy(new Ie([],{}),0,r))}),e}function WD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function KD(n,e,t){return n==t.path&&Un(e,t.parameters)}var mc="imperative",yt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(yt||{}),dn=class{id;url;constructor(e,t){this.id=e,this.url=t}},fs=class extends dn{type=yt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jr=class extends dn{urlAfterRedirects;type=yt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ht=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Ht||{}),Qd=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Qd||{}),lr=class extends dn{reason;code;type=yt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xr=class extends dn{reason;code;type=yt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},_c=class extends dn{error;target;type=yt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yd=class extends dn{urlAfterRedirects;state;type=yt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ev=class extends dn{urlAfterRedirects;state;type=yt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tv=class extends dn{urlAfterRedirects;state;shouldActivate;type=yt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},nv=class extends dn{urlAfterRedirects;state;type=yt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rv=class extends dn{urlAfterRedirects;state;type=yt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},iv=class{route;type=yt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ov=class{route;type=yt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sv=class{snapshot;type=yt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},av=class{snapshot;type=yt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cv=class{snapshot;type=yt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uv=class{snapshot;type=yt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ec=class{},ps=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function RF(n){return!(n instanceof Ec)&&!(n instanceof ps)}function PF(n,e){return n.providers&&!n._injector&&(n._injector=nc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function _n(n){return n.outlet||ne}function NF(n,e){let t=n.filter(r=>_n(r)===e);return t.push(...n.filter(r=>_n(r)!==e)),t}function ms(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var lv=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ms(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Tc(this.rootInjector)}},Tc=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new lv(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(K(et))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=dv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=dv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=hv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return hv(e,this._root).map(t=>t.value)}};function dv(n,e){if(n===e.value)return e;for(let t of e.children){let r=dv(n,t);if(r)return r}return null}function hv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=hv(n,t);if(r.length)return r.unshift(e),r}return[]}var Zt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ss(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Jd=class extends Zd{snapshot;constructor(e,t){super(e),this.snapshot=t,Iv(this,e)}toString(){return this.snapshot.toString()}};function hT(n){let e=OF(n),t=new ft([new $i("",{})]),r=new ft({}),i=new ft({}),o=new ft({}),s=new ft(""),c=new zi(t,r,o,s,i,ne,n,e.root);return c.snapshot=e.root,new Jd(new Zt(c,[]),e)}function OF(n){let e={},t={},r={},o=new cs([],e,r,"",t,ne,n,null,{});return new eh("",new Zt(o,[]))}var zi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ce(l=>l[Dc]))??Z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>ls(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>ls(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&pT(i)&&(r.resolve[Dc]=i.title),r}var cs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Dc]}constructor(e,t,r,i,o,s,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ls(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ls(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},eh=class extends Zd{url;constructor(e,t){super(t),this.url=e,Iv(this,t)}toString(){return fT(this._root)}};function Iv(n,e){e.value._routerState=n,e.children.forEach(t=>Iv(n,t))}function fT(n){let e=n.children.length>0?` { ${n.children.map(fT).join(", ")} } `:"";return`${n.value}${e}`}function Wy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Un(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Un(e.params,t.params)||n.paramsSubject.next(t.params),sF(e.url,t.url)||n.urlSubject.next(t.url),Un(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function fv(n,e){let t=Un(n.params,e.params)&&lF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||fv(n.parent,e.parent))}function pT(n){return typeof n.title=="string"||n.title===null}var kF=new q(""),gT=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ne;activateEvents=new rt;deactivateEvents=new rt;attachEvents=new rt;detachEvents=new rt;routerOutletData=CD();parentContexts=R(Tc);location=R(cr);changeDetector=R(Yr);inputBinder=R(ih,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new pv(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=an({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ts]})}return n})(),pv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===zi?this.route:e===Tc?this.childContexts:e===kF?this.outletData:this.parent.get(e,t)}},ih=new q("");var mT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=be({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ot(0,"router-outlet")},dependencies:[gT],encapsulation:2})}return n})();function wv(n){let e=n.children&&n.children.map(wv),t=e?le(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ne&&(t.component=mT),t}function FF(n,e,t){let r=Ic(n,e._root,t?t._root:void 0);return new Jd(r,e)}function Ic(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=LF(n,e,t);return new Zt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>Ic(n,c)),s}}let r=VF(e.value),i=e.children.map(o=>Ic(n,o));return new Zt(r,i)}}function LF(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ic(n,r,i);return Ic(n,r)})}function VF(n){return new zi(new ft(n.url),new ft(n.params),new ft(n.queryParams),new ft(n.fragment),new ft(n.data),n.outlet,n.component,n)}var wc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},yT="ngNavigationCancelingError";function th(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=hs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vT(!1,Ht.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function vT(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[yT]=!0,t.cancellationCode=e,t}function UF(n){return _T(n)&&hs(n.url)}function _T(n){return!!n&&n[yT]}var jF=(n,e,t,r)=>ce(i=>(new gv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),gv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Wy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ss(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ss(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ss(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ss(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new uv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new av(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Wy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Wy(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},nh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},us=class{component;route;constructor(e,t){this.component=e,this.route=t}};function BF(n,e,t){let r=n._root,i=e?e._root:null;return pc(r,i,t,[r.value])}function $F(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ys(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!eg(n)?n:e.get(n):r}function pc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ss(e);return n.children.forEach(s=>{HF(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>yc(c,t.getContext(s),i)),i}function HF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=zF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new nh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?pc(n,e,c?c.children:null,r,i):pc(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new us(c.outlet.component,s))}else s&&yc(e,c,i),i.canActivateChecks.push(new nh(r)),o.component?pc(n,null,c?c.children:null,r,i):pc(n,null,t,r,i);return i}function zF(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Hi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Hi(n.url,e.url)||!Un(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fv(n,e)||!Un(n.queryParams,e.queryParams);case"paramsChange":default:return!fv(n,e)}}function yc(n,e,t){let r=ss(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?yc(s,e.children.getContext(o),t):yc(s,null,t):yc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new us(e.outlet.component,i)):t.canDeactivateChecks.push(new us(null,i)):t.canDeactivateChecks.push(new us(null,i))}function Sc(n){return typeof n=="function"}function qF(n){return typeof n=="boolean"}function GF(n){return n&&Sc(n.canLoad)}function WF(n){return n&&Sc(n.canActivate)}function KF(n){return n&&Sc(n.canActivateChild)}function QF(n){return n&&Sc(n.canDeactivate)}function YF(n){return n&&Sc(n.canMatch)}function ET(n){return n instanceof Zn||n?.name==="EmptyError"}var Hd=Symbol("INITIAL_VALUE");function gs(){return $t(n=>Po(n.map(e=>e.pipe(Jn(1),gl(Hd)))).pipe(ce(e=>{for(let t of e)if(t!==!0){if(t===Hd)return Hd;if(t===!1||ZF(t))return t}return!0}),Gt(e=>e!==Hd),Jn(1)))}function ZF(n){return hs(n)||n instanceof wc}function JF(n,e){return Xe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Z(le(L({},t),{guardsResult:!0})):XF(s,r,i,n).pipe(Xe(c=>c&&qF(c)?eL(r,o,n,e):Z(c)),ce(c=>le(L({},t),{guardsResult:c})))})}function XF(n,e,t,r){return Pe(n).pipe(Xe(i=>oL(i.component,i.route,t,e,r)),Xn(i=>i!==!0,!0))}function eL(n,e,t,r){return Pe(e).pipe(Oo(i=>No(nL(i.route.parent,r),tL(i.route,r),iL(n,i.path,t),rL(n,i.route,t))),Xn(i=>i!==!0,!0))}function tL(n,e){return n!==null&&e&&e(new cv(n)),Z(!0)}function nL(n,e){return n!==null&&e&&e(new sv(n)),Z(!0)}function rL(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>Ta(()=>{let s=ms(e)??t,c=ys(o,s),u=WF(c)?c.canActivate(e,n):nt(s,()=>c(e,n));return hr(u).pipe(Xn())}));return Z(i).pipe(gs())}function iL(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>$F(s)).filter(s=>s!==null).map(s=>Ta(()=>{let c=s.guards.map(u=>{let l=ms(s.node)??t,h=ys(u,l),p=KF(h)?h.canActivateChild(r,n):nt(l,()=>h(r,n));return hr(p).pipe(Xn())});return Z(c).pipe(gs())}));return Z(o).pipe(gs())}function oL(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(c=>{let u=ms(e)??i,l=ys(c,u),h=QF(l)?l.canDeactivate(n,e,t,r):nt(u,()=>l(n,e,t,r));return hr(h).pipe(Xn())});return Z(s).pipe(gs())}function sL(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let c=ys(s,n),u=GF(c)?c.canLoad(e,t):nt(n,()=>c(e,t));return hr(u)});return Z(o).pipe(gs(),IT(r))}function IT(n){return Ku(st(e=>{if(typeof e!="boolean")throw th(n,e)}),ce(e=>e===!0))}function aL(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let c=ys(s,n),u=YF(c)?c.canMatch(e,t):nt(n,()=>c(e,t));return hr(u)});return Z(o).pipe(gs(),IT(r))}var bc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Cc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function os(n){return Ro(new bc(n))}function cL(n){return Ro(new $(4e3,!1))}function uL(n){return Ro(vT(!1,Ht.GuardRejected))}var mv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[ne])return cL(`${e.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(e,t,r,i,o){return lL(t,i,o).pipe(ce(s=>{if(s instanceof dr)throw new Cc(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Cc(c);return c}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new dr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new Ie(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function lL(n,e,t){if(typeof n=="string")return Z(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,params:l,data:h,title:p}=e;return hr(nt(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,title:p})))}var yv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dL(n,e,t,r,i){let o=wT(n,e,t);return o.matched?(r=PF(e,r),aL(r,e,t,i).pipe(ce(s=>s===!0?o:L({},yv)))):Z(o)}function wT(n,e,t){if(e.path==="**")return hL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},yv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||oF)(t,n,e);if(!i)return L({},yv);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function hL(n){return{matched:!0,parameters:n.length>0?XD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function QD(n,e,t,r){return t.length>0&&gL(n,t,r)?{segmentGroup:new Ie(e,pL(r,new Ie(t,n.children))),slicedSegments:[]}:t.length===0&&mL(n,t,r)?{segmentGroup:new Ie(n.segments,fL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ie(n.segments,n.children),slicedSegments:t}}function fL(n,e,t,r){let i={};for(let o of t)if(oh(n,e,o)&&!r[_n(o)]){let s=new Ie([],{});i[_n(o)]=s}return L(L({},r),i)}function pL(n,e){let t={};t[ne]=e;for(let r of n)if(r.path===""&&_n(r)!==ne){let i=new Ie([],{});t[_n(r)]=i}return t}function gL(n,e,t){return t.some(r=>oh(n,e,r)&&_n(r)!==ne)}function mL(n,e,t){return t.some(r=>oh(n,e,r))}function oh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function yL(n,e,t){return e.length===0&&!n.children[t]}var vv=class{};function vL(n,e,t,r,i,o,s="emptyOnly"){return new _v(n,e,t,r,i,s,o).recognize()}var _L=31,_v=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new mv(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=QD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(({children:t,rootSnapshot:r})=>{let i=new Zt(r,t),o=new eh("",i),s=CF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new cs([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ne,t).pipe(ce(r=>({children:r,rootSnapshot:t})),xr(r=>{if(r instanceof Cc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof bc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ce(s=>s instanceof Zt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Pe(o).pipe(Oo(s=>{let c=r.children[s],u=NF(t,s);return this.processSegmentGroup(e,u,c,s,i)}),pl((s,c)=>(s.push(...c),s)),Mr(null),Vp(),Xe(s=>{if(s===null)return os(r);let c=bT(s);return EL(c),Z(c)}))}processSegment(e,t,r,i,o,s,c){return Pe(t).pipe(Oo(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(xr(l=>{if(l instanceof bc)return Z(null);throw l}))),Xn(u=>!!u),xr(u=>{if(ET(u))return yL(r,i,o)?Z(new vv):os(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return _n(r)!==s&&(s===ne||!oh(i,o,r))?os(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):os(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=wT(t,i,o);if(!u)return os(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_L&&(this.allowRedirects=!1));let y=new cs(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,YD(i),_n(i),i.component??i._loadedComponent??null,i,ZD(i)),T=Xd(y,c,this.paramsInheritanceStrategy);return y.params=Object.freeze(T.params),y.data=Object.freeze(T.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe($t(x=>this.applyRedirects.lineralizeSegments(i,x)),Xe(x=>this.processSegment(e,r,t,x.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=dL(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe($t(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe($t(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,T=new cs(m,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,YD(r),_n(r),r.component??r._loadedComponent??null,r,ZD(r)),M=Xd(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(M.params),T.data=Object.freeze(M.data);let{segmentGroup:x,slicedSegments:V}=QD(t,m,y,l);if(V.length===0&&x.hasChildren())return this.processChildren(h,l,x,T).pipe(ce(oe=>new Zt(T,oe)));if(l.length===0&&V.length===0)return Z(new Zt(T,[]));let Q=_n(r)===o;return this.processSegment(h,l,x,V,Q?ne:o,!0,T).pipe(ce(oe=>new Zt(T,oe instanceof Zt?[oe]:[])))}))):os(t)))}getChildConfig(e,t,r){return t.children?Z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Z({routes:t._loadedRoutes,injector:t._loadedInjector}):sL(e,t,r,this.urlSerializer).pipe(Xe(i=>i?this.configLoader.loadChildren(e,t).pipe(st(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):uL(t))):Z({routes:[],injector:e})}};function EL(n){n.sort((e,t)=>e.value.outlet===ne?-1:t.value.outlet===ne?1:e.value.outlet.localeCompare(t.value.outlet))}function IL(n){let e=n.value.routeConfig;return e&&e.path===""}function bT(n){let e=[],t=new Set;for(let r of n){if(!IL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=bT(r.children);e.push(new Zt(r.value,i))}return e.filter(r=>!t.has(r))}function YD(n){return n.data||{}}function ZD(n){return n.resolve||{}}function wL(n,e,t,r,i,o){return Xe(s=>vL(n,e,t,r,s.extractedUrl,i,o).pipe(ce(({state:c,tree:u})=>le(L({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function bL(n,e){return Xe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Z(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of CT(u))s.add(l);let c=0;return Pe(s).pipe(Oo(u=>o.has(u)?CL(u,r,n,e):(u.data=Xd(u,u.parent,n).resolve,Z(void 0))),st(()=>c++),ko(1),Xe(u=>c===s.size?Z(t):jt))})}function CT(n){let e=n.children.map(t=>CT(t)).flat();return[n,...e]}function CL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!pT(i)&&(o[Dc]=i.title),Ta(()=>(n.data=Xd(n,n.parent,t).resolve,DL(o,n,e,r).pipe(ce(s=>(n._resolvedData=s,n.data=L(L({},n.data),s),null)))))}function DL(n,e,t,r){let i=Yy(n);if(i.length===0)return Z({});let o={};return Pe(i).pipe(Xe(s=>TL(n[s],e,t,r).pipe(Xn(),st(c=>{if(c instanceof wc)throw th(new ds,c);o[s]=c}))),ko(1),ce(()=>o),xr(s=>ET(s)?jt:Ro(s)))}function TL(n,e,t,r){let i=ms(e)??r,o=ys(n,i),s=o.resolve?o.resolve(e,t):nt(i,()=>o(e,t));return hr(s)}function Ky(n){return $t(e=>{let t=n(e);return t?Pe(t).pipe(ce(()=>e)):Z(e)})}var DT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ne);return r}getResolvedTitleForRoute(t){return t.data[Dc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>R(SL),providedIn:"root"})}return n})(),SL=(()=>{class n extends DT{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(K(zD))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sh=new q("",{providedIn:"root",factory:()=>({})}),ah=new q(""),TT=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=R(Ey);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=hr(nt(t,()=>r.loadComponent())).pipe(ce(ST),$t(AT),st(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Sa(()=>{this.componentLoaders.delete(r)})),o=new So(i,()=>new We).pipe(To());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=AL(r,this.compiler,t,this.onLoadEndListener).pipe(Sa(()=>{this.childrenLoaders.delete(r)})),s=new So(o,()=>new We).pipe(To());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AL(n,e,t,r){return hr(nt(t,()=>n.loadChildren())).pipe(ce(ST),$t(AT),Xe(i=>i instanceof bd||Array.isArray(i)?Z(i):Pe(e.compileModuleAsync(i))),ce(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(ah,[],{optional:!0,self:!0}).flat()),{routes:s.map(wv),injector:o}}))}function xL(n){return n&&typeof n=="object"&&"default"in n}function ST(n){return xL(n)?n.default:n}function AT(n){return Z(n)}var bv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>R(ML),providedIn:"root"})}return n})(),ML=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xT=new q("");var MT=new q(""),RT=(()=>{class n{currentNavigation=Ne(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new We;transitionAbortWithErrorSubject=new We;configLoader=R(TT);environmentInjector=R(et);destroyRef=R(or);urlSerializer=R(rh);rootContexts=R(Tc);location=R(is);inputBindingEnabled=R(ih,{optional:!0})!==null;titleStrategy=R(DT);options=R(sh,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=R(bv);createViewTransition=R(xT,{optional:!0});navigationErrorHandler=R(MT,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Z(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new iv(i)),r=i=>this.events.next(new ov(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;ut(()=>{this.transitions?.next(le(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new ft(null),this.transitions.pipe(Gt(r=>r!==null),$t(r=>{let i=!1;return Z(r).pipe($t(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ht.SupersededByNewNavigation),jt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?le(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&c!=="reload")return this.events.next(new Xr(o.id,this.urlSerializer.serialize(o.rawUrl),"",Qd.IgnoredSameUrlNavigation)),o.resolve(!1),jt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Z(o).pipe($t(u=>(this.events.next(new fs(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?jt:Promise.resolve(u))),wL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),st(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Yd(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new fs(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let T=hT(this.rootComponentType).snapshot;return this.currentTransition=r=le(L({},o),{targetSnapshot:T,urlAfterRedirects:l,extras:le(L({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),Z(r)}else return this.events.next(new Xr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Qd.IgnoredByUrlHandlingStrategy)),o.resolve(!1),jt}),st(o=>{let s=new ev(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ce(o=>(this.currentTransition=r=le(L({},o),{guards:BF(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),JF(this.environmentInjector,o=>this.events.next(o)),st(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw th(this.urlSerializer,o.guardsResult);let s=new tv(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Gt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ht.GuardRejected),!1)),Ky(o=>{if(o.guards.canActivateChecks.length!==0)return Z(o).pipe(st(s=>{let c=new nv(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),$t(s=>{let c=!1;return Z(s).pipe(bL(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",Ht.NoDataFromResolver)}}))}),st(s=>{let c=new rv(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),Ky(o=>{let s=c=>{let u=[];if(c.routeConfig?.loadComponent){let l=ms(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,c.routeConfig).pipe(st(h=>{c.component=h}),ce(()=>{})))}for(let l of c.children)u.push(...s(l));return u};return Po(s(o.targetSnapshot.root)).pipe(Mr(null),Jn(1))}),Ky(()=>this.afterPreactivation()),$t(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return c?Pe(c).pipe(ce(()=>r)):Z(r)}),ce(o=>{let s=FF(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=le(L({},o),{targetRouterState:s}),this.currentNavigation.update(c=>(c.targetRouterState=s,c)),r}),st(()=>{this.events.next(new Ec)}),jF(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Jn(1),ml(new re(o=>{let s=r.abortController.signal,c=()=>o.next();return s.addEventListener("abort",c),()=>s.removeEventListener("abort",c)}).pipe(Gt(()=>!i&&!r.targetRouterState),st(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ht.Aborted)}))),st({next:o=>{i=!0,this.lastSuccessfulNavigation=ut(this.currentNavigation),this.events.next(new Jr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),ml(this.transitionAbortWithErrorSubject.pipe(st(o=>{throw o}))),Sa(()=>{i||this.cancelNavigationTransition(r,"",Ht.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),xr(o=>{if(this.destroyed)return r.resolve(!1),jt;if(i=!0,_T(o))this.events.next(new lr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),UF(o)?this.events.next(new ps(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new _c(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=nt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof wc){let{message:u,cancellationCode:l}=th(this.urlSerializer,c);this.events.next(new lr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new ps(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return jt}))}))}cancelNavigationTransition(t,r,i){let o=new lr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ut(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RL(n){return n!==mc}var PL=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>R(NL),providedIn:"root"})}return n})(),Ev=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},NL=(()=>{class n extends Ev{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ns(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PT=(()=>{class n{urlSerializer=R(rh);options=R(sh,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=R(is);urlHandlingStrategy=R(bv);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new dr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof dr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=hT(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>R(OL),providedIn:"root"})}return n})(),OL=(()=>{class n extends PT{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof fs?this.updateStateMemento():t instanceof Xr?this.commitTransition(r):t instanceof Yd?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ec?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof lr&&t.code!==Ht.SupersededByNewNavigation&&t.code!==Ht.Redirect?this.restoreHistory(r):t instanceof _c?this.restoreHistory(r,!0):t instanceof Jr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,u=L(L({},s),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ns(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function NT(n,e){n.events.pipe(Gt(t=>t instanceof Jr||t instanceof lr||t instanceof _c||t instanceof Xr),ce(t=>t instanceof Jr||t instanceof Xr?0:(t instanceof lr?t.code===Ht.Redirect||t.code===Ht.SupersededByNewNavigation:!1)?2:1),Gt(t=>t!==2),Jn(1)).subscribe(()=>{e()})}var kL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Cv=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=R(cy);stateManager=R(PT);options=R(sh,{optional:!0})||{};pendingTasks=R(Nn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=R(RT);urlSerializer=R(rh);location=R(is);urlHandlingStrategy=R(bv);injector=R(et);_events=new We;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=R(PL);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=R(ah,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!R(ih,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ve;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=ut(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof lr&&r.code!==Ht.Redirect&&r.code!==Ht.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Jr)this.navigated=!0;else if(r instanceof ps){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||RL(i.source)},s);this.scheduleNavigation(c,mc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}RF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),mc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o).catch(u=>{this.disposed||this.injector.get(Rt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ut(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(wv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=cT(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return uT(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=hs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,mc,null,r)}navigate(t,r={skipLocationChange:!1}){return LL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Lo(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},kL):r===!1?i=L({},FL):i=r,hs(t))return qD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return qD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{c=p,u=m});let h=this.pendingTasks.add();return NT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new $(4008,!1)}var VL=new q("");function Dv(n,...e){return Sn([{provide:ah,multi:!0,useValue:n},[],{provide:zi,useFactory:UL,deps:[Cv]},{provide:Dd,multi:!0,useFactory:jL},e.map(t=>t.\u0275providers)])}function UL(n){return n.routerState.root}function jL(){let n=R(gt);return e=>{let t=n.get(Wr);if(e!==t.components[0])return;let r=n.get(Cv),i=n.get(BL);n.get($L)===1&&r.initialNavigation(),n.get(HL,null,{optional:!0})?.setUpPreloading(),n.get(VL,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var BL=new q("",{factory:()=>new We}),$L=new q("",{providedIn:"root",factory:()=>1});var HL=new q("");var OT=()=>{};var LT=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},qL=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ch={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(LT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Sv;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Sv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},GL=function(n){let e=LT(n);return ch.encodeByteArray(e,!0)},xc=function(n){return GL(n).replace(/\./g,"")},uh=function(n){try{return ch.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var WL=()=>xv().__FIREBASE_DEFAULTS__,KL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},QL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&uh(n[1]);return e&&JSON.parse(e)},lh=()=>{try{return OT()||WL()||KL()||QL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},VT=n=>{var e,t;return(t=(e=lh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},UT=n=>{let e=VT(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Mv=()=>{var n;return(n=lh())===null||n===void 0?void 0:n.config},jT=n=>{var e;return(e=lh())===null||e===void 0?void 0:e[`_${n}`]};var qi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Gi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Rv(n){return S(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function BT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[xc(JSON.stringify(t)),xc(JSON.stringify(s)),""].join(".")}var Ac={};function YL(){let n={prod:[],emulator:[]};for(let e of Object.keys(Ac))Ac[e]?n.emulator.push(e):n.prod.push(e);return n}function ZL(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var kT=!1;function Pv(n,e){if(typeof window>"u"||typeof document>"u"||!Gi(window.location.host)||Ac[n]===e||Ac[n]||kT)return;Ac[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=YL().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{kT=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=ZL(r),y=t("text"),T=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),x=document.getElementById(M)||document.createElement("a"),V=t("preprendIcon"),Q=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let oe=m.element;c(oe),h(x,M);let Ce=l();u(Q,V),oe.append(Q,T,x,Ce),document.body.appendChild(oe)}o?(T.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $T(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function JL(){var n;let e=(n=lh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zT(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GT(){return!JL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mc(){try{return typeof indexedDB=="object"}catch{return!1}}function WT(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var XL="FirebaseError",hn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=XL,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,En.prototype.create)}},En=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?eV(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new hn(i,c,r)}};function eV(n,e){return n.replace(tV,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var tV=/\{\$([^}]+)}/g;function Wi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(FT(o)&&FT(s)){if(!Wi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function FT(n){return n!==null&&typeof n=="object"}function Nv(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function KT(n,e){let t=new Av(n,e);return t.subscribe.bind(t)}var Av=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");nV(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Tv),i.error===void 0&&(i.error=Tv),i.complete===void 0&&(i.complete=Tv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function nV(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Tv(){}var qX=14400*1e3;function jn(n){return n&&n._delegate?n._delegate:n}var Vt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ki="[DEFAULT]";var Ov=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new qi;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iV(e))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ki){return this.instances.has(e)}getOptions(e=Ki){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ki){return this.component?this.component.multipleInstances?e:Ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function rV(n){return n===Ki?void 0:n}function iV(n){return n.instantiationMode==="EAGER"}var dh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Ov(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var oV=[],he=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(he||{}),sV={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},aV=he.INFO,cV={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},uV=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=cV[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Bn=class{constructor(e){this.name=e,this._logLevel=aV,this._logHandler=uV,this._userLogHandler=null,oV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var lV=(n,e)=>e.some(t=>n instanceof t),QT,YT;function dV(){return QT||(QT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hV(){return YT||(YT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ZT=new WeakMap,Fv=new WeakMap,JT=new WeakMap,kv=new WeakMap,Vv=new WeakMap;function fV(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t($n(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&ZT.set(t,n)}).catch(()=>{}),Vv.set(e,n),e}function pV(n){if(Fv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Fv.set(n,e)}var Lv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Fv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||JT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $n(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function XT(n){Lv=n(Lv)}function gV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(hh(this),e,...t);return JT.set(r,e.sort?e.sort():[e]),$n(r)}:hV().includes(n)?function(...e){return n.apply(hh(this),e),$n(ZT.get(this))}:function(...e){return $n(n.apply(hh(this),e))}}function mV(n){return typeof n=="function"?gV(n):(n instanceof IDBTransaction&&pV(n),lV(n,dV())?new Proxy(n,Lv):n)}function $n(n){if(n instanceof IDBRequest)return fV(n);if(kv.has(n))return kv.get(n);let e=mV(n);return e!==n&&(kv.set(n,e),Vv.set(e,n)),e}var hh=n=>Vv.get(n);function tS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=$n(s);return r&&s.addEventListener("upgradeneeded",u=>{r($n(s.result),u.oldVersion,u.newVersion,$n(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var yV=["get","getKey","getAll","getAllKeys","count"],vV=["put","add","delete","clear"],Uv=new Map;function eS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Uv.get(e))return Uv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=vV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yV.includes(t)))return;let o=function(s,...c){return S(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return Uv.set(e,o),o}XT(n=>le(L({},n),{get:(e,t,r)=>eS(e,t)||n.get(e,t,r),has:(e,t)=>!!eS(e,t)||n.has(e,t)}));var Bv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_V(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function _V(n){let e=n.getComponent();return e?.type==="VERSION"}var $v="@firebase/app",nS="0.13.2";var fr=new Bn("@firebase/app"),EV="@firebase/app-compat",IV="@firebase/analytics-compat",wV="@firebase/analytics",bV="@firebase/app-check-compat",CV="@firebase/app-check",DV="@firebase/auth",TV="@firebase/auth-compat",SV="@firebase/database",AV="@firebase/data-connect",xV="@firebase/database-compat",MV="@firebase/functions",RV="@firebase/functions-compat",PV="@firebase/installations",NV="@firebase/installations-compat",OV="@firebase/messaging",kV="@firebase/messaging-compat",FV="@firebase/performance",LV="@firebase/performance-compat",VV="@firebase/remote-config",UV="@firebase/remote-config-compat",jV="@firebase/storage",BV="@firebase/storage-compat",$V="@firebase/firestore",HV="@firebase/ai",zV="@firebase/firestore-compat",qV="firebase",GV="11.10.0";var Hv="[DEFAULT]",WV={[$v]:"fire-core",[EV]:"fire-core-compat",[wV]:"fire-analytics",[IV]:"fire-analytics-compat",[CV]:"fire-app-check",[bV]:"fire-app-check-compat",[DV]:"fire-auth",[TV]:"fire-auth-compat",[SV]:"fire-rtdb",[AV]:"fire-data-connect",[xV]:"fire-rtdb-compat",[MV]:"fire-fn",[RV]:"fire-fn-compat",[PV]:"fire-iid",[NV]:"fire-iid-compat",[OV]:"fire-fcm",[kV]:"fire-fcm-compat",[FV]:"fire-perf",[LV]:"fire-perf-compat",[VV]:"fire-rc",[UV]:"fire-rc-compat",[jV]:"fire-gcs",[BV]:"fire-gcs-compat",[$V]:"fire-fst",[zV]:"fire-fst-compat",[HV]:"fire-vertex","fire-js":"fire-js",[qV]:"fire-js-all"};var Rc=new Map,KV=new Map,zv=new Map;function rS(n,e){try{n.container.addComponent(e)}catch(t){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function In(n){let e=n.name;if(zv.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;zv.set(e,n);for(let t of Rc.values())rS(t,n);for(let t of KV.values())rS(t,n);return!0}function fh(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pr(n){return n==null?!1:n.settings!==void 0}var QV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ei=new En("app","Firebase",QV);var qv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}};var vs=GV;function Kv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Hv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ei.create("bad-app-name",{appName:String(i)});if(t||(t=Mv()),!t)throw ei.create("no-options");let o=Rc.get(i);if(o){if(Wi(t,o.options)&&Wi(r,o.config))return o;throw ei.create("duplicate-app",{appName:i})}let s=new dh(i);for(let u of zv.values())s.addComponent(u);let c=new qv(t,r,s);return Rc.set(i,c),c}function _s(n=Hv){let e=Rc.get(n);if(!e&&n===Hv&&Mv())return Kv();if(!e)throw ei.create("no-app",{appName:n});return e}function ph(){return Array.from(Rc.values())}function qe(n,e,t){var r;let i=(r=WV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(c.join(" "));return}In(new Vt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var YV="firebase-heartbeat-database",ZV=1,Pc="firebase-heartbeat-store",jv=null;function aS(){return jv||(jv=tS(YV,ZV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ei.create("idb-open",{originalErrorMessage:n.message})})),jv}function JV(n){return S(this,null,function*(){try{let t=(yield aS()).transaction(Pc),r=yield t.objectStore(Pc).get(cS(n));return yield t.done,r}catch(e){if(e instanceof hn)fr.warn(e.message);else{let t=ei.create("idb-get",{originalErrorMessage:e?.message});fr.warn(t.message)}}})}function iS(n,e){return S(this,null,function*(){try{let r=(yield aS()).transaction(Pc,"readwrite");yield r.objectStore(Pc).put(e,cS(n)),yield r.done}catch(t){if(t instanceof hn)fr.warn(t.message);else{let r=ei.create("idb-set",{originalErrorMessage:t?.message});fr.warn(r.message)}}})}function cS(n){return`${n.name}!${n.options.appId}`}var XV=1024,e2=30,Gv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Wv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=oS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>e2){let s=n2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fr.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=oS(),{heartbeatsToSend:r,unsentEntries:i}=t2(this._heartbeatsCache.heartbeats),o=xc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return fr.warn(t),""}})}};function oS(){return new Date().toISOString().substring(0,10)}function t2(n,e=XV){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),sS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),sS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Wv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return Mc()?WT().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield JV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return iS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return iS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function sS(n){return xc(JSON.stringify({version:2,heartbeats:n})).length}function n2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function r2(n){In(new Vt("platform-logger",e=>new Bv(e),"PRIVATE")),In(new Vt("heartbeat",e=>new Gv(e),"PRIVATE")),qe($v,nS,n),qe($v,nS,"esm2017"),qe("fire-js","")}r2("");var i2="firebase",o2="11.10.0";qe(i2,o2,"app");function uS(n){n===void 0&&(n=R(gt));let e=n.get(Wo);return t=>new re(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var Yi=new _i("ANGULARFIRE2_VERSION");function mh(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Is=(n,e)=>{let t=e?[e]:ph(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Es=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Es||{}),lS=Ty()&&typeof Zone<"u"?Es.WARN:Es.SILENT;var gh=class{zone;delegate;constructor(e,t=Op){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Zi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=R(Se);this.outsideAngular=t.runOutsideAngular(()=>new gh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new gh(typeof Zone>"u"?void 0:Zone.current,Np))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dS=!1;function s2(n,e){!dS&&(lS>Es.SILENT||Ty())&&(dS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),lS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function a2(n){let e=R(Se,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Qi(n){let e=R(Se,{optional:!0});return e?e.run(()=>n()):n()}var c2=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),nt(t,()=>Qi(()=>n.apply(void 0,r)))),Hn=(n,e,t)=>(t||=e?Es.WARN:Es.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=R(Zi),s=R(Wo),c=R(et)}catch{return s2(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Qi(()=>s.add())),i[l]=c2(i[l],r,c));let u=a2(()=>n.apply(this,i));return e?u instanceof re?u.pipe(Ar(o.outsideAngular),Sr(o.insideAngular),uS(c)):u instanceof Promise?Qi(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>nt(c,()=>Qi(()=>h(m))),m=>nt(c,()=>Qi(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Qi(()=>u):u instanceof re?u.pipe(Ar(o.outsideAngular),Sr(o.insideAngular)):Qi(()=>u)});var Ji=class{constructor(e){return e}},Nc=class{constructor(){return ph()}};function u2(n){return n&&n.length===1?n[0]:new Ji(_s())}var Qv=new q("angularfire2._apps"),l2={provide:Ji,useFactory:u2,deps:[[new ar,Qv]]},d2={provide:Nc,deps:[[new ar,Qv]]};function h2(n){return(e,t)=>{let r=t.get(Li);qe("angularfire",Yi.full,"core"),qe("angularfire",Yi.full,"app"),qe("angular",Zp.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Ji(i)}}function hS(n,...e){return Sn([l2,d2,{provide:Qv,useFactory:h2(n),multi:!0,deps:[Se,gt,Zi,...e]}])}var fS=Hn(Kv,!0);var f2=new Map,p2={activated:!1,tokenObservers:[]},g2={initialized:!1,enabled:!1};function wn(n){return f2.get(n)||Object.assign({},p2)}function yS(){return g2}var m2="https://content-firebaseappcheck.googleapis.com/v1";var y2="exchangeDebugToken",pS={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Kee=1440*60*1e3;var Jv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return S(this,null,function*(){this.stop();try{this.pending=new qi,this.pending.promise.catch(t=>{}),yield v2(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new qi,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function v2(n){return new Promise(e=>{setTimeout(e,n)})}var _2={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ti=new En("appCheck","AppCheck",_2);function vS(n){if(!wn(n).activated)throw ti.create("use-before-activation",{appName:n.name})}function _S(r,i){return S(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,c)}catch(y){throw ti.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw ti.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw ti.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ti.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function ES(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${m2}/projects/${t}/apps/${r}:${y2}?key=${i}`,body:{debug_token:e}}}var E2="firebase-app-check-database",I2=1,Xv="firebase-app-check-store";var yh=null;function w2(){return yh||(yh=new Promise((n,e)=>{try{let t=indexedDB.open(E2,I2);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ti.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Xv,{keyPath:"compositeKey"})}}}catch(t){e(ti.create("storage-open",{originalErrorMessage:t?.message}))}}),yh)}function b2(n,e){return C2(D2(n),e)}function C2(n,e){return S(this,null,function*(){let r=(yield w2()).transaction(Xv,"readwrite"),o=r.objectStore(Xv).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(ti.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function D2(n){return`${n.options.appId}-${n.name}`}var Oc=new Bn("@firebase/app-check");function Yv(n,e){return Mc()?b2(n,e).catch(t=>{Oc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function IS(){return yS().enabled}function wS(){return S(this,null,function*(){let n=yS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var T2={error:"UNKNOWN_ERROR"};function S2(n){return ch.encodeString(JSON.stringify(n),!1)}function e_(n,e=!1,t=!1){return S(this,null,function*(){let r=n.app;vS(r);let i=wn(r),o=i.token,s;if(o&&!kc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(kc(l)?o=l:yield Yv(r,void 0))}if(!e&&o&&kc(o))return{token:o.token};let c=!1;if(IS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=_S(ES(r,yield wS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield Yv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Oc.warn(l.message):t&&Oc.error(l),Zv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield wn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Oc.warn(l.message):t&&Oc.error(l),s=l}let u;return o?s?kc(o)?u={token:o.token,internalError:s}:u=Zv(s):(u={token:o.token},i.token=o,yield Yv(r,o)):u=Zv(s),c&&R2(r,u),u})}function A2(n){return S(this,null,function*(){let e=n.app;vS(e);let{provider:t}=wn(e);if(IS()){let r=yield wS(),{token:i}=yield _S(ES(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function x2(n,e,t,r){let{app:i}=n,o=wn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&kc(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),gS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>gS(n))}function bS(n,e){let t=wn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function gS(n){let{app:e}=n,t=wn(e),r=t.tokenRefresher;r||(r=M2(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function M2(n){let{app:e}=n;return new Jv(()=>S(null,null,function*(){let t=wn(e),r;if(t.token?r=yield e_(n,!0):r=yield e_(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=wn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},pS.RETRIAL_MIN_WAIT,pS.RETRIAL_MAX_WAIT)}function R2(n,e){let t=wn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function kc(n){return n.expireTimeMillis-Date.now()>0}function Zv(n){return{token:S2(T2),error:n}}var t_=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=wn(this.app);for(let t of e)bS(this.app,t.next);return Promise.resolve()}};function P2(n,e){return new t_(n,e)}function N2(n){return{getToken:e=>e_(n,e),getLimitedUseToken:()=>A2(n),addTokenListener:e=>x2(n,"INTERNAL",e),removeTokenListener:e=>bS(n.app,e)}}var O2="@firebase/app-check",k2="0.10.1";var F2="app-check",mS="app-check-internal";function L2(){In(new Vt(F2,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return P2(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(mS).initialize()})),In(new Vt(mS,n=>{let e=n.getProvider("app-check").getImmediate();return N2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),qe(O2,k2)}L2();var V2="app-check";var vh=class{constructor(){return Is(V2)}};var U2=["localhost","0.0.0.0","127.0.0.1"],ate=typeof window<"u"&&U2.includes(window.location.hostname);function RS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var PS=RS,NS=new En("auth","Firebase",RS());var wh=new Bn("@firebase/auth");function B2(n,...e){wh.logLevel<=he.WARN&&wh.warn(`Auth (${vs}): ${n}`,...e)}function Eh(n,...e){wh.logLevel<=he.ERROR&&wh.error(`Auth (${vs}): ${n}`,...e)}function CS(n,...e){throw f_(n,...e)}function h_(n,...e){return f_(n,...e)}function OS(n,e,t){let r=Object.assign(Object.assign({},PS()),{[e]:t});return new En("auth","Firebase",r).create(e,{appName:n.name})}function Ih(n){return OS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return NS.create(n,...e)}function _e(n,e,...t){if(!n)throw f_(e,...t)}function Fc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Eh(e),new Error(e)}function bh(n,e){n||Fc(e)}function $2(){return DS()==="http:"||DS()==="https:"}function DS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function H2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($2()||zT()||"connection"in navigator)?navigator.onLine:!0}function z2(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var to=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,bh(t>e,"Short delay should be less than long delay!"),this.isMobile=$T()||qT()}get(){return H2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function q2(n,e){bh(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ch=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var G2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var W2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K2=new to(3e4,6e4);function kS(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function xh(o,s,c,u){return S(this,arguments,function*(n,e,t,r,i={}){return FS(n,i,()=>S(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Nv(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return HT()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Gi(n.emulatorConfig.host)&&(y.credentials="include"),Ch.fetch()(yield LS(n,n.config.apiHost,t,p),y)}))})}function FS(n,e,t){return S(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},G2),e);try{let i=new i_(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw _h(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw _h(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw _h(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw OS(n,h,l);CS(n,h)}}catch(i){if(i instanceof hn)throw i;CS(n,"network-request-failed",{message:String(i)})}})}function LS(n,e,t,r){return S(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?q2(n.config,i):`${n.config.apiScheme}://${i}`;return W2.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var i_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(h_(this.auth,"network-request-failed")),K2.get())})}};function _h(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=h_(n,e,r);return i.customData._tokenResponse=t,i}function Q2(n,e){return S(this,null,function*(){return xh(n,"POST","/v1/accounts:delete",e)})}function Dh(n,e){return S(this,null,function*(){return xh(n,"POST","/v1/accounts:lookup",e)})}function Lc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function p_(n,e=!1){return S(this,null,function*(){let t=jn(n),r=yield t.getIdToken(e),i=VS(r);_e(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Lc(n_(i.auth_time)),issuedAtTime:Lc(n_(i.iat)),expirationTime:Lc(n_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function n_(n){return Number(n)*1e3}function VS(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{let i=uh(t);return i?JSON.parse(i):(Eh("Failed to decode base64 JWT payload"),null)}catch(i){return Eh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function TS(n){let e=VS(n);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function o_(n,e,t=!1){return S(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof hn&&Y2(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Y2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var s_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),t)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Uc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Th(n){return S(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield o_(n,Dh(t,{idToken:r}));_e(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?US(o.providerUserInfo):[],c=Z2(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!c?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Uc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function g_(n){return S(this,null,function*(){let e=jn(n);yield Th(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Z2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function US(n){return n.map(e=>{var{providerId:t}=e,r=kp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function J2(n,e){return S(this,null,function*(){let t=yield FS(n,{},()=>S(null,null,function*(){let r=Nv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield LS(n,i,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&Gi(n.emulatorConfig.host)&&(u.credentials="include"),Ch.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function X2(n,e){return S(this,null,function*(){return xh(n,"POST","/v2/accounts:revokeToken",kS(n,e))})}var Vc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_e(e.length!==0,"internal-error");let t=TS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return S(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield J2(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(_e(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Fc("not implemented")}};function ni(n,e){_e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Xi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=kp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new s_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Uc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let t=yield o_(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return p_(this,e)}reload(){return g_(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Th(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(pr(this.auth.app))return Promise.reject(Ih(this.auth));let e=yield this.getIdToken();return yield o_(this,Q2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(c=t.tenantId)!==null&&c!==void 0?c:void 0,x=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=t.createdAt)!==null&&l!==void 0?l:void 0,Q=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:oe,emailVerified:Ce,isAnonymous:St,providerData:we,stsTokenManager:w}=t;_e(oe&&w,e,"internal-error");let v=Vc.fromJSON(this.name,w);_e(typeof oe=="string",e,"internal-error"),ni(p,e.name),ni(m,e.name),_e(typeof Ce=="boolean",e,"internal-error"),_e(typeof St=="boolean",e,"internal-error"),ni(y,e.name),ni(T,e.name),ni(M,e.name),ni(x,e.name),ni(V,e.name),ni(Q,e.name);let E=new n({uid:oe,auth:e,email:m,emailVerified:Ce,displayName:p,isAnonymous:St,photoURL:T,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:V,lastLoginAt:Q});return we&&Array.isArray(we)&&(E.providerData=we.map(I=>Object.assign({},I))),x&&(E._redirectEventId=x),E}static _fromIdTokenResponse(e,t,r=!1){return S(this,null,function*(){let i=new Vc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Th(o),o})}static _fromGetAccountInfoResponse(e,t,r){return S(this,null,function*(){let i=t.users[0];_e(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?US(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Vc;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Uc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var SS=new Map;function eo(n){bh(n instanceof Function,"Expected a class definition");let e=SS.get(n);return e?(bh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,SS.set(n,e),e)}var eU=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(t,r){return S(this,null,function*(){this.storage[t]=r})}_get(t){return S(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return S(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),a_=eU;function r_(n,e,t){return`firebase:${n}:${e}:${t}`}var Sh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=r_(this.userKey,i.apiKey,o),this.fullPersistenceKey=r_("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Dh(this.auth,{idToken:e}).catch(()=>{});return t?Xi._fromGetAccountInfoResponse(this.auth,t,e):null}return Xi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return S(this,null,function*(){if(!t.length)return new n(eo(a_),e,r);let i=(yield Promise.all(t.map(l=>S(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||eo(a_),s=r_(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Dh(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield Xi._fromGetAccountInfoResponse(e,m,h)}else p=Xi._fromJSON(e,h);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(l=>S(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function AS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sU(e))return"Blackberry";if(aU(e))return"Webos";if(nU(e))return"Safari";if((e.includes("chrome/")||rU(e))&&!e.includes("edge/"))return"Chrome";if(oU(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function tU(n=Jt()){return/firefox\//i.test(n)}function nU(n=Jt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rU(n=Jt()){return/crios\//i.test(n)}function iU(n=Jt()){return/iemobile/i.test(n)}function oU(n=Jt()){return/android/i.test(n)}function sU(n=Jt()){return/blackberry/i.test(n)}function aU(n=Jt()){return/webos/i.test(n)}function jS(n,e=[]){let t;switch(n){case"Browser":t=AS(Jt());break;case"Worker":t=`${AS(Jt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vs}/${r}`}var c_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function cU(t){return S(this,arguments,function*(n,e={}){return xh(n,"GET","/v2/passwordPolicy",kS(n,e))})}var uU=6,u_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:uU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var l_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ah(this),this.idTokenSubscription=new Ah(this),this.beforeStateQueue=new c_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=eo(t)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Sh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let t=yield Dh(this,{idToken:e}),r=yield Xi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var t;if(pr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield Th(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=z2()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(pr(this.app))return Promise.reject(Ih(this));let t=e?jn(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return S(this,null,function*(){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return pr(this.app)?Promise.reject(Ih(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return pr(this.app)?Promise.reject(Ih(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(eo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield cU(this),t=new u_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new En("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield X2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&eo(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=yield Sh.create(this,[eo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return S(this,null,function*(){var e;if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&B2(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function lU(n){return jn(n)}var Ah=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=KT(t=>this.observer=t)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var dU={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hU(n){dU=n}function fU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function pU(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(eo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var _te=fU("rcb"),Ete=new to(3e4,6e4);var Ite=new to(2e3,1e4);var wte=600*1e3;var bte=new to(3e4,6e4);var Cte=new to(5e3,15e3);var Dte=encodeURIComponent("fac");var xS="@firebase/auth",MS="1.10.8";var d_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function gU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mU(n){In(new Vt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;_e(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jS(n)},l=new l_(r,i,o,u);return pU(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),In(new Vt("auth-internal",e=>{let t=lU(e.getProvider("auth").getImmediate());return(r=>new d_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),qe(xS,MS,gU(n)),qe(xS,MS,"esm2017")}var yU=300,Tte=jT("authIdTokenMaxAge")||yU;function vU(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}hU({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=h_("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",vU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mU("Browser");var mj="auth";var Mh=class{constructor(){return Is(mj)}};var BS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$S={};var gr,m_;(function(){var n;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,b,D){for(var _=Array(arguments.length-2),Kn=2;Kn<arguments.length;Kn++)_[Kn-2]=arguments[Kn];return v.prototype[b].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)I[b]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(b=0;16>b;++b)I[b]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],b=w.g[2];var D=w.g[3],_=v+(D^E&(b^D))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=D+(b^v&(E^b))+I[1]+3905402710&4294967295,D=v+(_<<12&4294967295|_>>>20),_=b+(E^D&(v^E))+I[2]+606105819&4294967295,b=D+(_<<17&4294967295|_>>>15),_=E+(v^b&(D^v))+I[3]+3250441966&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(D^E&(b^D))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=D+(b^v&(E^b))+I[5]+1200080426&4294967295,D=v+(_<<12&4294967295|_>>>20),_=b+(E^D&(v^E))+I[6]+2821735955&4294967295,b=D+(_<<17&4294967295|_>>>15),_=E+(v^b&(D^v))+I[7]+4249261313&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(D^E&(b^D))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=D+(b^v&(E^b))+I[9]+2336552879&4294967295,D=v+(_<<12&4294967295|_>>>20),_=b+(E^D&(v^E))+I[10]+4294925233&4294967295,b=D+(_<<17&4294967295|_>>>15),_=E+(v^b&(D^v))+I[11]+2304563134&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(D^E&(b^D))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=D+(b^v&(E^b))+I[13]+4254626195&4294967295,D=v+(_<<12&4294967295|_>>>20),_=b+(E^D&(v^E))+I[14]+2792965006&4294967295,b=D+(_<<17&4294967295|_>>>15),_=E+(v^b&(D^v))+I[15]+1236535329&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(b^D&(E^b))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=D+(E^b&(v^E))+I[6]+3225465664&4294967295,D=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(D^v))+I[11]+643717713&4294967295,b=D+(_<<14&4294967295|_>>>18),_=E+(D^v&(b^D))+I[0]+3921069994&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^D&(E^b))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=D+(E^b&(v^E))+I[10]+38016083&4294967295,D=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(D^v))+I[15]+3634488961&4294967295,b=D+(_<<14&4294967295|_>>>18),_=E+(D^v&(b^D))+I[4]+3889429448&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^D&(E^b))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=D+(E^b&(v^E))+I[14]+3275163606&4294967295,D=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(D^v))+I[3]+4107603335&4294967295,b=D+(_<<14&4294967295|_>>>18),_=E+(D^v&(b^D))+I[8]+1163531501&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^D&(E^b))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=D+(E^b&(v^E))+I[2]+4243563512&4294967295,D=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(D^v))+I[7]+1735328473&4294967295,b=D+(_<<14&4294967295|_>>>18),_=E+(D^v&(b^D))+I[12]+2368359562&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(E^b^D)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=D+(v^E^b)+I[8]+2272392833&4294967295,D=v+(_<<11&4294967295|_>>>21),_=b+(D^v^E)+I[11]+1839030562&4294967295,b=D+(_<<16&4294967295|_>>>16),_=E+(b^D^v)+I[14]+4259657740&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^D)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=D+(v^E^b)+I[4]+1272893353&4294967295,D=v+(_<<11&4294967295|_>>>21),_=b+(D^v^E)+I[7]+4139469664&4294967295,b=D+(_<<16&4294967295|_>>>16),_=E+(b^D^v)+I[10]+3200236656&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^D)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=D+(v^E^b)+I[0]+3936430074&4294967295,D=v+(_<<11&4294967295|_>>>21),_=b+(D^v^E)+I[3]+3572445317&4294967295,b=D+(_<<16&4294967295|_>>>16),_=E+(b^D^v)+I[6]+76029189&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^D)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=D+(v^E^b)+I[12]+3873151461&4294967295,D=v+(_<<11&4294967295|_>>>21),_=b+(D^v^E)+I[15]+530742520&4294967295,b=D+(_<<16&4294967295|_>>>16),_=E+(b^D^v)+I[2]+3299628645&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(b^(E|~D))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=D+(E^(v|~b))+I[7]+1126891415&4294967295,D=v+(_<<10&4294967295|_>>>22),_=b+(v^(D|~E))+I[14]+2878612391&4294967295,b=D+(_<<15&4294967295|_>>>17),_=E+(D^(b|~v))+I[5]+4237533241&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~D))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=D+(E^(v|~b))+I[3]+2399980690&4294967295,D=v+(_<<10&4294967295|_>>>22),_=b+(v^(D|~E))+I[10]+4293915773&4294967295,b=D+(_<<15&4294967295|_>>>17),_=E+(D^(b|~v))+I[1]+2240044497&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~D))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=D+(E^(v|~b))+I[15]+4264355552&4294967295,D=v+(_<<10&4294967295|_>>>22),_=b+(v^(D|~E))+I[6]+2734768916&4294967295,b=D+(_<<15&4294967295|_>>>17),_=E+(D^(b|~v))+I[13]+1309151649&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~D))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=D+(E^(v|~b))+I[11]+3174756917&4294967295,D=v+(_<<10&4294967295|_>>>22),_=b+(v^(D|~E))+I[2]+718787259&4294967295,b=D+(_<<15&4294967295|_>>>17),_=E+(D^(b|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+b&4294967295,w.g[3]=w.g[3]+D&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,b=this.h,D=0;D<v;){if(b==0)for(;D<=E;)i(this,w,D),D+=this.blockSize;if(typeof w=="string"){for(;D<v;)if(I[b++]=w.charCodeAt(D++),b==this.blockSize){i(this,I),b=0;break}}else for(;D<v;)if(I[b++]=w[D++],b==this.blockSize){i(this,I),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=c;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,b=w.length-1;0<=b;b--){var D=w[b]|0;I&&D==v||(E[b]=D,I=!1)}this.g=E}var c={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return x(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return x(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,b=0;b<w.length;b+=8){var D=Math.min(8,w.length-b),_=parseInt(w.substring(b,b+D),v);8>D?(D=l(Math.pow(v,D)),I=I.j(D).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-x(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(T(this))return"0";if(M(this))return"-"+x(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var b=Ce(E,v).g;E=V(E,b.j(v));var D=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=b,T(E))return D+I;for(;6>D.length;)D="0"+D;I=D+I}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function T(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function M(w){return w.h==-1}n.l=function(w){return w=V(this,w),M(w)?-1:T(w)?0:1};function x(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}n.abs=function(){return M(this)?x(this):this},n.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,b=0;b<=v;b++){var D=I+(this.i(b)&65535)+(w.i(b)&65535),_=(D>>>16)+(this.i(b)>>>16)+(w.i(b)>>>16);I=_>>>16,D&=65535,_&=65535,E[b]=_<<16|D}return new s(E,E[E.length-1]&-2147483648?-1:0)};function V(w,v){return w.add(x(v))}n.j=function(w){if(T(this)||T(w))return p;if(M(this))return M(w)?x(this).j(x(w)):x(x(this).j(w));if(M(w))return x(this.j(x(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var b=0;b<w.g.length;b++){var D=this.i(I)>>>16,_=this.i(I)&65535,Kn=w.i(b)>>>16,ta=w.i(b)&65535;E[2*I+2*b]+=_*ta,Q(E,2*I+2*b),E[2*I+2*b+1]+=D*ta,Q(E,2*I+2*b+1),E[2*I+2*b+1]+=_*Kn,Q(E,2*I+2*b+1),E[2*I+2*b+2]+=D*Kn,Q(E,2*I+2*b+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function Q(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function oe(w,v){this.g=w,this.h=v}function Ce(w,v){if(T(v))throw Error("division by zero");if(T(w))return new oe(p,p);if(M(w))return v=Ce(x(w),v),new oe(x(v.g),x(v.h));if(M(v))return v=Ce(w,x(v)),new oe(x(v.g),v.h);if(30<w.g.length){if(M(w)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=St(E),I=St(I);var b=we(E,1),D=we(I,1);for(I=we(I,2),E=we(E,2);!T(I);){var _=D.add(I);0>=_.l(w)&&(b=b.add(E),D=_),I=we(I,1),E=we(E,1)}return v=V(w,b.j(v)),new oe(b,v)}for(b=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),D=l(E),_=D.j(v);M(_)||0<_.l(w);)E-=I,D=l(E),_=D.j(v);T(D)&&(D=m),b=b.add(D),w=V(w,_)}return new oe(b,w)}n.A=function(w){return Ce(this,w).h},n.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},n.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},n.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function St(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function we(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,b=[],D=0;D<I;D++)b[D]=0<v?w.i(D+E)>>>v|w.i(D+E+1)<<32-v:w.i(D+E);return new s(b,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,m_=$S.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,gr=$S.Integer=s}).apply(typeof BS<"u"?BS:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mr={};var y_,yj,ws,v_,jc,Ph,__,E_,I_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var C=a[g];if(!(C in f))break e;f=f[C]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,g=!1,C={next:function(){if(!g&&f<a.length){var A=f++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function m(a,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function T(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,C,A){for(var F=Array(arguments.length-2),De=2;De<arguments.length;De++)F[De-2]=arguments[De];return d.prototype[C].apply(g,F)}}function M(a){let d=a.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function x(a,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=a.length||0,A=g.length||0;a.length=C+A;for(let F=0;F<A;F++)a[C+F]=g[F]}else a.push(g)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Q(a){return/^[\s\xa0]*$/.test(a)}function oe(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Ce(a){return Ce[" "](a),a}Ce[" "]=function(){};var St=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function we(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function w(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function v(a){let d={};for(let f in a)d[f]=a[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)a[f]=g[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function b(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function D(a){c.setTimeout(()=>{throw a},0)}function _(){var a=qf;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Kn{constructor(){this.h=this.g=null}add(d,f){let g=ta.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ta=new V(()=>new SM,a=>a.reset());class SM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let na,ra=!1,qf=new Kn,xI=()=>{let a=c.Promise.resolve(void 0);na=()=>{a.then(AM)}};var AM=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(f){D(f)}var d=ta;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}ra=!1};function wr(){this.s=this.s,this.C=this.C}wr.prototype.s=!1,wr.prototype.ma=function(){this.s||(this.s=!0,this.N())},wr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function vt(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var xM=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a})();function ia(a,d){if(vt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(St){e:{try{Ce(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:MM[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ia.aa.h.call(this)}}T(ia,vt);var MM={2:"touch",3:"pen",4:"mouse"};ia.prototype.h=function(){ia.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var oa="closure_listenable_"+(1e6*Math.random()|0),RM=0;function PM(a,d,f,g,C){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++RM,this.da=this.fa=!1}function mu(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function yu(a){this.src=a,this.g={},this.h=0}yu.prototype.add=function(a,d,f,g,C){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var F=Wf(a,d,g,C);return-1<F?(d=a[F],f||(d.fa=!1)):(d=new PM(d,this.src,A,!!g,C),d.fa=f,a.push(d)),d};function Gf(a,d){var f=d.type;if(f in a.g){var g=a.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(mu(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Wf(a,d,f,g){for(var C=0;C<a.length;++C){var A=a[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var Kf="closure_lm_"+(1e6*Math.random()|0),Qf={};function MI(a,d,f,g,C){if(g&&g.once)return PI(a,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)MI(a,d[A],f,g,C);return null}return f=Xf(f),a&&a[oa]?a.K(d,f,l(g)?!!g.capture:!!g,C):RI(a,d,f,!1,g,C)}function RI(a,d,f,g,C,A){if(!d)throw Error("Invalid event type");var F=l(C)?!!C.capture:!!C,De=Zf(a);if(De||(a[Kf]=De=new yu(a)),f=De.add(d,f,g,F,A),f.proxy)return f;if(g=NM(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)xM||(C=F),C===void 0&&(C=!1),a.addEventListener(d.toString(),g,C);else if(a.attachEvent)a.attachEvent(OI(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function NM(){function a(f){return d.call(a.src,a.listener,f)}let d=OM;return a}function PI(a,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)PI(a,d[A],f,g,C);return null}return f=Xf(f),a&&a[oa]?a.L(d,f,l(g)?!!g.capture:!!g,C):RI(a,d,f,!0,g,C)}function NI(a,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)NI(a,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=Xf(f),a&&a[oa]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],f=Wf(A,f,g,C),-1<f&&(mu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=Zf(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Wf(d,f,g,C)),(f=-1<a?d[a]:null)&&Yf(f))}function Yf(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[oa])Gf(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(OI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Zf(d))?(Gf(f,a),f.h==0&&(f.src=null,d[Kf]=null)):mu(a)}}}function OI(a){return a in Qf?Qf[a]:Qf[a]="on"+a}function OM(a,d){if(a.da)a=!0;else{d=new ia(d,this);var f=a.listener,g=a.ha||a.src;a.fa&&Yf(a),a=f.call(g,d)}return a}function Zf(a){return a=a[Kf],a instanceof yu?a:null}var Jf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xf(a){return typeof a=="function"?a:(a[Jf]||(a[Jf]=function(d){return a.handleEvent(d)}),a[Jf])}function _t(){wr.call(this),this.i=new yu(this),this.M=this,this.F=null}T(_t,wr),_t.prototype[oa]=!0,_t.prototype.removeEventListener=function(a,d,f,g){NI(this,a,d,f,g)};function At(a,d){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new vt(d,a);else if(d instanceof vt)d.target=d.target||a;else{var C=d;d=new vt(g,a),I(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var F=d.g=f[A];C=vu(F,g,!0,d)&&C}if(F=d.g=a,C=vu(F,g,!0,d)&&C,C=vu(F,g,!1,d)&&C,f)for(A=0;A<f.length;A++)F=d.g=f[A],C=vu(F,g,!1,d)&&C}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],g=0;g<f.length;g++)mu(f[g]);delete a.g[d],a.h--}}this.F=null},_t.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},_t.prototype.L=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function vu(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var F=d[A];if(F&&!F.da&&F.capture==f){var De=F.listener,ht=F.ha||F.src;F.fa&&Gf(a.i,F),C=De.call(ht,g)!==!1&&C}}return C&&!g.defaultPrevented}function kI(a,d,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function FI(a){a.g=kI(()=>{a.g=null,a.i&&(a.i=!1,FI(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class kM extends wr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:FI(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(a){wr.call(this),this.h=a,this.g={}}T(sa,wr);var LI=[];function VI(a){we(a.g,function(d,f){this.g.hasOwnProperty(f)&&Yf(d)},a),a.g={}}sa.prototype.N=function(){sa.aa.N.call(this),VI(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ep=c.JSON.stringify,FM=c.JSON.parse,LM=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function tp(){}tp.prototype.h=null;function UI(a){return a.h||(a.h=a.i())}function jI(){}var aa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function np(){vt.call(this,"d")}T(np,vt);function rp(){vt.call(this,"c")}T(rp,vt);var li={},BI=null;function _u(){return BI=BI||new _t}li.La="serverreachability";function $I(a){vt.call(this,li.La,a)}T($I,vt);function ca(a){let d=_u();At(d,new $I(d))}li.STAT_EVENT="statevent";function HI(a,d){vt.call(this,li.STAT_EVENT,a),this.stat=d}T(HI,vt);function xt(a){let d=_u();At(d,new HI(d,a))}li.Ma="timingevent";function zI(a,d){vt.call(this,li.Ma,a),this.size=d}T(zI,vt);function ua(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function la(){this.g=!0}la.prototype.xa=function(){this.g=!1};function VM(a,d,f,g,C,A){a.info(function(){if(a.g)if(A)for(var F="",De=A.split("&"),ht=0;ht<De.length;ht++){var ve=De[ht].split("=");if(1<ve.length){var Et=ve[0];ve=ve[1];var It=Et.split("_");F=2<=It.length&&It[1]=="type"?F+(Et+"="+ve+"&"):F+(Et+"=redacted&")}}else F=null;else F=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+F})}function UM(a,d,f,g,C,A,F){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+F})}function lo(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+BM(a,f)+(g?" "+g:"")})}function jM(a,d){a.info(function(){return"TIMEOUT: "+d})}la.prototype.info=function(){};function BM(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var F=1;F<C.length;F++)C[F]=""}}}}return ep(f)}catch{return d}}var Eu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ip;function Iu(){}T(Iu,tp),Iu.prototype.g=function(){return new XMLHttpRequest},Iu.prototype.i=function(){return{}},ip=new Iu;function br(a,d,f,g){this.j=a,this.i=d,this.l=f,this.R=g||1,this.U=new sa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new GI}function GI(){this.i=null,this.g="",this.h=!1}var WI={},op={};function sp(a,d,f){a.L=1,a.v=Du(Qn(d)),a.m=f,a.P=!0,KI(a,null)}function KI(a,d){a.F=Date.now(),wu(a),a.A=Qn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),cw(f.i,"t",g),a.C=0,f=a.j.J,a.h=new GI,a.g=Tw(a.j,f?d:null,!a.m),0<a.O&&(a.M=new kM(m(a.Y,a,a.g),a.O)),d=a.U,f=a.g,g=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(LI[0]=C.toString()),C=LI);for(var A=0;A<C.length;A++){var F=MI(f,C[A],g||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ca(),VM(a.i,a.u,a.A,a.l,a.R,a.m)}br.prototype.ca=function(a){a=a.target;let d=this.M;d&&Yn(a)==3?d.j():this.Y(a)},br.prototype.Y=function(a){try{if(a==this.g)e:{let It=Yn(this.g);var d=this.g.Ba();let po=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||gw(this.g)))){this.J||It!=4||d==7||(d==8||0>=po?ca(3):ca(2)),ap(this);var f=this.g.Z();this.X=f;t:if(QI(this)){var g=gw(this.g);a="";var C=g.length,A=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){di(this),da(this);var F="";break t}this.h.i=new c.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=a,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,UM(this.i,this.u,this.A,this.l,this.R,It,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,ht=this.g;if((De=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(De)){var ve=De;break t}}ve=null}if(f=ve)lo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cp(this,f);else{this.o=!1,this.s=3,xt(12),di(this),da(this);break e}}if(this.P){f=!0;let pn;for(;!this.J&&this.C<F.length;)if(pn=$M(this,F),pn==op){It==4&&(this.s=4,xt(14),f=!1),lo(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==WI){this.s=4,xt(15),lo(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else lo(this.i,this.l,pn,null),cp(this,pn);if(QI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||F.length!=0||this.h.h||(this.s=1,xt(16),f=!1),this.o=this.o&&f,!f)lo(this.i,this.l,F,"[Invalid Chunked Response]"),di(this),da(this);else if(0<F.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),pp(Et),Et.M=!0,xt(11))}}else lo(this.i,this.l,F,null),cp(this,F);It==4&&di(this),this.o&&!this.J&&(It==4?ww(this.j,this):(this.o=!1,wu(this)))}else oR(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),di(this),da(this)}}}catch{}finally{}};function QI(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function $M(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?op:(f=Number(d.substring(f,g)),isNaN(f)?WI:(g+=1,g+f>d.length?op:(d=d.slice(g,g+f),a.C=g+f,d)))}br.prototype.cancel=function(){this.J=!0,di(this)};function wu(a){a.S=Date.now()+a.I,YI(a,a.I)}function YI(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ua(m(a.ba,a),d)}function ap(a){a.B&&(c.clearTimeout(a.B),a.B=null)}br.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(jM(this.i,this.A),this.L!=2&&(ca(),xt(17)),di(this),this.s=2,da(this)):YI(this,this.S-a)};function da(a){a.j.G==0||a.J||ww(a.j,a)}function di(a){ap(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,VI(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function cp(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||up(f.h,a))){if(!a.K&&up(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)Mu(f),Au(f);else break e;fp(f),xt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=ua(m(f.Za,f),6e3));if(1>=XI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else fi(f,11)}else if((a.K||f.g==a)&&Mu(f),!Q(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ve=C[d];if(f.T=ve[0],ve=ve[1],f.G==2)if(ve[0]=="c"){f.K=ve[1],f.ia=ve[2];let Et=ve[3];Et!=null&&(f.la=Et,f.j.info("VER="+f.la));let It=ve[4];It!=null&&(f.Aa=It,f.j.info("SVER="+f.Aa));let po=ve[5];po!=null&&typeof po=="number"&&0<po&&(g=1.5*po,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let pn=a.g;if(pn){let Pu=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pu){var A=g.h;A.g||Pu.indexOf("spdy")==-1&&Pu.indexOf("quic")==-1&&Pu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(lp(A,A.h),A.h=null))}if(g.D){let gp=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;gp&&(g.ya=gp,Ae(g.I,g.D,gp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var F=a;if(g.qa=Dw(g,g.J?g.ia:null,g.W),F.K){ew(g.h,F);var De=F,ht=g.L;ht&&(De.I=ht),De.B&&(ap(De),wu(De)),g.g=F}else Ew(g);0<f.i.length&&xu(f)}else ve[0]!="stop"&&ve[0]!="close"||fi(f,7);else f.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?fi(f,7):hp(f):ve[0]!="noop"&&f.l&&f.l.ta(ve),f.v=0)}}ca(4)}catch{}}var HM=class{constructor(a,d){this.g=a,this.map=d}};function ZI(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function JI(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function XI(a){return a.h?1:a.g?a.g.size:0}function up(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function lp(a,d){a.g?a.g.add(d):a.h=d}function ew(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}ZI.prototype.cancel=function(){if(this.i=tw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function tw(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return M(a.i)}function zM(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,g=0;g<f;g++)d.push(a[g]);return d}d=[],f=0;for(g in a)d[f++]=a[g];return d}function qM(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let g in a)d[f++]=g;return d}}}function nw(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=qM(a),g=zM(a),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],a)}var rw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GM(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),C=null;if(0<=g){var A=a[f].substring(0,g);C=a[f].substring(g+1)}else A=a[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function hi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof hi){this.h=a.h,bu(this,a.j),this.o=a.o,this.g=a.g,Cu(this,a.s),this.l=a.l;var d=a.i,f=new pa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),iw(this,f),this.m=a.m}else a&&(d=String(a).match(rw))?(this.h=!1,bu(this,d[1]||"",!0),this.o=ha(d[2]||""),this.g=ha(d[3]||"",!0),Cu(this,d[4]),this.l=ha(d[5]||"",!0),iw(this,d[6]||"",!0),this.m=ha(d[7]||"")):(this.h=!1,this.i=new pa(null,this.h))}hi.prototype.toString=function(){var a=[],d=this.j;d&&a.push(fa(d,ow,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(fa(d,ow,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(fa(f,f.charAt(0)=="/"?QM:KM,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",fa(f,ZM)),a.join("")};function Qn(a){return new hi(a)}function bu(a,d,f){a.j=f?ha(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Cu(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function iw(a,d,f){d instanceof pa?(a.i=d,JM(a.i,a.h)):(f||(d=fa(d,YM)),a.i=new pa(d,a.h))}function Ae(a,d,f){a.i.set(d,f)}function Du(a){return Ae(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ha(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function fa(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,WM),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function WM(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ow=/[#\/\?@]/g,KM=/[#\?:]/g,QM=/[#\?]/g,YM=/[#\?@]/g,ZM=/#/g;function pa(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Cr(a){a.g||(a.g=new Map,a.h=0,a.i&&GM(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=pa.prototype,n.add=function(a,d){Cr(this),this.i=null,a=ho(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function sw(a,d){Cr(a),d=ho(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function aw(a,d){return Cr(a),d=ho(a,d),a.g.has(d)}n.forEach=function(a,d){Cr(this),this.g.forEach(function(f,g){f.forEach(function(C){a.call(d,C,g,this)},this)},this)},n.na=function(){Cr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=a[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},n.V=function(a){Cr(this);let d=[];if(typeof a=="string")aw(this,a)&&(d=d.concat(this.g.get(ho(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},n.set=function(a,d){return Cr(this),this.i=null,a=ho(this,a),aw(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function cw(a,d,f){sw(a,d),0<f.length&&(a.i=null,a.g.set(ho(a,d),M(f)),a.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),F=this.V(g);for(g=0;g<F.length;g++){var C=A;F[g]!==""&&(C+="="+encodeURIComponent(String(F[g]))),a.push(C)}}return this.i=a.join("&")};function ho(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function JM(a,d){d&&!a.j&&(Cr(a),a.i=null,a.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(sw(this,g),cw(this,C,f))},a)),a.j=d}function XM(a,d){let f=new la;if(c.Image){let g=new Image;g.onload=y(Dr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Dr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Dr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Dr,f,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function eR(a,d){let f=new la,g=new AbortController,C=setTimeout(()=>{g.abort(),Dr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?Dr(f,"TestPingServer: ok",!0,d):Dr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Dr(f,"TestPingServer: error",!1,d)})}function Dr(a,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function tR(){this.g=new LM}function nR(a,d,f){let g=f||"";try{nw(a,function(C,A){let F=C;l(C)&&(F=ep(C)),d.push(g+A+"="+encodeURIComponent(F))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function ga(a){this.l=a.Ub||null,this.j=a.eb||!1}T(ga,tp),ga.prototype.g=function(){return new Tu(this.l,this.j)},ga.prototype.i=(function(a){return function(){return a}})({});function Tu(a,d){_t.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Tu,_t),n=Tu.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ya(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ma(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ya(this)),this.g&&(this.readyState=3,ya(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uw(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function uw(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ma(this):ya(this),this.readyState==3&&uw(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,ma(this))},n.Qa=function(a){this.g&&(this.response=a,ma(this))},n.ga=function(){this.g&&ma(this)};function ma(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ya(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function ya(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Tu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function lw(a){let d="";return we(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function dp(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=lw(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Ae(a,d,f))}function Le(a){_t.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Le,_t);var rR=/^https?$/i,iR=["POST","PUT"];n=Le.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ip.g(),this.v=this.o?UI(this.o):UI(ip),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){dw(this,A);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(iR,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,F]of f)this.g.setRequestHeader(A,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pw(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){dw(this,A)}};function dw(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,hw(a),Su(a)}function hw(a){a.A||(a.A=!0,At(a,"complete"),At(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,At(this,"complete"),At(this,"abort"),Su(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Su(this,!0)),Le.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?fw(this):this.bb())},n.bb=function(){fw(this)};function fw(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Yn(a)!=4||a.Z()!=2)){if(a.u&&Yn(a)==4)kI(a.Ea,0,a);else if(At(a,"readystatechange"),Yn(a)==4){a.h=!1;try{let F=a.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=F===0){var C=String(a.D).match(rw)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),g=!rR.test(C?C.toLowerCase():"")}f=g}if(f)At(a,"complete"),At(a,"success");else{a.m=6;try{var A=2<Yn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",hw(a)}}finally{Su(a)}}}}function Su(a,d){if(a.g){pw(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||At(a,"ready");try{f.onreadystatechange=g}catch{}}}function pw(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Yn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),FM(d)}};function gw(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function oR(a){let d={};a=(a.g&&2<=Yn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(Q(a[g]))continue;var f=b(a[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}w(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function va(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function mw(a){this.Aa=0,this.i=[],this.j=new la,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=va("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=va("baseRetryDelayMs",5e3,a),this.cb=va("retryDelaySeedMs",1e4,a),this.Wa=va("forwardChannelMaxRetries",2,a),this.wa=va("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ZI(a&&a.concurrentRequestLimit),this.Da=new tR,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=mw.prototype,n.la=8,n.G=1,n.connect=function(a,d,f,g){xt(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Dw(this,null,this.W),xu(this)};function hp(a){if(yw(a),a.G==3){var d=a.U++,f=Qn(a.I);if(Ae(f,"SID",a.K),Ae(f,"RID",d),Ae(f,"TYPE","terminate"),_a(a,f),d=new br(a,a.j,d),d.L=2,d.v=Du(Qn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=Tw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),wu(d)}Cw(a)}function Au(a){a.g&&(pp(a),a.g.cancel(),a.g=null)}function yw(a){Au(a),a.u&&(c.clearTimeout(a.u),a.u=null),Mu(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function xu(a){if(!JI(a.h)&&!a.s){a.s=!0;var d=a.Ga;na||xI(),ra||(na(),ra=!0),qf.add(d,a),a.B=0}}function sR(a,d){return XI(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ua(m(a.Ga,a,d),bw(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new br(this,this.j,a),A=this.o;if(this.S&&(A?(A=v(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=_w(this,C,d),f=Qn(this.I),Ae(f,"RID",a),Ae(f,"CVER",22),this.D&&Ae(f,"X-HTTP-Session-Id",this.D),_a(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(lw(A)))+"&"+d:this.m&&dp(f,this.m,A)),lp(this.h,C),this.Ua&&Ae(f,"TYPE","init"),this.P?(Ae(f,"$req",d),Ae(f,"SID","null"),C.T=!0,sp(C,f,null)):sp(C,f,d),this.G=2}}else this.G==3&&(a?vw(this,a):this.i.length==0||JI(this.h)||vw(this))};function vw(a,d){var f;d?f=d.l:f=a.U++;let g=Qn(a.I);Ae(g,"SID",a.K),Ae(g,"RID",f),Ae(g,"AID",a.T),_a(a,g),a.m&&a.o&&dp(g,a.m,a.o),f=new br(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=_w(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),lp(a.h,f),sp(f,g,d)}function _a(a,d){a.H&&we(a.H,function(f,g){Ae(d,g,f)}),a.l&&nw({},function(f,g){Ae(d,g,f)})}function _w(a,d,f){f=Math.min(a.i.length,f);var g=a.l?m(a.l.Na,a.l,a):null;e:{var C=a.i;let A=-1;for(;;){let F=["count="+f];A==-1?0<f?(A=C[0].g,F.push("ofs="+A)):A=0:F.push("ofs="+A);let De=!0;for(let ht=0;ht<f;ht++){let ve=C[ht].g,Et=C[ht].map;if(ve-=A,0>ve)A=Math.max(0,C[ht].g-100),De=!1;else try{nR(Et,F,"req"+ve+"_")}catch{g&&g(Et)}}if(De){g=F.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,g}function Ew(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;na||xI(),ra||(na(),ra=!0),qf.add(d,a),a.v=0}}function fp(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ua(m(a.Fa,a),bw(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,Iw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ua(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),Au(this),Iw(this))};function pp(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Iw(a){a.g=new br(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Qn(a.qa);Ae(d,"RID","rpc"),Ae(d,"SID",a.K),Ae(d,"AID",a.T),Ae(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ae(d,"TO",a.ja),Ae(d,"TYPE","xmlhttp"),_a(a,d),a.m&&a.o&&dp(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Du(Qn(d)),f.m=null,f.P=!0,KI(f,a)}n.Za=function(){this.C!=null&&(this.C=null,Au(this),fp(this),xt(19))};function Mu(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function ww(a,d){var f=null;if(a.g==d){Mu(a),pp(a),a.g=null;var g=2}else if(up(a.h,d))f=d.D,ew(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;g=_u(),At(g,new zI(g,f)),xu(a)}else Ew(a);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&sR(a,d)||g==2&&fp(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),C){case 1:fi(a,5);break;case 4:fi(a,10);break;case 3:fi(a,6);break;default:fi(a,2)}}}function bw(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function fi(a,d){if(a.j.info("Error code "+d),d==2){var f=m(a.fb,a),g=a.Xa;let C=!g;g=new hi(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||bu(g,"https"),Du(g),C?XM(g.toString(),f):eR(g.toString(),f)}else xt(2);a.G=0,a.l&&a.l.sa(d),Cw(a),yw(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Cw(a){if(a.G=0,a.ka=[],a.l){let d=tw(a.h);(d.length!=0||a.i.length!=0)&&(x(a.ka,d),x(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function Dw(a,d,f){var g=f instanceof hi?Qn(f):new hi(f);if(g.g!="")d&&(g.g=d+"."+g.g),Cu(g,g.s);else{var C=c.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new hi(null);g&&bu(A,g),d&&(A.g=d),C&&Cu(A,C),f&&(A.l=f),g=A}return f=a.D,d=a.ya,f&&d&&Ae(g,f,d),Ae(g,"VER",a.la),_a(a,g),g}function Tw(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Le(new ga({eb:f})):new Le(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sw(){}n=Sw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ru(){}Ru.prototype.g=function(a,d){return new zt(a,d)};function zt(a,d){_t.call(this),this.g=new mw(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!Q(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Q(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new fo(this)}T(zt,_t),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){hp(this.g)},zt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=ep(a),a=f);d.i.push(new HM(d.Ya++,a)),d.G==3&&xu(d)},zt.prototype.N=function(){this.g.l=null,delete this.j,hp(this.g),delete this.g,zt.aa.N.call(this)};function Aw(a){np.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}T(Aw,np);function xw(){rp.call(this),this.status=1}T(xw,rp);function fo(a){this.g=a}T(fo,Sw),fo.prototype.ua=function(){At(this.g,"a")},fo.prototype.ta=function(a){At(this.g,new Aw(a))},fo.prototype.sa=function(a){At(this.g,new xw)},fo.prototype.ra=function(){At(this.g,"b")},Ru.prototype.createWebChannel=Ru.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,I_=mr.createWebChannelTransport=function(){return new Ru},E_=mr.getStatEventTarget=function(){return _u()},__=mr.Event=li,Ph=mr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Eu.NO_ERROR=0,Eu.TIMEOUT=8,Eu.HTTP_ERROR=6,jc=mr.ErrorCode=Eu,qI.COMPLETE="complete",v_=mr.EventType=qI,jI.EventType=aa,aa.OPEN="a",aa.CLOSE="b",aa.ERROR="c",aa.MESSAGE="d",_t.prototype.listen=_t.prototype.K,ws=mr.WebChannel=jI,yj=mr.FetchXmlHttpFactory=ga,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,y_=mr.XhrIo=Le}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});var HS="@firebase/firestore",zS="4.8.0";var lt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");var Ks="11.10.0";var ao=new Bn("@firebase/firestore");function bs(){return ao.logLevel}function U(n,...e){if(ao.logLevel<=he.DEBUG){let t=e.map(tI);ao.debug(`Firestore (${Ks}): ${n}`,...t)}}function vr(n,...e){if(ao.logLevel<=he.ERROR){let t=e.map(tI);ao.error(`Firestore (${Ks}): ${n}`,...t)}}function oi(n,...e){if(ao.logLevel<=he.WARN){let t=e.map(tI);ao.warn(`Firestore (${Ks}): ${n}`,...t)}}function tI(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ee(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,FA(n,r,t)}function FA(n,e,t){let r=`FIRESTORE (${Ks}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw vr(r),new Error(r)}function Fe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||FA(e,i,r)}function me(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends hn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ri=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Uh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},S_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(lt.UNAUTHENTICATED))}shutdown(){}},A_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},x_=class{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ri,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ri)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string",31837,{l:r}),new Uh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new lt(e)}},M_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},R_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new M_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},jh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},P_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new jh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function vj(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function LA(){return new TextEncoder}var Wc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=vj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function de(n,e){return n<e?-1:n>e?1:0}function N_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return de(r,i);{let o=LA(),s=_j(o.encode(qS(n,t)),o.encode(qS(e,t)));return s!==0?s:de(r,i)}}t+=r>65535?2:1}return de(n.length,e.length)}function qS(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function _j(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return de(n[t],e[t]);return de(n.length,e.length)}function ks(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var GS="__name__",Bh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ee(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ee(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return de(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):N_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}},ke=class n extends Bh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Ej=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bn=class n extends Bh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Ej.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GS}static keyField(){return new n([GS])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new z(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new z(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new z(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var W=class n{constructor(e){this.path=e}static fromPath(e){return new n(ke.fromString(e))}static fromName(e){return new n(ke.fromString(e).popFirst(5))}static empty(){return new n(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ke(e.slice()))}};function VA(n,e,t){if(!t)throw new z(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Ij(n,e,t,r){if(e===!0&&r===!0)throw new z(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function WS(n){if(!W.isDocumentKey(n))throw new z(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function KS(n){if(W.isDocumentKey(n))throw new z(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wj(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function bj(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ee(12329,{type:typeof n})}function Fh(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new z(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=bj(n);throw new z(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Je(n,e){let t={typeString:n};return e&&(t.value=e),t}function au(n,e){if(!wj(n))throw new z(k.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new z(k.INVALID_ARGUMENT,t);return!0}var QS=-62135596800,YS=1e6,Ut=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*YS);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new z(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new z(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<QS)throw new z(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YS}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-QS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ut._jsonSchemaVersion="firestore/timestamp/1.0",Ut._jsonSchema={type:Je("string",Ut._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};var ie=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Ut(0,0))}static max(){return new n(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Kc=-1,O_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};O_.UNKNOWN_ID=-1;function Cj(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new Ut(t+1,0):new Ut(t,r));return new co(i,W.empty(),e)}function Dj(n){return new co(n.readTime,n.key,Kc)}var co=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ie.min(),W.empty(),Kc)}static max(){return new n(ie.max(),W.empty(),Kc)}};function Tj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=W.comparator(n.documentKey,e.documentKey),t!==0?t:de(n.largestBatchId,e.largestBatchId))}var Sj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",k_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function gf(n){return S(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==Sj)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function Aj(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qs(n){return n.name==="IndexedDbTransactionError"}var nI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),xj=-1;function mf(n){return n==null}function $h(n){return n===0&&1/n==-1/0}var UA="";function Mj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ZS(e)),e=Rj(n.get(t),e);return ZS(e)}function Rj(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case UA:t+="";break;default:t+=o}}return t}function ZS(n){return n+UA+""}var Pj="remoteDocuments",jA="owner";var BA="mutationQueues";var $A="mutations";var HA="documentMutations",Nj="remoteDocumentsV14";var zA="remoteDocumentGlobal";var qA="targets";var GA="targetDocuments";var WA="targetGlobal",KA="collectionParents";var QA="clientMetadata";var YA="bundles";var ZA="namedQueries";var Oj="indexConfiguration";var kj="indexState";var Fj="indexEntries";var JA="documentOverlays";var Lj="globals";var Vj=[BA,$A,HA,Pj,qA,jA,WA,GA,QA,zA,KA,YA,ZA],Mne=[...Vj,JA],Uj=[BA,$A,HA,Nj,qA,jA,WA,GA,QA,zA,KA,YA,ZA,JA],jj=Uj,Bj=[...jj,Oj,kj,Fj];var Rne=[...Bj,Lj];function JS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cu(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $j(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ge=class n{constructor(e,t){this.comparator=e,this.root=t||zn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ss(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ss(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ss(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ss(this.root,e,this.comparator,!0)}},Ss=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},zn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}};zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new zn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class n{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hh(this.data.getIterator())}getIteratorFrom(e){return new Hh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Hh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var no=class n{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new n([])}unionWith(e){let t=new dt(bn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ks(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var zh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Tt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zh("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tt.EMPTY_BYTE_STRING=new Tt("");var Hj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(n){if(Fe(!!n,39018),typeof n=="string"){let e=0,t=Hj.exec(n);if(Fe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(n.seconds),nanos:Re(n.nanos)}}function Re(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Er(n){return typeof n=="string"?Tt.fromBase64String(n):Tt.fromUint8Array(n)}var XA="server_timestamp",ex="__type__",tx="__previous_value__",nx="__local_write_time__";function rI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ex])===null||t===void 0?void 0:t.stringValue)===XA}function yf(n){let e=n.mapValue.fields[tx];return rI(e)?yf(e):e}function Qc(n){let e=_r(n.mapValue.fields[nx].timestampValue);return new Ut(e.seconds,e.nanos)}var F_=class{constructor(e,t,r,i,o,s,c,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},qh="(default)",Gh=class n{constructor(e,t){this.projectId=e,this.database=t||qh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var rx="__type__",ix="__max__",Nh={mapValue:{fields:{__type__:{stringValue:ix}}}},ox="__vector__",Yc="value";function si(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rI(n)?4:ax(n)?9007199254740991:sx(n)?10:11:ee(28295,{value:n})}function Gn(n,e){if(n===e)return!0;let t=si(n);if(t!==si(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qc(n).isEqual(Qc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=_r(i.timestampValue),c=_r(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Er(i.bytesValue).isEqual(Er(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Re(i.geoPointValue.latitude)===Re(o.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Re(i.integerValue)===Re(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Re(i.doubleValue),c=Re(o.doubleValue);return s===c?$h(s)===$h(c):isNaN(s)&&isNaN(c)}return!1})(n,e);case 9:return ks(n.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(JS(s)!==JS(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Gn(s[u],c[u])))return!1;return!0})(n,e);default:return ee(52216,{left:n})}}function Zc(n,e){return(n.values||[]).find(t=>Gn(t,e))!==void 0}function Fs(n,e){if(n===e)return 0;let t=si(n),r=si(e);if(t!==r)return de(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return de(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=Re(o.integerValue||o.doubleValue),u=Re(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,e);case 3:return XS(n.timestampValue,e.timestampValue);case 4:return XS(Qc(n),Qc(e));case 5:return N_(n.stringValue,e.stringValue);case 6:return(function(o,s){let c=Er(o),u=Er(s);return c.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=de(c[l],u[l]);if(h!==0)return h}return de(c.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=de(Re(o.latitude),Re(s.latitude));return c!==0?c:de(Re(o.longitude),Re(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return eA(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var c,u,l,h;let p=o.fields||{},m=s.fields||{},y=(c=p[Yc])===null||c===void 0?void 0:c.arrayValue,T=(u=m[Yc])===null||u===void 0?void 0:u.arrayValue,M=de(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:eA(y,T)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Nh.mapValue&&s===Nh.mapValue)return 0;if(o===Nh.mapValue)return 1;if(s===Nh.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=N_(u[p],h[p]);if(m!==0)return m;let y=Fs(c[u[p]],l[h[p]]);if(y!==0)return y}return de(u.length,h.length)})(n.mapValue,e.mapValue);default:throw ee(23264,{le:t})}}function XS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return de(n,e);let t=_r(n),r=_r(e),i=de(t.seconds,r.seconds);return i!==0?i:de(t.nanos,r.nanos)}function eA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Fs(t[i],r[i]);if(o)return o}return de(t.length,r.length)}function Ls(n){return L_(n)}function L_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=_r(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Er(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return W.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=L_(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${L_(t.fields[s])}`;return i+"}"})(n.mapValue):ee(61005,{value:n})}function Lh(n){switch(si(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=yf(n);return e?16+Lh(e):16;case 5:return 2*n.stringValue.length;case 6:return Er(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Lh(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return cu(r.fields,(o,s)=>{i+=o.length+Lh(s)}),i})(n.mapValue);default:throw ee(13486,{value:n})}}function V_(n){return!!n&&"integerValue"in n}function iI(n){return!!n&&"arrayValue"in n}function tA(n){return!!n&&"nullValue"in n}function nA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function w_(n){return!!n&&"mapValue"in n}function sx(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[rx])===null||t===void 0?void 0:t.stringValue)===ox}function $c(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return cu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$c(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$c(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ax(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ix}var Nne={mapValue:{fields:{[rx]:{stringValue:ox},[Yc]:{arrayValue:{}}}}};var yr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!w_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$c(t)}setAll(e){let t=bn.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=$c(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());w_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];w_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){cu(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n($c(this.value))}};var Cn=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ie.min(),ie.min(),ie.min(),yr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ie.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ie.min(),ie.min(),yr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ie.min(),ie.min(),yr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Vs=class{constructor(e,t){this.position=e,this.inclusive=t}};function rA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),t.key):r=Fs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function iA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gn(n.position[t],e.position[t]))return!1;return!0}var Us=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function zj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Wh=class{},ot=class n extends Wh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new j_(e,t,r):t==="array-contains"?new H_(e,r):t==="in"?new z_(e,r):t==="not-in"?new q_(e,r):t==="array-contains-any"?new G_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new B_(e,r):new $_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fs(t,this.value)):t!==null&&si(this.value)===si(t)&&this.matchesComparison(Fs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Wn=class n extends Wh{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return cx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function cx(n){return n.op==="and"}function ux(n){return qj(n)&&cx(n)}function qj(n){for(let e of n.filters)if(e instanceof Wn)return!1;return!0}function U_(n){if(n instanceof ot)return n.field.canonicalString()+n.op.toString()+Ls(n.value);if(ux(n))return n.filters.map(e=>U_(e)).join(",");{let e=n.filters.map(t=>U_(t)).join(",");return`${n.op}(${e})`}}function lx(n,e){return n instanceof ot?(function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&Gn(r.value,i.value)})(n,e):n instanceof Wn?(function(r,i){return i instanceof Wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&lx(s,i.filters[c]),!0):!1})(n,e):void ee(19439)}function dx(n){return n instanceof ot?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ls(t.value)}`})(n):n instanceof Wn?(function(t){return t.op.toString()+" {"+t.getFilters().map(dx).join(" ,")+"}"})(n):"Filter"}var j_=class extends ot{constructor(e,t,r){super(e,t,r),this.key=W.fromName(r.referenceValue)}matches(e){let t=W.comparator(e.key,this.key);return this.matchesComparison(t)}},B_=class extends ot{constructor(e,t){super(e,"in",t),this.keys=hx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},$_=class extends ot{constructor(e,t){super(e,"not-in",t),this.keys=hx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function hx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>W.fromName(r.referenceValue))}var H_=class extends ot{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return iI(t)&&Zc(t.arrayValue,this.value)}},z_=class extends ot{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Zc(this.value.arrayValue,t)}},q_=class extends ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Zc(this.value.arrayValue,t)}},G_=class extends ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!iI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Zc(this.value.arrayValue,r))}};var W_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function oA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new W_(n,e,t,r,i,o,s)}function oI(n){let e=me(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>U_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),mf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ls(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ls(r)).join(",")),e.Pe=t}return e.Pe}function sI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!lx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iA(n.startAt,e.startAt)&&iA(n.endAt,e.endAt)}function K_(n){return W.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var js=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Gj(n,e,t,r,i,o,s,c){return new js(n,e,t,r,i,o,s,c)}function aI(n){return new js(n)}function sA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Wj(n){return n.collectionGroup!==null}function Hc(n){let e=me(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new dt(bn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Us(o,r))}),t.has(bn.keyField().canonicalString())||e.Te.push(new Us(bn.keyField(),r))}return e.Te}function qn(n){let e=me(n);return e.Ie||(e.Ie=Kj(e,Hc(n))),e.Ie}function Kj(n,e){if(n.limitType==="F")return oA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Us(i.field,o)});let t=n.endAt?new Vs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Vs(n.startAt.position,n.startAt.inclusive):null;return oA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Q_(n,e,t){return new js(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vf(n,e){return sI(qn(n),qn(e))&&n.limitType===e.limitType}function fx(n){return`${oI(qn(n))}|lt:${n.limitType}`}function Cs(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>dx(i)).join(", ")}]`),mf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ls(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ls(i)).join(",")),`Target(${r})`})(qn(n))}; limitType=${n.limitType})`}function _f(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Hc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let l=rA(s,c,u);return s.inclusive?l<=0:l<0})(r.startAt,Hc(r),i)||r.endAt&&!(function(s,c,u){let l=rA(s,c,u);return s.inclusive?l>=0:l>0})(r.endAt,Hc(r),i))})(n,e)}function Qj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function px(n){return(e,t)=>{let r=!1;for(let i of Hc(n)){let o=Yj(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Yj(n,e,t){let r=n.field.isKeyField()?W.comparator(e.key,t.key):(function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Fs(u,l):ee(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:n.dir})}}var Ir=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cu(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return $j(this.inner)}size(){return this.innerSize}};var Zj=new Ge(W.comparator);function ai(){return Zj}var gx=new Ge(W.comparator);function Bc(...n){let e=gx;for(let t of n)e=e.insert(t.key,t);return e}function Jj(n){let e=gx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ro(){return zc()}function mx(){return zc()}function zc(){return new Ir(n=>n.toString(),(n,e)=>n.isEqual(e))}var One=new Ge(W.comparator),Xj=new dt(W.comparator);function ye(...n){let e=Xj;for(let t of n)e=e.add(t);return e}var eB=new dt(de);function tB(){return eB}function nB(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function rB(n){return{integerValue:""+n}}var Bs=class{constructor(){this._=void 0}};function iB(n,e,t){return n instanceof Jc?(function(i,o){let s={fields:{[ex]:{stringValue:XA},[nx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&rI(o)&&(o=yf(o)),o&&(s.fields[tx]=o),{mapValue:s}})(t,e):n instanceof $s?yx(n,e):n instanceof Hs?vx(n,e):(function(i,o){let s=sB(i,o),c=aA(s)+aA(i.Ee);return V_(s)&&V_(i.Ee)?rB(c):nB(i.serializer,c)})(n,e)}function oB(n,e,t){return n instanceof $s?yx(n,e):n instanceof Hs?vx(n,e):t}function sB(n,e){return n instanceof Xc?(function(r){return V_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Jc=class extends Bs{},$s=class extends Bs{constructor(e){super(),this.elements=e}};function yx(n,e){let t=_x(e);for(let r of n.elements)t.some(i=>Gn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Hs=class extends Bs{constructor(e){super(),this.elements=e}};function vx(n,e){let t=_x(e);for(let r of n.elements)t=t.filter(i=>!Gn(i,r));return{arrayValue:{values:t}}}var Xc=class extends Bs{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function aA(n){return Re(n.integerValue||n.doubleValue)}function _x(n){return iI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function aB(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof $s&&i instanceof $s||r instanceof Hs&&i instanceof Hs?ks(r.elements,i.elements,Gn):r instanceof Xc&&i instanceof Xc?Gn(r.Ee,i.Ee):r instanceof Jc&&i instanceof Jc})(n.transform,e.transform)}var qc=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Vh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var eu=class{};function Ex(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Y_(n.key,qc.none()):new tu(n.key,n.data,qc.none());{let t=n.data,r=yr.empty(),i=new dt(bn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new zs(n.key,r,new no(i.toArray()),qc.none())}}function cB(n,e,t){n instanceof tu?(function(i,o,s){let c=i.value.clone(),u=uA(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):n instanceof zs?(function(i,o,s){if(!Vh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=uA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(Ix(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Gc(n,e,t,r){return n instanceof tu?(function(o,s,c,u){if(!Vh(o.precondition,s))return c;let l=o.value.clone(),h=lA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof zs?(function(o,s,c,u){if(!Vh(o.precondition,s))return c;let l=lA(o.fieldTransforms,u,s),h=s.data;return h.setAll(Ix(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,c){return Vh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(n,e,t)}function cA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ks(r,i,(o,s)=>aB(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var tu=class extends eu{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},zs=class extends eu{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Ix(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function uA(n,e,t){let r=new Map;Fe(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,oB(s,c,t[i]))}return r}function lA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,iB(o,s,e))}return r}var Y_=class extends eu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Z_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&cB(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Gc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Gc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=mx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=Ex(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ye())}isEqual(e){return this.batchId===e.batchId&&ks(this.mutations,e.mutations,(t,r)=>cA(t,r))&&ks(this.baseMutations,e.baseMutations,(t,r)=>cA(t,r))}};var J_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var X_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ye,ge;function wx(n){if(n===void 0)return vr("GRPC error has no .code"),k.UNKNOWN;switch(n){case Ye.OK:return k.OK;case Ye.CANCELLED:return k.CANCELLED;case Ye.UNKNOWN:return k.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return k.INTERNAL;case Ye.UNAVAILABLE:return k.UNAVAILABLE;case Ye.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ye.NOT_FOUND:return k.NOT_FOUND;case Ye.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ye.ABORTED:return k.ABORTED;case Ye.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ye.DATA_LOSS:return k.DATA_LOSS;default:return ee(39323,{code:n})}}(ge=Ye||(Ye={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";var dA=null;var uB=new gr([4294967295,4294967295],0);function hA(n){let e=LA().encode(n),t=new m_;return t.update(e),new Uint8Array(t.digest())}function fA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new gr([t,r],0),new gr([i,o],0)]}var eE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new io(`Invalid padding: ${t}`);if(r<0)throw new io(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new io(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new io(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=gr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(gr.fromNumber(r)));return i.compare(uB)===1&&(i=new gr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=hA(e),[r,i]=fA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let t=hA(e),[r,i]=fA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},io=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Kh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ie.min(),i,new Ge(de),ai(),ye())}},nu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ye(),ye(),ye())}};var As=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Qh=class{constructor(e,t){this.targetId=e,this.De=t}},Yh=class{constructor(e,t,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Zh=class{constructor(){this.ve=0,this.Ce=pA(),this.Fe=Tt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ye(),t=ye(),r=ye();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ee(38017,{changeType:o})}}),new nu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=pA()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},tE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=ai(),this.je=Oh(),this.Je=Oh(),this.He=new Ge(de)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(K_(o))if(r===0){let s=new W(o.path);this.Xe(t,s,Cn.newNoDocument(s,ie.min()))}else Fe(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}dA?.ct((function(h,p,m,y,T){var M,x,V,Q,oe,Ce;let St={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},we=p.unchangedNames;return we&&(St.bloomFilter={applied:T===0,hashCount:(M=we?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(Q=(V=(x=we?.bits)===null||x===void 0?void 0:x.bitmap)===null||V===void 0?void 0:V.length)!==null&&Q!==void 0?Q:0,padding:(Ce=(oe=we?.bits)===null||oe===void 0?void 0:oe.padding)!==null&&Ce!==void 0?Ce:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),St})(s,e.De,this.We.lt(),c,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=Er(r).toUint8Array()}catch(u){if(u instanceof zh)return oi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new eE(s,i,o)}catch(u){return oi(u instanceof io?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&K_(c.target)){let u=new W(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Cn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ye();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Kh(e,t,this.He,this.ze,r);return this.ze=ai(),this.je=Oh(),this.Je=Oh(),this.He=new Ge(de),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Zh,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new dt(de),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new dt(de),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Zh),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Oh(){return new Ge(W.comparator)}function pA(){return new Ge(W.comparator)}var lB={asc:"ASCENDING",desc:"DESCENDING"},dB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hB={and:"AND",or:"OR"},nE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function rE(n,e){return n.useProto3Json||mf(e)?e:{value:e}}function fB(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pB(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function xs(n){return Fe(!!n,49232),ie.fromTimestamp((function(t){let r=_r(t);return new Ut(r.seconds,r.nanos)})(n))}function gB(n,e){return iE(n,e).canonicalString()}function iE(n,e){let t=(function(i){return new ke(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function bx(n){let e=ke.fromString(n);return Fe(Ax(e),10190,{key:e.toString()}),e}function b_(n,e){let t=bx(e);if(t.get(1)!==n.databaseId.projectId)throw new z(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new z(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new W(Dx(t))}function Cx(n,e){return gB(n.databaseId,e)}function mB(n){let e=bx(n);return e.length===4?ke.emptyPath():Dx(e)}function gA(n){return new ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Dx(n){return Fe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function yB(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Fe(h===void 0||typeof h=="string",58123),Tt.fromBase64String(h||"")):(Fe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Tt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(l){let h=l.code===void 0?k.UNKNOWN:wx(l.code);return new z(h,l.message||"")})(s);t=new Yh(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=b_(n,r.document.name),o=xs(r.document.updateTime),s=r.document.createTime?xs(r.document.createTime):ie.min(),c=new yr({mapValue:{fields:r.document.fields}}),u=Cn.newFoundDocument(i,o,s,c),l=r.targetIds||[],h=r.removedTargetIds||[];t=new As(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=b_(n,r.document),o=r.readTime?xs(r.readTime):ie.min(),s=Cn.newNoDocument(i,o),c=r.removedTargetIds||[];t=new As([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=b_(n,r.document),o=r.removedTargetIds||[];t=new As([],o,i,null)}else{if(!("filter"in e))return ee(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new X_(i,o),c=r.targetId;t=new Qh(c,s)}}return t}function vB(n,e){return{documents:[Cx(n,e.path)]}}function _B(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Cx(n,i);let o=(function(l){if(l.length!==0)return Sx(Wn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:Ds(m.field),direction:wB(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=rE(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function EB(n){let e=mB(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Fe(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=Tx(p);return m instanceof Wn&&ux(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(T){return new Us(Ts(T.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(m))})(t.orderBy));let c=null;t.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,mf(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Vs(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Vs(y,m)})(t.endAt)),Gj(e,i,s,o,c,"F",u,l)}function IB(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Tx(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ts(t.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ts(t.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ts(t.unaryFilter.field);return ot.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ts(t.unaryFilter.field);return ot.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ot.create(Ts(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Wn.create(t.compositeFilter.filters.map(r=>Tx(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee(1026)}})(t.compositeFilter.op))})(n):ee(30097,{filter:n})}function wB(n){return lB[n]}function bB(n){return dB[n]}function CB(n){return hB[n]}function Ds(n){return{fieldPath:n.canonicalString()}}function Ts(n){return bn.fromServerFormat(n.fieldPath)}function Sx(n){return n instanceof ot?(function(t){if(t.op==="=="){if(nA(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NAN"}};if(tA(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nA(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NOT_NAN"}};if(tA(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(t.field),op:bB(t.op),value:t.value}}})(n):n instanceof Wn?(function(t){let r=t.getFilters().map(i=>Sx(i));return r.length===1?r[0]:{compositeFilter:{op:CB(t.op),filters:r}}})(n):ee(54877,{filter:n})}function Ax(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var ru=class n{constructor(e,t,r,i,o=ie.min(),s=ie.min(),c=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var oE=class{constructor(e){this.gt=e}};function DB(n){let e=EB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Q_(e,e.limit,"L"):e}var Jh=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),$h(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=_r(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Er(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?ax(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):sx(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ee(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Yc,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Re(c)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),W.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Jh.Ut=new Jh;var sE=class{constructor(){this.Dn=new aE}addToCollectionParentIndex(e,t){return this.Dn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(co.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(co.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},aE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new dt(ke.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(ke.comparator)).toArray()}};var kne=new Uint8Array(0);var mA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xx=41943040,fn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(xx,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);var iu=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var yA="LruGarbageCollector",TB=1048576;function vA([n,e],[t,r]){let i=de(n,t);return i===0?de(e,r):i}var cE=class{constructor(e){this.Tr=e,this.buffer=new dt(vA),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();vA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},uE=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){U(yA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>S(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qs(t)?U(yA,"Ignoring IndexedDB error during garbage collection: ",t):yield gf(t)}yield this.Rr(3e5)}))}},lE=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return P.resolve(nI.ue);let r=new cE(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(mA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mA):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,c,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),bs()<=he.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function SB(n,e){return new lE(n,e)}var dE=class{constructor(){this.changes=new Ir(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var hE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var fE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Gc(r.mutation,i,no.empty(),Ut.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ye()){let i=ro();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Bc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=ro();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ye()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=ai(),s=zc(),c=(function(){return zc()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof zs)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Gc(h.mutation,l,h.mutation.getFieldMask(),Ut.now())):s.set(l.key,no.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return c.set(l,new hE(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=zc(),i=new Ge((s,c)=>s-c),o=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||no.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||ye()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=mx();h.forEach(m=>{if(!o.has(m)){let y=Ex(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wj(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):P.resolve(ro()),c=Kc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ye())).next(h=>({batchId:c,changes:Jj(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new W(t)).next(r=>{let i=Bc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Bc();return this.indexManager.getCollectionParents(e,o).next(c=>P.forEach(c,u=>{let l=(function(p,m){return new js(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Cn.newInvalidDocument(h)))});let c=Bc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Gc(h.mutation,l,no.empty(),Ut.now()),_f(t,l)&&(c=c.insert(u,l))}),c})}};var pE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return P.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:xs(i.createTime)}})(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:DB(i.bundledQuery),readTime:xs(i.readTime)}})(t)),P.resolve()}};var gE=class{constructor(){this.overlays=new Ge(W.comparator),this.kr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ro();return P.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=ro(),o=t.length+1,s=new W(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ge((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=ro(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=ro(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return P.resolve(c)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new J_(t,r));let o=this.kr.get(t);o===void 0&&(o=ye(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var mE=class{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var ou=class{constructor(){this.qr=new dt(Ze.Qr),this.$r=new dt(Ze.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Ze(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Ze(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new W(new ke([])),r=new Ze(t,e),i=new Ze(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new W(new ke([])),r=new Ze(t,e),i=new Ze(t,e+1),o=ye();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ze(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ze=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return W.comparator(e.key,t.key)||de(e.Hr,t.Hr)}static Ur(e,t){return de(e.Hr,t.Hr)||W.comparator(e.key,t.key)}};var yE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new dt(Ze.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Z_(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Ze(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?xj:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ze(t,0),i=new Ze(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dt(de);return t.forEach(i=>{let o=new Ze(i,0),s=new Ze(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new Ze(new W(o),0),c=new dt(de);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),P.resolve(this.ei(c))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Fe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(t.mutations,i=>{let o=new Ze(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Ze(t,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var vE=class{constructor(e){this.ni=e,this.docs=(function(){return new Ge(W.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(t))}getEntries(e,t){let r=ai();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Cn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=ai(),s=t.path,c=new W(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Tj(Dj(h),r)<=0||(i.has(h.key)||_f(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ee(9500)}ri(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _E(this)}getSize(e){return P.resolve(this.size)}},_E=class extends dE{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var EE=class{constructor(e){this.persistence=e,this.ii=new Ir(t=>oI(t),sI),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.si=0,this.oi=new ou,this.targetCount=0,this._i=iu.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),P.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new iu(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.hr(t),P.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.oi.containsKey(t))}};var Xh=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new nI(0),this.ci=!1,this.ci=!0,this.li=new mE,this.referenceDelegate=e(this),this.hi=new EE(this),this.indexManager=new sE,this.remoteDocumentCache=(function(i){return new vE(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new oE(t),this.Ti=new pE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new yE(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new IE(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},IE=class extends k_{constructor(e){super(),this.currentSequenceNumber=e}},wE=class n{constructor(e){this.persistence=e,this.Ai=new ou,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ee(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),P.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=W.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ie.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return P.or([()=>P.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},ef=class n{constructor(e,t){this.persistence=e,this.gi=new Ir(r=>Mj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=SB(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(c=>{c||(r++,o.removeEntry(s,ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lh(e.data.value)),t}Sr(e,t,r){return P.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var bE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ye(),i=ye();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var CE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var DE=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return GT()?8:Aj(Jt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new CE;return this.ws(e,t,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,t,s,c.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(bs()<=he.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Cs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(bs()<=he.DEBUG&&U("QueryEngine","Query:",Cs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(bs()<=he.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Cs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(t))):P.resolve())}ps(e,t){if(sA(t))return P.resolve(null);let r=qn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Q_(t,null,"F"),r=qn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ye(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,c);return this.Ds(t,l,s,u.readTime)?this.ps(e,Q_(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return sA(t)||i.isEqual(ie.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?P.resolve(null):(bs()<=he.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cs(t)),this.vs(e,s,t,Cj(i,Kc)).next(c=>c))})}bs(e,t){let r=new dt(px(e));return t.forEach((i,o)=>{_f(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return bs()<=he.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Cs(t)),this.gs.getDocumentsMatchingQuery(e,t,co.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var cI="LocalStore",AB=3e8,TE=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Ge(de),this.Ms=new Ir(o=>oI(o),sI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function xB(n,e,t,r){return new TE(n,e,t,r)}function Mx(n,e){return S(this,null,function*(){let t=me(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ye();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function Rx(n){let e=me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function MB(n,e){let t=me(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let c=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;c.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Tt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(M,x,V){return M.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=AB?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(m,y,h)&&c.push(t.hi.updateTargetData(o,y))});let u=ai(),l=ye();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),c.push(RB(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ie.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(h)}return P.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function RB(n,e,t){let r=ye(),i=ye();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=ai();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):U(cI,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function PB(n,e){let t=me(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new ru(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function SE(n,e,t){return S(this,null,function*(){let r=me(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Qs(s))throw s;U(cI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function _A(n,e,t){let r=me(n),i=ie.min(),o=ye();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=me(u),m=p.Ms.get(h);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,qn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ie.min(),t?o:ye())).next(c=>(NB(r,Qj(e),c),{documents:c,qs:o})))}function NB(n,e,t){let r=n.xs.get(e)||ie.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var tf=class{constructor(){this.activeTargetIds=tB()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var AE=class{constructor(){this.Fo=new tf,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new tf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var xE=class{xo(e){}shutdown(){}};var EA="ConnectivityMonitor",nf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){U(EA,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){U(EA,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var kh=null;function ME(){return kh===null?kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():kh++,"0x"+kh.toString(16)}var C_="RestConnection",OB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},RE=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===qh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=ME(),c=this.Go(e,t.toUriEncodedString());U(C_,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),h=Gi(l);return this.jo(e,c,u,r,h).then(p=>(U(C_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw oi(C_,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ks})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=OB[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var PE=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Dt="WebChannelConnection",NE=class extends RE{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=ME();return new Promise((c,u)=>{let l=new y_;l.setWithCredentials(!0),l.listenOnce(v_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case jc.NO_ERROR:let p=l.getResponseJson();U(Dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case jc.TIMEOUT:U(Dt,`RPC '${e}' ${s} timed out`),u(new z(k.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:let m=l.getStatus();if(U(Dt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let T=y?.error;if(T&&T.status&&T.message){let M=(function(V){let Q=V.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(Q)>=0?Q:k.UNKNOWN})(T.status);u(new z(M,T.message))}else u(new z(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new z(k.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{U(Dt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);U(Dt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=ME(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=I_(),c=E_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");U(Dt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,T=new PE({Ho:x=>{y?U(Dt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(U(Dt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),U(Dt,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},Yo:()=>p.close()}),M=(x,V,Q)=>{x.listen(V,oe=>{try{Q(oe)}catch(Ce){setTimeout(()=>{throw Ce},0)}})};return M(p,ws.EventType.OPEN,()=>{y||(U(Dt,`RPC '${e}' stream ${i} transport opened.`),T.s_())}),M(p,ws.EventType.CLOSE,()=>{y||(y=!0,U(Dt,`RPC '${e}' stream ${i} transport closed`),T.__(),this.I_(p))}),M(p,ws.EventType.ERROR,x=>{y||(y=!0,oi(Dt,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),T.__(new z(k.UNAVAILABLE,"The operation could not be completed")))}),M(p,ws.EventType.MESSAGE,x=>{var V;if(!y){let Q=x.data[0];Fe(!!Q,16349);let oe=Q,Ce=oe?.error||((V=oe[0])===null||V===void 0?void 0:V.error);if(Ce){U(Dt,`RPC '${e}' stream ${i} received error:`,Ce);let St=Ce.status,we=(function(E){let I=Ye[E];if(I!==void 0)return wx(I)})(St),w=Ce.message;we===void 0&&(we=k.INTERNAL,w="Unknown error status: "+St+" with message "+Ce.message),y=!0,T.__(new z(we,w)),p.close()}else U(Dt,`RPC '${e}' stream ${i} received:`,Q),T.a_(Q)}}),M(c,__.STAT_EVENT,x=>{x.stat===Ph.PROXY?U(Dt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Ph.NOPROXY&&U(Dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function D_(){return typeof document<"u"?document:null}function Px(n){return new nE(n,!0)}var rf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var IA="PersistentStream",OE=class{constructor(e,t,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new rf(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return S(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return S(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return S(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new z(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>S(this,null,function*(){this.state=0,this.start()}))}G_(e){return U(IA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(U(IA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},kE=class extends OE{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=yB(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?xs(s.readTime):ie.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=gA(this.serializer),t.addTarget=(function(o,s){let c,u=s.target;if(c=K_(u)?{documents:vB(o,u)}:{query:_B(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=pB(o,s.resumeToken);let l=rE(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){c.readTime=fB(o,s.snapshotVersion.toTimestamp());let l=rE(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c})(this.serializer,e);let r=IB(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=gA(this.serializer),t.removeTarget=e,this.k_(t)}};var FE=class{},LE=class extends FE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new z(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,iE(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(k.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,iE(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},VE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(vr(t),this._a=!1):U("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var qs="RemoteStore",UE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>S(this,null,function*(){lu(this)&&(U(qs,"Restarting streams for network reachability change."),yield(function(u){return S(this,null,function*(){let l=me(u);l.Ia.add(4),yield uu(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Ef(l)})})(this))}))}),this.Aa=new VE(r,i)}};function Ef(n){return S(this,null,function*(){if(lu(n))for(let e of n.da)yield e(!0)})}function uu(n){return S(this,null,function*(){for(let e of n.da)yield e(!1)})}function Nx(n,e){let t=me(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),hI(t)?dI(t):Ys(t).x_()&&lI(t,e))}function uI(n,e){let t=me(n),r=Ys(t);t.Ta.delete(e),r.x_()&&Ox(t,e),t.Ta.size===0&&(r.x_()?r.B_():lu(t)&&t.Aa.set("Unknown"))}function lI(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ys(n).H_(e)}function Ox(n,e){n.Ra.$e(e),Ys(n).Y_(e)}function dI(n){n.Ra=new tE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Ys(n).start(),n.Aa.aa()}function hI(n){return lu(n)&&!Ys(n).M_()&&n.Ta.size>0}function lu(n){return me(n).Ia.size===0}function kx(n){n.Ra=void 0}function kB(n){return S(this,null,function*(){n.Aa.set("Online")})}function FB(n){return S(this,null,function*(){n.Ta.forEach((e,t)=>{lI(n,e)})})}function LB(n,e){return S(this,null,function*(){kx(n),hI(n)?(n.Aa.la(e),dI(n)):n.Aa.set("Unknown")})}function VB(n,e,t){return S(this,null,function*(){if(n.Aa.set("Online"),e instanceof Yh&&e.state===2&&e.cause)try{yield(function(i,o){return S(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))})})(n,e)}catch(r){U(qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wA(n,r)}else if(e instanceof As?n.Ra.Ye(e):e instanceof Qh?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ie.min()))try{let r=yield Rx(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Tt.EMPTY_BYTE_STRING,h.snapshotVersion)),Ox(o,u);let p=new ru(h.target,u,l,h.sequenceNumber);lI(o,p)}),o.remoteSyncer.applyRemoteEvent(c)})(n,t))}catch(r){U(qs,"Failed to raise snapshot:",r),yield wA(n,r)}})}function wA(n,e,t){return S(this,null,function*(){if(!Qs(e))throw e;n.Ia.add(1),yield uu(n),n.Aa.set("Offline"),t||(t=()=>Rx(n.localStore)),n.asyncQueue.enqueueRetryable(()=>S(null,null,function*(){U(qs,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Ef(n)}))})}function bA(n,e){return S(this,null,function*(){let t=me(n);t.asyncQueue.verifyOperationInProgress(),U(qs,"RemoteStore received new credentials");let r=lu(t);t.Ia.add(3),yield uu(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Ef(t)})}function UB(n,e){return S(this,null,function*(){let t=me(n);e?(t.Ia.delete(2),yield Ef(t)):e||(t.Ia.add(2),yield uu(t),t.Aa.set("Unknown"))})}function Ys(n){return n.Va||(n.Va=(function(t,r,i){let o=me(t);return o.ia(),new kE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:kB.bind(null,n),e_:FB.bind(null,n),n_:LB.bind(null,n),J_:VB.bind(null,n)}),n.da.push(e=>S(null,null,function*(){e?(n.Va.N_(),hI(n)?dI(n):n.Aa.set("Unknown")):(yield n.Va.stop(),kx(n))}))),n.Va}var jE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Fx(n,e){if(vr("AsyncQueue",`${e}: ${n}`),Qs(n))return new z(k.UNAVAILABLE,`${e}: ${n}`);throw n}var of=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||W.comparator(t.key,r.key):(t,r)=>W.comparator(t.key,r.key),this.keyedMap=Bc(),this.sortedSet=new Ge(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var sf=class{constructor(){this.fa=new Ge(W.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ee(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Gs=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,of.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var BE=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},$E=class{constructor(){this.queries=CA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=me(t),o=i.queries;i.queries=CA(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new z(k.ABORTED,"Firestore shutting down"))}};function CA(){return new Ir(n=>fx(n),vf)}function jB(n,e){return S(this,null,function*(){let t=me(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new BE,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let c=Fx(s,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&fI(t)})}function BB(n,e){return S(this,null,function*(){let t=me(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function $B(n,e){let t=me(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&fI(t)}function HB(n,e,t){let r=me(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function fI(n){n.Da.forEach(e=>{e.next()})}var HE,DA;(DA=HE||(HE={})).Fa="default",DA.Cache="cache";var zE=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Gs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==HE.Cache}};var af=class{constructor(e){this.key=e}},cf=class{constructor(e){this.key=e}},qE=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ye(),this.mutatedKeys=ye(),this.Xa=px(e),this.eu=new of(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new sf,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=_f(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),x=!1;m&&y?m.data.isEqual(y.data)?T!==M&&(r.track({type:3,doc:y}),x=!0):this.iu(m,y)||(r.track({type:2,doc:y}),x=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),x=!0):m&&!y&&(r.track({type:1,doc:m}),x=!0,(u||l)&&(c=!0)),x&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,T){let M=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{At:x})}};return M(y)-M(T)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let c=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Gs(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new sf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ye(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new cf(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new af(r))}),t}uu(e){this.Ha=e.qs,this.Za=ye();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Gs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},pI="SyncEngine",GE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},WE=class{constructor(e){this.key=e,this.lu=!1}},KE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Ir(c=>fx(c),vf),this.Tu=new Map,this.Iu=new Set,this.du=new Ge(W.comparator),this.Eu=new Map,this.Au=new ou,this.Ru={},this.Vu=new Map,this.mu=iu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function zB(n,e,t=!0){return S(this,null,function*(){let r=Bx(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield Lx(r,e,t,!0),i})}function qB(n,e){return S(this,null,function*(){let t=Bx(n);yield Lx(t,e,!0,!1)})}function Lx(n,e,t,r){return S(this,null,function*(){let i=yield PB(n.localStore,qn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=yield GB(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&Nx(n.remoteStore,i),c})}function GB(n,e,t,r,i){return S(this,null,function*(){n.gu=(p,m,y)=>(function(M,x,V,Q){return S(this,null,function*(){let oe=x.view.nu(V);oe.Ds&&(oe=yield _A(M.localStore,x.query,!1).then(({documents:w})=>x.view.nu(w,oe)));let Ce=Q&&Q.targetChanges.get(x.targetId),St=Q&&Q.targetMismatches.get(x.targetId)!=null,we=x.view.applyChanges(oe,M.isPrimaryClient,Ce,St);return SA(M,x.targetId,we._u),we.snapshot})})(n,p,m,y);let o=yield _A(n.localStore,e,!0),s=new qE(e,o.qs),c=s.nu(o.documents),u=nu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);SA(n,t,l._u);let h=new GE(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function WB(n,e,t){return S(this,null,function*(){let r=me(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!vf(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield SE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&uI(r.remoteStore,i.targetId),QE(r,i.targetId)}).catch(gf))):(QE(r,i.targetId),yield SE(r.localStore,i.targetId,!0))})}function KB(n,e){return S(this,null,function*(){let t=me(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),uI(t.remoteStore,r.targetId))})}function Vx(n,e){return S(this,null,function*(){let t=me(n);try{let r=yield MB(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Fe(s.lu,14607):i.removedDocuments.size>0&&(Fe(s.lu,42227),s.lu=!1))}),yield jx(t,r,e)}catch(r){yield gf(r)}})}function TA(n,e,t){let r=me(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=me(s);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&fI(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function QB(n,e,t){return S(this,null,function*(){let r=me(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ge(W.comparator);s=s.insert(o,Cn.newNoDocument(o,ie.min()));let c=ye().add(o),u=new Kh(ie.min(),new Map,new Ge(de),s,c);yield Vx(r,u),r.du=r.du.remove(o),r.Eu.delete(e),gI(r)}else yield SE(r.localStore,e,!1).then(()=>QE(r,e,t)).catch(gf)})}function QE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||Ux(n,r)})}function Ux(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(uI(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),gI(n))}function SA(n,e,t){for(let r of t)r instanceof af?(n.Au.addReference(r.key,e),YB(n,r)):r instanceof cf?(U(pI,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||Ux(n,r.key)):ee(19791,{yu:r})}function YB(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(U(pI,"New document in limbo: "+t),n.Iu.add(r),gI(n))}function gI(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new W(ke.fromString(e)),r=n.mu.next();n.Eu.set(r,new WE(t)),n.du=n.du.insert(t,r),Nx(n.remoteStore,new ru(qn(aI(t.path)),r,"TargetPurposeLimboResolution",nI.ue))}}function jx(n,e,t){return S(this,null,function*(){let r=me(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=bE.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return S(this,null,function*(){let h=me(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Qs(p))throw p;U(cI,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),T=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(T);h.Fs=h.Fs.insert(m,M)}}})})(r.localStore,o))})}function ZB(n,e){return S(this,null,function*(){let t=me(n);if(!t.currentUser.isEqual(e)){U(pI,"User change. New user:",e.toKey());let r=yield Mx(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new z(k.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield jx(t,r.Bs)}})}function JB(n,e){let t=me(n),r=t.Eu.get(e);if(r&&r.lu)return ye().add(r.key);{let i=ye(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let c=t.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function Bx(n){let e=me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QB.bind(null,e),e.hu.J_=$B.bind(null,e.eventManager),e.hu.pu=HB.bind(null,e.eventManager),e}var $x=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return S(this,null,function*(){this.serializer=Px(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return xB(this.persistence,new DE,t.initialUser,this.serializer)}Du(t){return new Xh(wE.Vi,this.serializer)}bu(t){return new AE}terminate(){return S(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),YE=class extends $x{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Fe(this.persistence.referenceDelegate instanceof ef,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new uE(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Xh(r=>ef.Vi(r,t),this.serializer)}};var XB=(()=>{class n{initialize(t,r){return S(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>TA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZB.bind(null,this.syncEngine),yield UB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new $E})()}createDatastore(t){let r=Px(t.databaseInfo.databaseId),i=(function(s){return new NE(s)})(t.databaseInfo);return(function(s,c,u,l){return new LE(s,c,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,c,u){return new UE(i,o,s,c,u)})(this.localStore,this.datastore,t.asyncQueue,r=>TA(this.syncEngine,r,0),(function(){return nf.C()?new nf:new xE})())}createSyncEngine(t,r){return(function(o,s,c,u,l,h,p){let m=new KE(o,s,c,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var t,r;yield(function(o){return S(this,null,function*(){let s=me(o);U(qs,"RemoteStore shutting down."),s.Ia.add(5),yield uu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var ZE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ci="FirestoreClient",JE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=lt.UNAUTHENTICATED,this.clientId=Wc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>S(this,null,function*(){U(ci,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U(ci,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Fx(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function T_(n,e){return S(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U(ci,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>S(null,null,function*(){r.isEqual(i)||(yield Mx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{oi("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{U("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{oi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function AA(n,e){return S(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield e$(n);U(ci,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>bA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>bA(e.remoteStore,i)),n._onlineComponents=e})}function e$(n){return S(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(ci,"Using user provided OfflineComponentProvider");try{yield T_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;oi("Error using user provided cache. Falling back to memory cache: "+t),yield T_(n,new $x)}}else U(ci,"Using default OfflineComponentProvider"),yield T_(n,new YE(void 0));return n._offlineComponents})}function t$(n){return S(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(ci,"Using user provided OnlineComponentProvider"),yield AA(n,n._uninitializedComponentsProvider._online)):(U(ci,"Using default OnlineComponentProvider"),yield AA(n,new XB))),n._onlineComponents})}function xA(n){return S(this,null,function*(){let e=yield t$(n),t=e.eventManager;return t.onListen=zB.bind(null,e.syncEngine),t.onUnlisten=WB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=qB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KB.bind(null,e.syncEngine),t})}function Hx(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var MA=new Map;var zx="firestore.googleapis.com",RA=!0,uf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zx,this.ssl=RA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:RA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TB)throw new z(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ij("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ws=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new S_;switch(r.type){case"firstParty":return new R_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=MA.get(t);r&&(U("ComponentProvider","Removing Datastore"),MA.delete(t),r.terminate())})(this),Promise.resolve()}};function qx(n,e,t,r={}){var i;n=Fh(n,Ws);let o=Gi(e),s=n._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Rv(`https://${u}`),Pv("Firestore",!0)),s.host!==zx&&s.host!==u&&oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Wi(l,c)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=lt.MOCK_USER;else{h=BT(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new z(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new lt(m)}n._authCredentials=new A_(new Uh(h,p))}}var lf=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Xt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(au(t,n._jsonSchema))return new n(e,r||null,new W(ke.fromString(t.referencePath)))}};Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:Je("string",Xt._jsonSchemaVersion),referencePath:Je("string")};var ii=class n extends lf{constructor(e,t,r){super(e,t,aI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new W(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Gx(n,e,...t){if(n=jn(n),VA("collection","path",e),n instanceof Ws){let r=ke.fromString(e,...t);return KS(r),new ii(n,null,r)}{if(!(n instanceof Xt||n instanceof ii))throw new z(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return KS(r),new ii(n.firestore,null,r)}}function Wx(n,e,...t){if(n=jn(n),arguments.length===1&&(e=Wc.newId()),VA("doc","path",e),n instanceof Ws){let r=ke.fromString(e,...t);return WS(r),new Xt(n,null,new W(r))}{if(!(n instanceof Xt||n instanceof ii))throw new z(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return WS(r),new Xt(n.firestore,n instanceof ii?n.converter:null,new W(r))}}var PA="AsyncQueue",df=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new rf(this,"async_queue_retry"),this.oc=()=>{let r=D_();r&&U(PA,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=D_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=D_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new ri;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return S(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Qs(e))throw e;U(PA,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,vr("INTERNAL UNHANDLED ERROR: ",NA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=jE.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ee(47125,{hc:NA(this.tc)})}verifyOperationInProgress(){}Pc(){return S(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function NA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function OA(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var su=class extends Ws{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new df,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new df(e),this._firestoreClient=void 0,yield e}})}};function Kx(n,e){let t=typeof n=="object"?n:_s(),r=typeof n=="string"?n:e||qh,i=fh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=UT("firestore");o&&qx(i,...o)}return i}function n$(n){if(n._terminated)throw new z(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||r$(n),n._firestoreClient}function r$(n){var e,t,r;let i=n._freezeSettings(),o=(function(c,u,l,h){return new F_(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Hx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new JE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(n._componentsProvider))}var Ms=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Tt.fromBase64String(e))}catch(t){throw new z(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Ms._jsonSchemaVersion="firestore/bytes/1.0",Ms._jsonSchema={type:Je("string",Ms._jsonSchemaVersion),bytes:Je("string")};var hf=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new z(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Rs=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new z(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new z(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(au(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Rs._jsonSchemaVersion="firestore/geoPoint/1.0",Rs._jsonSchema={type:Je("string",Rs._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};var Ps=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new z(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ps._jsonSchemaVersion="firestore/vectorValue/1.0",Ps._jsonSchema={type:Je("string",Ps._jsonSchemaVersion),vectorValues:Je("object")};var i$=new RegExp("[~\\*/\\[\\]]");function o$(n,e,t){if(e.search(i$)>=0)throw kA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hf(...e.split("."))._internalPath}catch{throw kA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kA(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new z(k.INVALID_ARGUMENT,c+n+u)}var ff=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new XE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Qx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},XE=class extends ff{data(){return super.data()}};function Qx(n,e){return typeof e=="string"?o$(n,e):e instanceof hf?e._internalPath:e._delegate._internalPath}function s$(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new z(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var eI=class{convertValue(e,t="none"){switch(si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return cu(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Yc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Re(s.doubleValue));return new Ps(o)}convertGeoPoint(e){return new Rs(Re(e.latitude),Re(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=yf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Qc(e));default:return null}}convertTimestamp(e){let t=_r(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ke.fromString(e);Fe(Ax(r),9688,{name:e});let i=new Gh(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(t)||vr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var oo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},so=class n extends ff{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ns(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Qx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new z(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};so._jsonSchemaVersion="firestore/documentSnapshot/1.0",so._jsonSchema={type:Je("string",so._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};var Ns=class extends so{data(e={}){return super.data(e)}},Os=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ns(this._firestore,this._userDataWriter,r.key,r,new oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new z(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Ns(i._firestore,i._userDataWriter,c.doc.key,c.doc,new oo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Ns(i._firestore,i._userDataWriter,c.doc.key,c.doc,new oo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:a$(c.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new z(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function a$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:n})}}Os._jsonSchemaVersion="firestore/querySnapshot/1.0",Os._jsonSchema={type:Je("string",Os._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};var pf=class extends eI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ms(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,t)}};function mI(n,...e){var t,r,i;n=jn(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||OA(e[s])||(o=e[s++]);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(OA(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Xt)l=Fh(n.firestore,su),h=aI(n._key.path),u={next:p=>{e[s]&&e[s](c$(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Fh(n,lf);l=Fh(p.firestore,su),h=p._query;let m=new pf(l);u={next:y=>{e[s]&&e[s](new Os(l,m,p,y))},error:e[s+1],complete:e[s+2]},s$(n._query)}return(function(m,y,T,M){let x=new ZE(M),V=new zE(y,x,T);return m.asyncQueue.enqueueAndForget(()=>S(null,null,function*(){return jB(yield xA(m),V)})),()=>{x.Ou(),m.asyncQueue.enqueueAndForget(()=>S(null,null,function*(){return BB(yield xA(m),V)}))}})(n$(l),h,c,u)}function c$(n,e,t){let r=t.docs.get(e._key),i=new pf(n);return new so(n,i,e._key,r,new oo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ks=i})(vs),In(new Vt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new su(new x_(r.getProvider("auth-internal")),new P_(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gh(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),qe(HS,zS,e),qe(HS,zS,"esm2017")})();var If=function(){return If=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},If.apply(this,arguments)};var d$={includeMetadataChanges:!1};function yI(n,e){return e===void 0&&(e=d$),new re(function(t){var r=mI(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Yx(n){return yI(n,{includeMetadataChanges:!0})}function Zx(n,e){return e===void 0&&(e={}),Yx(n).pipe(ce(function(t){return vI(t,e)}))}function vI(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:If(If({},r),(t={},t[e.idField]=n.id,t))}function Jx(n){return yI(n,{includeMetadataChanges:!0}).pipe(ce(function(e){return e.docs}))}function Xx(n,e){return e===void 0&&(e={}),Jx(n).pipe(ce(function(t){return t.map(function(r){return vI(r,e)})}))}var en=class{constructor(e){return e}},eM="firestore",_I=class{constructor(){return Is(eM)}};var EI=new q("angularfire2.firestore-instances");function h$(n,e){let t=mh(eM,n,e);return t&&new en(t)}function f$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new en(r)}}var p$={provide:_I,deps:[[new ar,EI]]},g$={provide:en,useFactory:h$,deps:[[new ar,EI],Ji]};function tM(n,...e){return qe("angularfire",Yi.full,"fst"),Sn([g$,p$,{provide:EI,useFactory:f$(n),multi:!0,deps:[Se,gt,Zi,Nc,[new ar,Mh],[new ar,vh],...e]}])}var Zs=Hn(Xx,!0);var nM=Hn(Zx,!0);var Js=Hn(Gx,!0,2);var rM=Hn(Wx,!0,2);var iM=Hn(Kx,!0);var oM=[];var m$={apiKey:"AIzaSyCWNVo1C1nZT5XadU8xYqARhsM7ZmRm3k8",authDomain:"happytoyz-eaadf.firebaseapp.com",projectId:"happytoyz-eaadf",storageBucket:"happytoyz-eaadf.firebasestorage.app",messagingSenderId:"369633419798",appId:"1:369633419798:web:6b47636691e6bc0d7c0b37",measurementId:"G-LCS3T0HF40"},sM={providers:[jg(),Dv(oM),hS(()=>fS(m$)),tM(()=>iM())]};var ui=class n{constructor(e){this.firestore=e}getSettings(){let e=rM(this.firestore,"settings/aH3tZX68i0tdlCHEacRr");return nM(e)}static \u0275fac=function(t){return new(t||n)(K(en))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function y$(n,e){if(n&1&&(Td(0),Qe(1,"div",4)(2,"span",5),Ot(3,"i",6),j(4),ze(),Qe(5,"span",7),j(6,"|"),ze(),Qe(7,"span",5),Ot(8,"i",8),j(9),ze()(),Qe(10,"div",9)(11,"b"),j(12),ze()(),Sd()),n&2){let t=e.ngIf;B(4),un(" ",t==null?null:t.location," "),B(5),un(" ",t==null?null:t.email," "),B(3),Oe(t==null?null:t.discountText)}}function v$(n,e){n&1&&(Qe(0,"div",10),j(1," Loading settings... (If this gets stuck, check settings.service.ts!) "),ze())}var bf=class n{constructor(e){this.settingsService=e;this.settings$=this.settingsService.getSettings()}settings$;static \u0275fac=function(t){return new(t||n)(X(ui))};static \u0275cmp=be({type:n,selectors:[["app-header"]],decls:6,vars:4,consts:[["loadingOrError",""],[1,"top-bar"],[1,"top-bar-container"],[4,"ngIf","ngIfElse"],[1,"top-bar-left"],[1,"top-item"],[1,"fa-solid","fa-location-dot"],[1,"divider"],[1,"fa-solid","fa-envelope"],[1,"top-bar-center"],[2,"color","white","padding","5px","width","100%","text-align","center","font-size","14px"]],template:function(t,r){if(t&1&&(Qe(0,"div",1)(1,"div",2),ji(2,y$,13,3,"ng-container",3),yy(3,"async"),ji(4,v$,2,0,"ng-template",null,0,_y),ze()()),t&2){let i=gy(5);B(2),Bi("ngIf",vy(3,2,r.settings$))("ngIfElse",i)}},dependencies:[Vn,Ny,Oy],styles:['.top-bar[_ngcontent-%COMP%]{font-family:HeaderFont,system-ui,-apple-system,BlinkMacSystemFont,sans-serif}@media (max-width: 768px){.top-bar[_ngcontent-%COMP%]{display:none!important}}.top-bar[_ngcontent-%COMP%]{background:#0fb9b1;color:#fff;font-size:14px;font-family:HeaderFont}.top-bar-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:8px 16px;display:flex;align-items:center;justify-content:space-between}.top-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.top-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-family:HeaderFont;font-weight:400;white-space:nowrap;line-height:1.2}.top-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:14px;line-height:1}.divider[_ngcontent-%COMP%]{opacity:.6}.top-bar-center[_ngcontent-%COMP%]{margin-left:auto;font-weight:500;white-space:nowrap}@media (max-width: 768px){.top-bar[_ngcontent-%COMP%]{padding:6px 12px}.top-bar-container[_ngcontent-%COMP%]{justify-content:center}.top-bar-left[_ngcontent-%COMP%]{display:none}.top-bar-center[_ngcontent-%COMP%]{font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}}@media (max-width: 480px){.top-bar-center[_ngcontent-%COMP%]{font-size:11px}}@font-face{font-family:HeaderFont;src:url(/fonts/Exec-Corners-Extralight.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}']})};var Cf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=be({type:n,selectors:[["app-banner"]],decls:52,vars:0,consts:[[1,"hero-wrap"],[1,"hero"],[1,"hero-content"],[1,"badge"],[1,"mobile-break"],[1,"cta"],[1,"fa-solid","fa-arrow-right"],["width","32","height","32","viewBox","0 0 24 24","fill","white","xmlns","http://www.w3.org/2000/svg",1,"mobile-star"],["d","M12 2L14.5 9.5L22 12L14.5 14.5L12 22L9.5 14.5L2 12L9.5 9.5L12 2Z","fill","white",2,"filter","blur(1px)"],[1,"hero-image"],["src","https://html.onertheme.com/babymart/assets/img/hero/hero-thumb1-1.png","alt","Happy kid"],[1,"features-wrap"],[1,"features"],[1,"feature-card","mint"],[1,"icon"],["src","https://html.onertheme.com/babymart/assets/img/icon/feature-icon1-1.svg",1,"img1"],[1,"text"],[1,"feature-card","purple"],["src","https://html.onertheme.com/babymart/assets/img/icon/feature-icon1-2.svg",1,"img2"],[1,"feature-card","green"],["src","https://html.onertheme.com/babymart/assets/img/icon/feature-icon1-3.svg",1,"img3"],[1,"feature-card","blue"],["src","https://html.onertheme.com/babymart/assets/img/icon/feature-icon1-4.svg",1,"img4"]],template:function(t,r){t&1&&(N(0,"section",0)(1,"div",1)(2,"div",2)(3,"span",3),j(4,"Up To 70% Off Our Products"),O(),N(5,"h1"),j(6,"Buy Children\u2019s "),ae(7,"br",4),j(8,"Toys"),ae(9,"br"),j(10,"And Clothes"),O(),N(11,"button",5),j(12," Shop Now "),ae(13,"i",6),O()(),Br(),N(14,"svg",7),ae(15,"path",8),O(),$r(),N(16,"div",9),ae(17,"img",10),O()()(),N(18,"section",11)(19,"div",12)(20,"div",13)(21,"div",14),ae(22,"img",15),O(),N(23,"div",16)(24,"h4"),j(25,"Return & refund"),O(),N(26,"p"),j(27,"Money back guarantee"),O()()(),N(28,"div",17)(29,"div",14),ae(30,"img",18),O(),N(31,"div",16)(32,"h4"),j(33,"Secure Payment"),O(),N(34,"p"),j(35,"30% off by subscribing"),O()()(),N(36,"div",19)(37,"div",14),ae(38,"img",20),O(),N(39,"div",16)(40,"h4"),j(41,"Quality Support"),O(),N(42,"p"),j(43,"Always online 24/7"),O()()(),N(44,"div",21)(45,"div",14),ae(46,"img",22),O(),N(47,"div",16)(48,"h4"),j(49,"Daily Offers"),O(),N(50,"p"),j(51,"20% off by subscribing"),O()()()()())},styles:['@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:BannerFont1;src:url(/fonts/Exec-Corners-Semibold.ttf) format("truetype");font-weight:600;font-style:normal;font-display:swap}.hero-wrap[_ngcontent-%COMP%]{padding:60px 20px;background:linear-gradient(to bottom,#eaf7fa,#fff)}.hero[_ngcontent-%COMP%]{position:relative;max-width:1200px;margin:0 auto;top:-25px;height:450px;padding:60px;border-radius:28px;background-image:url(/Images/hero-bg1-1.png);background-size:cover;background-position:center;background-repeat:no-repeat;display:flex;align-items:center;justify-content:space-between;overflow:hidden}.hero-content[_ngcontent-%COMP%]{max-width:520px;z-index:2;font-family:BannerFont1,sans-serif;animation:_ngcontent-%COMP%_heroTextIn .9s ease forwards}.badge[_ngcontent-%COMP%]{display:inline-block;margin-bottom:16px;padding:6px 14px;background:#ffffff40;color:#0a3f3c;font-size:14px;border-radius:20px}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 26px;font-size:52px;line-height:1.15;color:#fff}.cta[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 26px;background:#fff;color:#0fb9b1;border:none;border-radius:40px;font-size:14px;font-weight:600;cursor:pointer;transition:transform .25s ease,box-shadow .25s ease}.cta[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 12px 28px #00000026}.cta[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.hero-image[_ngcontent-%COMP%]{position:absolute;right:40px;bottom:-12px;z-index:1;animation:_ngcontent-%COMP%_heroImageIn 1s ease forwards}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:370px;width:auto;transform:scale(1.05);pointer-events:none}@keyframes _ngcontent-%COMP%_heroTextIn{0%{opacity:0;transform:translate(-40px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_heroImageIn{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}.features-wrap[_ngcontent-%COMP%]{font-family:Poppins;margin-top:-40px;padding:0 16px 40px}.features[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr);gap:24px}.feature-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:18px;height:96px;padding:0 28px;border-radius:24px;box-sizing:border-box}.feature-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:56px;height:56px;display:flex;align-items:center;justify-content:center;border-radius:14px;flex-shrink:0;overflow:hidden}.feature-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%;height:auto;object-fit:contain;display:block}.feature-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{width:90%;height:90%;object-fit:contain;display:block}.feature-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;line-height:1.2;color:#0f172a}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:6px;font-size:11px;line-height:1.3;color:#64748b}.mint[_ngcontent-%COMP%]{background:#e0f7f5}.mint[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background:#00bbaf}.purple[_ngcontent-%COMP%]{background:#f6ebfb}.purple[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background:#c062d0}.green[_ngcontent-%COMP%]{background:#edfbe8}.green[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background:#71d863}.blue[_ngcontent-%COMP%]{background:#e3f8fd}.blue[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background:#16c4e3}.mobile-break[_ngcontent-%COMP%], .mobile-star[_ngcontent-%COMP%]{display:none}@media (max-width: 992px){.features[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.mobile-break[_ngcontent-%COMP%], .mobile-star[_ngcontent-%COMP%]{display:none!important}.hero-wrap[_ngcontent-%COMP%]{padding:16px 16px 0}.hero[_ngcontent-%COMP%]{top:20px;flex-direction:column;justify-content:flex-start;height:auto;padding:56px 20px 0;border-radius:24px;background-position:center bottom}.hero-content[_ngcontent-%COMP%]{position:relative;text-align:center;max-width:100%;display:flex;flex-direction:column;align-items:center;z-index:3;width:100%}.badge[_ngcontent-%COMP%]{background:#ffffff40;color:#042f2e;border-radius:4px;clip-path:polygon(0 0,calc(100% - 16px) 0,100% 50%,calc(100% - 16px) 100%,0 100%);padding:8px 32px 8px 16px;margin-bottom:28px;font-size:13px;font-weight:600;white-space:nowrap}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;line-height:1.25;margin-bottom:32px;width:100%;padding:0 5px}.cta[_ngcontent-%COMP%]{width:auto;padding:0 32px;height:52px;font-size:16px;font-weight:700;color:#0f172a;border-radius:40px}.hero-image[_ngcontent-%COMP%]{position:relative;right:auto;bottom:auto;width:100%;margin-top:36px;display:flex;justify-content:center;align-items:flex-end;z-index:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:340px;height:auto;transform:none;display:block}.features-wrap[_ngcontent-%COMP%]{margin-top:70px;padding:0 16px 40px}.features[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.feature-card[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;text-align:center;padding:40px 20px;border-radius:24px;height:auto;gap:16px}.feature-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:16px}.feature-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px}.feature-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;margin-top:4px}}@media (max-width: 576px){.features[_ngcontent-%COMP%]{grid-template-columns:1fr}.feature-card[_ngcontent-%COMP%]{height:auto;padding:20px}}']})};var _$=(n,e)=>e.title+n;function E$(n,e){if(n&1&&(N(0,"div",6)(1,"div",8),ae(2,"img",9),O(),N(3,"h4"),j(4),O()()),n&2){let t=e.$implicit;B(),Be("background",t.bg),B(),kt("src",t.img,Ct)("alt",t.title),B(2),Oe(t.title)}}var Df=class n{constructor(e){this.el=e}categories=[{title:"Girl Clothing",bg:"#fdecec",img:"https://html.onertheme.com/babymart/assets/img/category/category_card1_4.png"},{title:"Milk Bottle",bg:"#eaf6f7",img:"https://html.onertheme.com/babymart/assets/img/category/category_card1_5.png"},{title:"Indoor Play",bg:"#fff0e6",img:"https://html.onertheme.com/babymart/assets/img/category/category_card1_6.png"},{title:"Game And Toy",bg:"#f3eae4",img:"https://html.onertheme.com/babymart/assets/img/category/category_card1_1.png"},{title:"Kid Books",bg:"#edf6ff",img:"https://html.onertheme.com/babymart/assets/img/category/category_card1_2.png"},{title:"Boy Clothing",bg:"#edf6ff",img:"https://html.onertheme.com/babymart/assets/img/category/category_card1_3.png"}];visibleItems=5;currentIndex=0;show=!1;slideWidth=200;transitionEnabled=!0;intervalId;get slides(){return[...this.categories,...this.categories]}ngOnInit(){this.startAutoSlide()}ngOnDestroy(){clearInterval(this.intervalId)}onScroll(){this.el.nativeElement.getBoundingClientRect().top<window.innerHeight-150&&(this.show=!0)}next(){this.currentIndex++,this.currentIndex===this.categories.length&&setTimeout(()=>{this.transitionEnabled=!1,this.currentIndex=0},450),this.transitionEnabled=!0}prev(){this.currentIndex===0&&(this.transitionEnabled=!1,this.currentIndex=this.categories.length,setTimeout(()=>{this.transitionEnabled=!0})),this.currentIndex--}startAutoSlide(){this.intervalId=window.setInterval(()=>{this.next()},3500)}stopAutoSlide(){clearInterval(this.intervalId)}static \u0275fac=function(t){return new(t||n)(X(it))};static \u0275cmp=be({type:n,selectors:[["app-category"]],hostBindings:function(t,r){t&1&&Ft("scroll",function(){return r.onScroll()},Fn)},decls:15,vars:6,consts:[[1,"category-section"],[1,"subtitle"],[1,"slider-wrapper",3,"mouseenter","mouseleave"],[1,"nav","left",3,"click"],[1,"viewport"],[1,"track"],[1,"category-card"],[1,"nav","right",3,"click"],[1,"icon"],[3,"src","alt"]],template:function(t,r){t&1&&(N(0,"section",0)(1,"h1")(2,"b"),j(3,"Shop By Category"),O()(),N(4,"p",1),j(5," Interdum et malesuada fames ac ante ipsum primis in faucibus "),O(),N(6,"div",2),Lt("mouseenter",function(){return r.stopAutoSlide()})("mouseleave",function(){return r.startAutoSlide()}),N(7,"button",3),Lt("click",function(){return r.prev()}),j(8,"\u276E"),O(),N(9,"div",4)(10,"div",5),Pt(11,E$,5,5,"div",6,_$),O()(),N(13,"button",7),Lt("click",function(){return r.next()}),j(14,"\u276F"),O()()()),t&2&&(ct("show",r.show),B(10),Be("transform","translateX(-"+r.currentIndex*r.slideWidth+"px)"),ct("no-transition",!r.transitionEnabled),B(),Nt(r.slides))},styles:['.category-section[_ngcontent-%COMP%]{padding:90px 40px;text-align:center;margin-top:-115px;opacity:0;transform:translateY(60px);transition:.8s ease}h1[_ngcontent-%COMP%]{font-family:FSFont1;font-size:36px;letter-spacing:.5px;color:#103741}.category-section.show[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}@font-face{font-family:FSFont1;src:url(/fonts/VAG-Rounded-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}h4[_ngcontent-%COMP%]{font-family:FSFont2}@font-face{font-family:FSFont2;color:gray;src:url(/fonts/VAGRounded-Thin.ttf) format("truetype");font-weight:200;font-style:normal;font-display:swap}.subtitle[_ngcontent-%COMP%]{font-family:FSFont2;font-size:16px;max-width:700px;margin:14px auto 55px;color:#6b7c85}.slider-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;width:100%}.viewport[_ngcontent-%COMP%]{width:100%;max-width:960px;overflow:hidden}.track[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;gap:40px;transition:transform .45s cubic-bezier(.4,0,.2,1);will-change:transform}.track.no-transition[_ngcontent-%COMP%]{transition:none}.category-card[_ngcontent-%COMP%]{min-width:160px;flex-shrink:0;text-align:center}.icon[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 16px}.icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px}.category-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#1f2a37}.nav[_ngcontent-%COMP%]{position:absolute;width:44px;height:44px;border-radius:50%;border:none;background:#1dc9a0;color:#fff;font-size:18px;cursor:pointer}.nav.left[_ngcontent-%COMP%]{left:-22px}.nav.right[_ngcontent-%COMP%]{right:-22px}@media (max-width: 992px){.viewport[_ngcontent-%COMP%]{max-width:560px}}@media (max-width: 768px){.category-section[_ngcontent-%COMP%]{margin-top:-50px;padding:40px 0 60px;text-align:center}.category-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;margin-bottom:16px;color:#103741}.category-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:15px;line-height:1.6;padding:0 20px;margin-bottom:40px}.category-section[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:none!important}.slider-wrapper[_ngcontent-%COMP%]{padding:0 16px}.viewport[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;max-width:100%}.viewport[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.track[_ngcontent-%COMP%]{display:flex;gap:16px;transform:none!important}.category-card[_ngcontent-%COMP%]{min-width:calc((100% - 16px)/2);max-width:calc((100% - 16px)/2);flex:0 0 calc((100% - 16px)/2);scroll-snap-align:start;display:flex;flex-direction:column;align-items:center}.category-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:220px;height:220px;border-radius:50%;margin-bottom:24px;display:flex;align-items:center;justify-content:center}.category-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:auto}.category-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;color:#103741;font-weight:700}}@media (max-width: 576px){.category-card[_ngcontent-%COMP%]{min-width:100%;max-width:100%;flex:0 0 100%;scroll-snap-align:center}.category-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:320px;height:230px;border-radius:50%}.category-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:140px}}@media (max-width: 480px){.category-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.category-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:280px;height:210px}.category-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px}}']})};var I$=(n,e)=>e.label+n;function w$(n,e){if(n&1&&(N(0,"div",6)(1,"div",8),ae(2,"img",9),O(),N(3,"h4"),j(4),O()()),n&2){let t=e.$implicit;B(),Be("background",t.bg),B(),kt("src",t.img,Ct)("alt",t.label),B(2),Oe(t.label)}}var Tf=class n{constructor(e){this.el=e}ages=[{label:"0-2 Years",bg:"#eaf6ff",img:"https://html.onertheme.com/babymart/assets/img/category/category_card2_1.png"},{label:"3-4 Years",bg:"#f4eaff",img:"https://html.onertheme.com/babymart/assets/img/category/category_card2_2.png"},{label:"4-7 Years",bg:"#e9ffe3",img:"https://html.onertheme.com/babymart/assets/img/category/category_card2_3.png"},{label:"7-10 Years",bg:"#ffeaea",img:"https://html.onertheme.com/babymart/assets/img/category/category_card2_4.png"},{label:"12+ Years",bg:"#fff7cc",img:"https://html.onertheme.com/babymart/assets/img/category/category_card2_5.png"}];visibleItems=5;currentIndex=0;show=!1;slideWidth=210;transitionEnabled=!0;intervalId;get slides(){return[...this.ages,...this.ages]}ngOnInit(){this.startAutoSlide()}ngOnDestroy(){clearInterval(this.intervalId)}onScroll(){this.el.nativeElement.getBoundingClientRect().top<window.innerHeight-150&&(this.show=!0)}next(){this.currentIndex++,this.currentIndex===this.ages.length&&setTimeout(()=>{this.transitionEnabled=!1,this.currentIndex=0},450),this.transitionEnabled=!0}prev(){this.currentIndex===0&&(this.transitionEnabled=!1,this.currentIndex=this.ages.length,setTimeout(()=>{this.transitionEnabled=!0})),this.currentIndex--}startAutoSlide(){this.intervalId=window.setInterval(()=>{this.next()},3500)}stopAutoSlide(){clearInterval(this.intervalId)}static \u0275fac=function(t){return new(t||n)(X(it))};static \u0275cmp=be({type:n,selectors:[["app-age"]],hostBindings:function(t,r){t&1&&Ft("scroll",function(){return r.onScroll()},Fn)},decls:15,vars:6,consts:[[1,"age-section"],[1,"subtitle"],[1,"slider-wrapper",3,"mouseenter","mouseleave"],[1,"nav","left",3,"click"],[1,"viewport"],[1,"track"],[1,"age-card"],[1,"nav","right",3,"click"],[1,"blob"],[3,"src","alt"]],template:function(t,r){t&1&&(N(0,"section",0)(1,"h1")(2,"b"),j(3,"Shop By Age"),O()(),N(4,"p",1),j(5," Interdum et malesuada fames ac ante ipsum primis in faucibus "),O(),N(6,"div",2),Lt("mouseenter",function(){return r.stopAutoSlide()})("mouseleave",function(){return r.startAutoSlide()}),N(7,"button",3),Lt("click",function(){return r.prev()}),j(8,"\u276E"),O(),N(9,"div",4)(10,"div",5),Pt(11,w$,5,5,"div",6,I$),O()(),N(13,"button",7),Lt("click",function(){return r.next()}),j(14,"\u276F"),O()()()),t&2&&(ct("show",r.show),B(10),Be("transform","translateX(-"+r.currentIndex*r.slideWidth+"px)"),ct("no-transition",!r.transitionEnabled),B(),Nt(r.slides))},styles:['.age-section[_ngcontent-%COMP%]{padding:100px 40px;text-align:center;margin-top:-40px;opacity:0;transform:translateY(60px);transition:.8s ease}h1[_ngcontent-%COMP%]{font-family:FSFont1;font-size:36px;color:#103741;letter-spacing:.5px}.age-section.show[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.subtitle[_ngcontent-%COMP%]{font-family:FSFont2;font-size:16px;max-width:620px;margin:14px auto 60px;color:#6b7c85}.slider-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;width:100%}.viewport[_ngcontent-%COMP%]{width:100%;max-width:1010px;overflow:hidden}.track[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;gap:40px;transition:transform .45s cubic-bezier(.4,0,.2,1);will-change:transform}.track.no-transition[_ngcontent-%COMP%]{transition:none}.age-card[_ngcontent-%COMP%]{min-width:170px;flex-shrink:0;text-align:center}.blob[_ngcontent-%COMP%]{width:170px;height:170px;border-radius:55% 45% 60% 40%;display:flex;align-items:center;justify-content:center;margin:0 auto 18px}.blob[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:95px;transform:scale(1.7);transition:transform .4s ease}.age-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#1f2a37}.nav[_ngcontent-%COMP%]{position:absolute;width:44px;height:44px;border-radius:50%;border:none;background:#1dc9a0;color:#fff;font-size:18px;cursor:pointer;z-index:10;transform:translateY(-16px)}.nav.left[_ngcontent-%COMP%]{left:-22px}.nav.right[_ngcontent-%COMP%]{right:-22px}@media (max-width: 1024px) and (min-width: 769px){.viewport[_ngcontent-%COMP%]{max-width:590px}.age-card[_ngcontent-%COMP%]   .blob[_ngcontent-%COMP%]{border-radius:50%}}@media (max-width: 768px){.age-section[_ngcontent-%COMP%]{margin-top:10px;padding:40px 0 60px;overflow:hidden}.age-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:28px;margin-bottom:12px}.age-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{text-align:center;font-size:15px;padding:0 16px;margin-bottom:40px;color:#6b7c85;line-height:1.6}.age-section[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:none!important}.slider-wrapper[_ngcontent-%COMP%]{padding:0 16px}.viewport[_ngcontent-%COMP%]{overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;max-width:100%}.viewport[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.track[_ngcontent-%COMP%]{display:flex;gap:16px;transform:none!important}.age-card[_ngcontent-%COMP%]{flex:0 0 calc((100% - 16px)/2);min-width:calc((100% - 16px)/2);max-width:calc((100% - 16px)/2);scroll-snap-align:start;background:transparent;padding:0;box-shadow:none;display:flex;flex-direction:column;align-items:center}.age-card[_ngcontent-%COMP%]   .blob[_ngcontent-%COMP%]{width:200px;height:180px;border-radius:43% 57% 61% 39%/41% 52% 48% 59%;margin:0 auto 24px}.age-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px;transform:scale(1.6)}.age-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;margin-top:10px;font-weight:700;color:#103741}}@media (max-width: 576px){.age-card[_ngcontent-%COMP%]{flex:0 0 100%;min-width:100%;max-width:100%;scroll-snap-align:center}.age-card[_ngcontent-%COMP%]   .blob[_ngcontent-%COMP%]{width:260px;height:240px}.age-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px}.age-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}}@font-face{font-family:FSFont1;src:url(/fonts/VAG-Rounded-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:FSFont2;color:gray;src:url(/fonts/VAGRounded-Thin.ttf) format("truetype");font-weight:200;font-style:normal;font-display:swap}h4[_ngcontent-%COMP%]{font-family:FSFont2}']})};var b$=(n,e)=>e.title;function C$(n,e){if(n&1&&(N(0,"div",3),ae(1,"span",4)(2,"span",5),N(3,"div",6)(4,"h3"),j(5),ae(6,"br"),N(7,"span"),j(8),O()(),N(9,"p"),j(10),O(),N(11,"a",7),j(12,"Shop Now "),ae(13,"i",8),O()()()),n&2){let t=e.$implicit;Be("background-image","url("+t.bg+")"),B(5),un(" ",t.title," "),B(3),Oe(t.subtitle),B(2),Oe(t.offer)}}var Sf=class n{banners=[{title:"Learning Toys",subtitle:"For Kids",offer:"15% Off on Kids Toys and Gifts!",btn:"Shop Now",bg:"https://html.onertheme.com/babymart/assets/img/bg/cta_bg_1_1.png"},{title:"Brown Lather",subtitle:"Carriage",offer:"And get your 25% discount now!",btn:"Shop Now",bg:"https://html.onertheme.com/babymart/assets/img/bg/cta_bg_1_2.png"},{title:"Utricles Torqueing",subtitle:"For Kids",offer:"And get your 15% discount now!",btn:"Shop Now",bg:"https://html.onertheme.com/babymart/assets/img/bg/cta_bg_1_3.png"}];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=be({type:n,selectors:[["app-banner3"]],decls:4,vars:0,consts:[[1,"banner3-section"],[1,"banner-grid"],[1,"banner-card",3,"background-image"],[1,"banner-card"],[1,"hover-plus","vertical"],[1,"hover-plus","horizontal"],[1,"content"],[1,"btn"],[1,"fa-solid","fa-arrow-right"]],template:function(t,r){t&1&&(N(0,"section",0)(1,"div",1),Pt(2,C$,14,5,"div",2,b$),O()()),t&2&&(B(2),Nt(r.banners))},styles:['.banner3-section[_ngcontent-%COMP%]{font-family:TTFont1;max-width:1320px;padding:0 32px;margin:-30px auto auto}.banner-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}@font-face{font-family:TTFont1;src:url(/fonts/touros-pro.otf) format("opentype");font-weight:400;font-style:normal;font-display:swap}.banner-card[_ngcontent-%COMP%]{position:relative;height:215px;border-radius:20px;width:100%;background-size:cover;background-position:center;background-repeat:no-repeat;overflow:hidden;cursor:pointer}.content[_ngcontent-%COMP%]{position:relative;z-index:3;height:100%;padding:35px;color:#fff;display:flex;flex-direction:column;justify-content:center}.banner3-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{letter-spacing:.5px}.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;font-weight:700;line-height:1.2}.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:12px 0 18px;font-size:14px}.btn[_ngcontent-%COMP%]{width:fit-content;padding:10px 22px;border-radius:30px;background:#fff;color:#1dc9a0;font-weight:600;text-decoration:none;cursor:pointer}.hover-plus[_ngcontent-%COMP%]{position:absolute;background:#ffffff40;opacity:.5;transition:all 1s ease;z-index:2;box-shadow:0 0 18px #ffffff40}.hover-plus.vertical[_ngcontent-%COMP%]{width:0;height:120%;top:0;left:50%;transform:translate(-50%)}.hover-plus.horizontal[_ngcontent-%COMP%]{height:0;width:120%;top:50%;left:0;transform:translateY(-50%)}.banner-card[_ngcontent-%COMP%]:hover   .hover-plus.vertical[_ngcontent-%COMP%]{width:100%;opacity:.5}.banner-card[_ngcontent-%COMP%]:hover   .hover-plus.horizontal[_ngcontent-%COMP%]{height:100%;opacity:.5}.banner-card[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:#0000001f;opacity:0;transition:opacity .4s ease-in-out}.banner-card[_ngcontent-%COMP%]:hover:after{opacity:0}@media (max-width: 992px){.banner-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px;max-width:700px;margin:0 auto}.banner3-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{letter-spacing:.5px}.banner-card[_ngcontent-%COMP%]{height:220px}}@media (max-width: 768px){.banner3-section[_ngcontent-%COMP%]{padding:0 16px;margin-top:-50px;margin-bottom:30px}.banner3-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{letter-spacing:.5px}.banner-grid[_ngcontent-%COMP%]{gap:16px}.banner-card[_ngcontent-%COMP%]{height:auto;min-height:200px;border-radius:16px;background-position:center right}.content[_ngcontent-%COMP%]{padding:24px 20px;max-width:60%;align-items:flex-start}.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;line-height:1.3;letter-spacing:4px}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin:8px 0 16px;line-height:1.4}.btn[_ngcontent-%COMP%]{padding:8px 10px;font-size:12px;font-weight:700;color:#0f172a}}']})};var Af=class n{progress=0;show=!1;onScroll(){let e=window.scrollY,t=document.documentElement.scrollHeight-document.documentElement.clientHeight;this.progress=Math.round(e/t*100),this.show=e>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=be({type:n,selectors:[["app-scroll-progress"]],hostBindings:function(t,r){t&1&&Ft("scroll",function(){return r.onScroll()},Fn)},decls:6,vars:4,consts:[[1,"scroll-progress",3,"click"],["viewBox","0 0 100 100"],["cx","50","cy","50","r","45",1,"bg"],["cx","50","cy","50","r","45",1,"progress"],[1,"arrow"],[1,"fa-solid","fa-arrow-up"]],template:function(t,r){t&1&&(N(0,"div",0),Lt("click",function(){return r.scrollToTop()}),Br(),N(1,"svg",1),ae(2,"circle",2)(3,"circle",3),O(),$r(),N(4,"span",4),ae(5,"i",5),O()()),t&2&&(ct("show",r.show),B(3),Be("stroke-dashoffset",283-283*r.progress/100))},styles:[".scroll-progress[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;width:45px;height:45px;border-radius:50%;background:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 10px 25px #00000026;opacity:0;transform:scale(.8);pointer-events:none;transition:all .4s ease;z-index:999}.scroll-progress.show[_ngcontent-%COMP%]{opacity:1;transform:scale(1);pointer-events:auto}.scroll-progress[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;width:45px;height:45px;transform:rotate(-90deg)}circle[_ngcontent-%COMP%]{fill:none;stroke-width:6}circle.bg[_ngcontent-%COMP%]{stroke:#e6f6f3}circle.progress[_ngcontent-%COMP%]{stroke:#1dc9a0;stroke-dasharray:283;stroke-dashoffset:283;transition:stroke-dashoffset .25s linear}.arrow[_ngcontent-%COMP%]{position:relative;font-size:16px;font-weight:700;color:#1dc9a0;z-index:2}.scroll-progress[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]})};var D$=(n,e)=>e.name+n;function T$(n,e){if(n&1&&(N(0,"div",6,1),ae(2,"img",7),O()),n&2){let t=e.$implicit;B(2),kt("src",t.img,Ct)("alt",t.name)}}var xf=class n{brands=[{img:"https://html.onertheme.com/babymart/assets/img/brand/brand_1_5.png",name:"Kids Play"},{img:"https://html.onertheme.com/babymart/assets/img/brand/brand_1_7.png",name:"Super"},{img:"https://html.onertheme.com/babymart/assets/img/brand/brand_1_1.png",name:"Kids Zone"},{img:"https://html.onertheme.com/babymart/assets/img/brand/brand_1_2.png",name:"Kiddo"},{img:"https://html.onertheme.com/babymart/assets/img/brand/brand_1_3.png",name:"Game"},{img:"https://html.onertheme.com/babymart/assets/img/brand/brand_1_4.png",name:"Kids Zone 2"},{img:"https://html.onertheme.com/babymart/assets/img/brand/brand_1_6.png",name:"Party"}];slides=[...this.brands,...this.brands];itemWidth=130;gap=30;slideWidth=this.itemWidth+this.gap;currentIndex=0;transitionEnabled=!0;autoTimer;autoDelay=2500;ngAfterViewInit(){this.startAuto()}startAuto(){this.autoTimer=window.setInterval(()=>{this.moveNext()},this.autoDelay)}moveNext(){this.currentIndex++,this.currentIndex===this.brands.length&&setTimeout(()=>{this.transitionEnabled=!1,this.currentIndex=0,requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.transitionEnabled=!0})})},450)}ngOnDestroy(){clearInterval(this.autoTimer)}get transformStyle(){return`translateX(-${this.currentIndex*this.slideWidth}px)`}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=be({type:n,selectors:[["app-brands"]],decls:7,vars:4,consts:[["track",""],["brandItem",""],[1,"brands-section"],[1,"brands-container"],[1,"brands-viewport"],[1,"brands-track"],[1,"brand-item"],[3,"src","alt"]],template:function(t,r){t&1&&(N(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",5,0),Pt(5,T$,3,2,"div",6,D$),O()()()()),t&2&&(B(3),Be("transform",r.transformStyle),ct("no-transition",!r.transitionEnabled),B(2),Nt(r.slides))},styles:[".brands-section[_ngcontent-%COMP%]{background:#fff;padding:40px 0;margin-top:-50px}.brands-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 40px}.brands-viewport[_ngcontent-%COMP%]{width:100%;overflow:hidden}.brands-track[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:30px;transition:transform .45s cubic-bezier(.4,0,.2,1);will-change:transform}.brands-track.no-transition[_ngcontent-%COMP%]{transition:none}.brand-item[_ngcontent-%COMP%]{flex:0 0 130px;height:70px;display:flex;align-items:center;justify-content:center;opacity:.95;transition:opacity .3s ease,transform .3s ease}.brand-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:80%;max-height:80%;object-fit:contain}.brand-item[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.05)}@media (max-width: 1024px){.brands-container[_ngcontent-%COMP%]{padding:0 20px}.brands-viewport[_ngcontent-%COMP%]{overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch}.brands-viewport[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.brands-track[_ngcontent-%COMP%]{gap:20px;transform:none!important;padding-bottom:10px}.brand-item[_ngcontent-%COMP%]{flex:0 0 calc(25% - 15px);max-width:calc(25% - 15px);height:60px;scroll-snap-align:start}}@media (max-width: 768px){.brands-section[_ngcontent-%COMP%]{padding:50px 0 60px;margin-top:0}.brands-container[_ngcontent-%COMP%]{padding:0 16px}.brands-track[_ngcontent-%COMP%]{gap:16px}.brand-item[_ngcontent-%COMP%]{flex:0 0 calc(25% - 12px);max-width:calc(25% - 12px);height:45px;scroll-snap-align:start}.brand-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}}"]})};var Mf=class n{constructor(e){this.firestore=e}getFooterInfos(){let e=Js(this.firestore,"footerInfos");return Zs(e,{idField:"id"})}static \u0275fac=function(t){return new(t||n)(K(en))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var A$=(n,e)=>e.id;function x$(n,e){if(n&1&&(N(0,"div",17)(1,"div",18),ae(2,"img",19),O(),N(3,"div",20)(4,"span",21),j(5),O(),N(6,"strong",22),j(7),O()()()),n&2){let t=e.$implicit,r=e.$index;Be("transition-delay",r*.12+"s"),B(),Be("background",t.color),B(),kt("src",t.icon,Ct),B(3),Oe(t.title),B(2),Oe(t.value)}}function M$(n,e){n&1&&j(0," Loading footer info... ")}function R$(n,e){n&1&&j(0," No footer information available yet. ")}function P$(n,e){if(n&1&&(N(0,"div",14),Kr(1,M$,1,0)(2,R$,1,0),O()),n&2){let t=cn();B(),Qr(t.isLoading()?1:2)}}var Rf=class n{constructor(e,t,r,i){this.elementRef=e;this.footerService=t;this.settingsService=r;this.cdr=i}infos=[];logoUrl=Ne("https://html.onertheme.com/babymart/assets/img/logo.svg");isLoading=Ne(!0);sub;observer;ngOnInit(){this.sub=Po([this.footerService.getFooterInfos(),this.settingsService.getSettings()]).subscribe(([e,t])=>{this.infos=e,t&&t.logoUrl&&this.logoUrl.set(t.logoUrl),this.isLoading.set(!1),this.cdr.detectChanges(),this.observeElements()})}ngAfterViewInit(){this.observer=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(t.target.classList.add("in-view"),this.observer.unobserve(t.target))})},{threshold:.1}),this.observeElements()}observeElements(){setTimeout(()=>{if(!this.observer||!this.elementRef.nativeElement)return;this.elementRef.nativeElement.querySelectorAll(".fade-up:not(.in-view)").forEach(t=>{this.observer.observe(t)})},150)}ngOnDestroy(){this.sub&&this.sub.unsubscribe(),this.observer&&this.observer.disconnect()}static \u0275fac=function(t){return new(t||n)(X(it),X(Mf),X(ui),X(Yr))};static \u0275cmp=be({type:n,selectors:[["app-footer"]],decls:23,vars:2,consts:[["fadeRoot",""],[1,"footer"],[1,"footer-container"],[1,"footer-brand","fade-up","fade-delay-1"],[1,"logo"],["alt","HappyToys",3,"src"],[1,"desc","fade-up","fade-delay-2"],[1,"socials","fade-up","fade-delay-3"],[1,"fa-brands","fa-facebook-f"],[1,"fa-brands","fa-twitter"],[1,"fa-brands","fa-linkedin-in"],[1,"fa-brands","fa-youtube"],[1,"footer-info-grid"],[1,"info-card","fade-up","in-view",3,"transitionDelay"],[2,"grid-column","1 / -1","text-align","center","padding","20px","font-weight","500","color","#ffffff","font-size","16px"],[1,"baloon","fade-up","fade-delay-5"],["src","/Images/footer-shape1.png","alt","baloon"],[1,"info-card","fade-up","in-view"],[1,"icon"],[3,"src"],[1,"text"],[1,"title"],[1,"value"]],template:function(t,r){t&1&&(N(0,"footer",1)(1,"div",2,0)(3,"div",3)(4,"div",4),ae(5,"img",5),O(),N(6,"p",6),j(7," Phasellus ultricies aliquam volutpat ullamcorper laoreet neque, a lacinia curabitur lacinia mollis "),O(),N(8,"div",7)(9,"a"),ae(10,"i",8),O(),N(11,"a"),ae(12,"i",9),O(),N(13,"a"),ae(14,"i",10),O(),N(15,"a"),ae(16,"i",11),O()()(),N(17,"div",12),Pt(18,x$,8,7,"div",13,A$,!1,P$,3,1,"div",14),O(),N(21,"div",15),ae(22,"img",16),O()()()),t&2&&(B(5),kt("src",r.logoUrl(),Ct),B(13),Nt(r.infos))},dependencies:[Vn],styles:[".footer[_ngcontent-%COMP%]{position:relative;background:url(/Images/footer_bg_1.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;color:#fff}.footer-container[_ngcontent-%COMP%]{align-items:center;max-width:1320px;margin:0 auto;padding:60px 32px;min-height:55vh;display:grid;grid-template-columns:1.2fr 2fr;gap:60px}.baloon[_ngcontent-%COMP%]{position:absolute;right:50px;bottom:40px;z-index:1;width:auto;background-color:transparent}.footer-brand[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:26px;font-weight:700}.footer-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:242px}.footer-brand[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{margin:18px 0 22px;font-size:14px;line-height:1.6;opacity:.85}.socials[_ngcontent-%COMP%]{display:flex;gap:12px}.socials[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:#ffffff1f;display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;transition:background .3s ease}.socials[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#11bfa3}.footer-info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:40px 60px}.info-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:18px}.icon[_ngcontent-%COMP%]{width:54px;height:54px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:20px;color:#fff}.text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.title[_ngcontent-%COMP%]{font-size:14px;opacity:.85}.value[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-top:2px}.fade-up[_ngcontent-%COMP%]{opacity:0;transform:translateY(30px);transition:opacity .7s ease,transform .7s ease}.fade-up.in-view[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.fade-delay-1[_ngcontent-%COMP%]{transition-delay:.1s}.fade-delay-2[_ngcontent-%COMP%]{transition-delay:.2s}.fade-delay-3[_ngcontent-%COMP%]{transition-delay:.3s}.fade-delay-4[_ngcontent-%COMP%]{transition-delay:.4s}.fade-delay-5[_ngcontent-%COMP%]{transition-delay:.5s}@media (max-width: 1024px){.footer-container[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:80px 40px;text-align:center}.footer-brand[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.footer-info-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);margin:0 auto;text-align:left}}@media (max-width: 768px){.footer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.footer-info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var Pf=class n{constructor(e){this.firestore=e}getFlashSales(){let e=Js(this.firestore,"flashsales");return Zs(e,{idField:"id"})}static \u0275fac=function(t){return new(t||n)(K(en))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var O$=["cardRef"],k$=(n,e)=>e.name+n;function F$(n,e){if(n&1&&(N(0,"del"),j(1),O()),n&2){let t=cn().$implicit;B(),Oe(t.oldPrice)}}function L$(n,e){if(n&1){let t=rc();N(0,"div",7,0)(2,"div",10)(3,"img",11),Lt("error",function(i){zo(t);let o=cn();return qo(o.handleImageError(i))}),O()(),N(4,"h4"),j(5),O(),N(6,"div",12)(7,"span",13),j(8),O(),Kr(9,F$,2,1,"del"),O(),N(10,"div",14)(11,"button",15),ae(12,"i",16),j(13," View Details "),O()()()}if(n&2){let t=e.$implicit;B(3),kt("src",t.img,Ct)("alt",t.name),B(2),Oe(t.name),B(3),Oe(t.price),B(),Qr(t.oldPrice?9:-1)}}function V$(n,e){n&1&&(N(0,"div",8),j(1," Loading flash sales... (If this gets stuck, check your 'flashsales' collection in Firestore!) "),O())}var Nf=class n{constructor(e,t){this.elRef=e;this.flashsaleService=t}products=[];loopProducts=[];ngOnInit(){this.flashsaleService.getFlashSales().subscribe(e=>{this.products=e.map(t=>({name:t.name,price:`\u20B9${t.price}`,oldPrice:t.oldPrice?`\u20B9${t.oldPrice}`:"",img:t.imageUrl,badge:t.oldPrice?`-${Math.round((t.oldPrice-t.price)/t.oldPrice*100)}%`:""})),this.loopProducts=[...this.products,...this.products],setTimeout(()=>{this.updateDimensions()},100)})}cards;slideWidth=0;translateX=0;autoTimer;autoDelay=3500;isDragging=!1;dragStartX=0;dragStartTranslate=0;showCursor=!1;cursorX=0;cursorY=0;ngAfterViewInit(){this.updateDimensions(),this.startAutoSlide()}ngOnDestroy(){this.stopAutoSlide()}onResize(){this.updateDimensions(),this.snapToNearest()}onScroll(){this.showCursor&&(this.showCursor=!1),this.isDragging&&(this.isDragging=!1,this.snapToNearest(),this.startAutoSlide())}updateDimensions(){if(!this.cards||this.cards.length===0)return;let e=this.cards.first.nativeElement;if(this.cards.length>1){let t=this.cards.get(1).nativeElement;this.slideWidth=t.offsetLeft-e.offsetLeft}else this.slideWidth=e.offsetWidth+20}startAutoSlide(){this.stopAutoSlide(),this.autoTimer=setInterval(()=>{this.autoNext()},this.autoDelay)}stopAutoSlide(){this.autoTimer&&clearInterval(this.autoTimer)}autoNext(){let e=this.slideWidth;this.translateX+=e,this.checkInfiniteLoop()}checkInfiniteLoop(){let e=this.products.length*this.slideWidth;this.translateX>=e&&(this.translateX=0)}snapToNearest(){if(this.slideWidth===0)return;let e=Math.round(this.translateX/this.slideWidth);this.translateX=e*this.slideWidth;let t=(this.loopProducts.length-5)*this.slideWidth;this.translateX>t&&(this.translateX=0),this.translateX<0&&(this.translateX=0)}onEnter(){this.showCursor=!0,this.stopAutoSlide()}onLeave(){this.showCursor=!1,this.isDragging&&(this.isDragging=!1,this.snapToNearest()),this.startAutoSlide()}onMouseDown(e){e.button===0&&(this.isDragging=!0,this.dragStartX=e.clientX,this.dragStartTranslate=this.translateX,this.stopAutoSlide())}onMouseUp(){this.isDragging&&(this.isDragging=!1,this.snapToNearest(),this.startAutoSlide())}onMouseMove(e){if(this.cursorX=e.clientX,this.cursorY=e.clientY,this.showCursor||(this.showCursor=!0,this.stopAutoSlide()),!this.isDragging)return;let t=this.dragStartX-e.clientX;this.translateX=this.dragStartTranslate+t}handleImageError(e){e.target.src="https://via.placeholder.com/220x220?text=Product"}static \u0275fac=function(t){return new(t||n)(X(it),X(Pf))};static \u0275cmp=be({type:n,selectors:[["app-flashsales"]],viewQuery:function(t,r){if(t&1&&hy(O$,5),t&2){let i;fy(i=py())&&(r.cards=i)}},hostBindings:function(t,r){t&1&&Ft("resize",function(){return r.onResize()},Fn)("wheel",function(){return r.onScroll()},pd)("touchmove",function(){return r.onScroll()},pd)("scroll",function(){return r.onScroll()},Fn)},decls:12,vars:11,consts:[["cardRef",""],[1,"flash-sale-section"],[1,"flash-sale-container"],[1,"flash-sale-header"],[1,"title"],[1,"slider-viewport",3,"mouseenter","mouseleave","mousemove","mousedown","mouseup"],[1,"slider-track"],[1,"flash-card"],[2,"flex","1","text-align","center","padding","50px 20px","font-weight","500","color","#0a2540","font-size","16px"],[1,"drag-cursor"],[1,"img-wrapper",2,"height","180px","display","flex","justify-content","center","align-items","center","margin-bottom","15px"],["draggable","false",2,"max-height","100%","max-width","100%","object-fit","contain",3,"error","src","alt"],[1,"price"],[1,"current"],[1,"price-wrapper"],[1,"view-btn"],[1,"fa-solid","fa-circle-info"]],template:function(t,r){t&1&&(N(0,"section",1)(1,"div",2)(2,"div",3)(3,"h2",4),j(4,"Flash Sale"),O()(),N(5,"div",5),Lt("mouseenter",function(){return r.onEnter()})("mouseleave",function(){return r.onLeave()})("mousemove",function(o){return r.onMouseMove(o)})("mousedown",function(o){return r.onMouseDown(o)})("mouseup",function(){return r.onMouseUp()}),N(6,"div",6),Pt(7,L$,14,5,"div",7,k$,!1,V$,2,0,"div",8),O(),N(10,"div",9),j(11," Drag "),O()()()()),t&2&&(B(6),Be("transform","translateX("+-r.translateX+"px)")("transition",r.isDragging?"none":"transform 0.5s cubic-bezier(0.25, 1, 0.5, 1)"),B(),Nt(r.loopProducts),B(3),Be("left",r.cursorX,"px")("top",r.cursorY,"px"),ct("show",r.showCursor))},dependencies:[Vn],styles:['.flash-sale-section[_ngcontent-%COMP%]{margin-top:-65px;padding:70px 0 90px;background:#fff}.flash-sale-container[_ngcontent-%COMP%]{max-width:1300px;margin:0 auto;padding:0 48px}.title[_ngcontent-%COMP%]{margin-left:10px;font-family:FSFont1,sans-serif;font-size:32px;font-weight:800;margin-bottom:32px;color:#0a2540}.slider-viewport[_ngcontent-%COMP%]{position:relative;overflow:hidden;cursor:none}.slider-track[_ngcontent-%COMP%]{display:flex;gap:20px;transition:transform .55s cubic-bezier(.4,0,.2,1)}.flash-card[_ngcontent-%COMP%]{width:222px;flex-shrink:0;min-height:280px;background:#fff;border:1px solid #e6eff2;border-radius:22px;padding:16px;text-align:center;position:relative;font-family:FSFont2;overflow:hidden;font-size:8px;letter-spacing:.5px}.flash-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;margin:8px auto 12px;display:block;transition:transform .45s ease;transform:scale(1.08)}.flash-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(.95) translateY(-6px)}.flash-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:800;margin:0 0 10px;color:#0a2540;line-height:1.45;letter-spacing:1px}.price[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;margin:0 0 12px}.price[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#12c7a5;letter-spacing:1px;font-size:14px;font-weight:700}.price[_ngcontent-%COMP%]   del[_ngcontent-%COMP%]{font-size:15px;letter-spacing:1px;color:#9aa6ac}.badge[_ngcontent-%COMP%]{position:absolute;top:14px;left:14px;background:#12c7a5;color:#fff;font-size:12px;font-weight:600;padding:4px 10px;border-radius:14px}.price-wrapper[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:-50%;height:50%;display:flex;align-items:center;justify-content:center;background:linear-gradient(to top,#12c7a5 15%,transparent 100%);padding:0 16px;border-radius:0 0 22px 22px;transition:bottom .35s ease}.flash-card[_ngcontent-%COMP%]:hover   .price-wrapper[_ngcontent-%COMP%]{bottom:0}.view-btn[_ngcontent-%COMP%]{width:100%;height:42px;border:none;border-radius:999px;background:#12c7a5;color:#fff;font-size:14px;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px}.card-actions[_ngcontent-%COMP%]{position:absolute;top:16px;right:-44px;display:flex;flex-direction:column;gap:10px;transition:right .35s ease}.flash-card[_ngcontent-%COMP%]:hover   .card-actions[_ngcontent-%COMP%]{right:14px}.card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:34px;height:34px;border-radius:50%;border:1px solid #e6eff2;background:#fff;cursor:pointer}.drag-cursor[_ngcontent-%COMP%]{position:fixed;width:96px;height:96px;background:#12c7a5;color:#fff;border-radius:999px;font-weight:700;font-size:15px;display:flex;align-items:center;justify-content:center;pointer-events:none;transform:translate(-50%,-50%) scale(.65);opacity:0;transition:transform .25s ease,opacity .25s ease;z-index:9999;cursor:ew-resize}.drag-cursor.show[_ngcontent-%COMP%], .slider-viewport[_ngcontent-%COMP%]:hover   .drag-cursor[_ngcontent-%COMP%]{opacity:1;transform:translate(-50%,-50%) scale(1)}.flash-card[_ngcontent-%COMP%]:hover   .drag-cursor[_ngcontent-%COMP%], .flash-card[_ngcontent-%COMP%]:hover{cursor:default}.flash-card[_ngcontent-%COMP%]:hover ~ .drag-cursor[_ngcontent-%COMP%]{opacity:0}.view-btn[_ngcontent-%COMP%]:hover, .card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer}.slider-viewport[_ngcontent-%COMP%]:hover:has(.view-btn:hover)   .drag-cursor[_ngcontent-%COMP%]{opacity:0;transition:ease-in-out .1s}.slider-viewport[_ngcontent-%COMP%], .slider-viewport[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}@media (max-width: 1024px){.slider-viewport[_ngcontent-%COMP%]{overflow-x:auto;cursor:grab;-webkit-overflow-scrolling:touch;scroll-snap-type:x mandatory;padding:0}.slider-viewport[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.slider-track[_ngcontent-%COMP%]{transform:none!important;gap:16px}.flash-card[_ngcontent-%COMP%]{min-width:calc((100% - 32px) / 3);max-width:calc((100% - 32px) / 3);scroll-snap-align:start;min-height:260px}.drag-cursor[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 768px){.flash-sale-section[_ngcontent-%COMP%]{margin-top:-20px;padding:40px 0 60px}.flash-sale-container[_ngcontent-%COMP%]{padding:0 16px}.title[_ngcontent-%COMP%]{text-align:center;font-size:26px;margin-bottom:24px;margin-left:0}.slider-track[_ngcontent-%COMP%]{gap:12px}.flash-card[_ngcontent-%COMP%]{min-width:calc((100% - 24px) / 3);max-width:calc((100% - 24px) / 3);border-radius:16px;padding:12px 10px;text-align:center;min-height:240px}.flash-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:80px;margin:0 auto 10px;display:block}.flash-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:12px;margin-bottom:6px}.price[_ngcontent-%COMP%]{justify-content:center;margin-left:0;margin-bottom:8px;gap:6px}.price[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{font-size:13px}.price[_ngcontent-%COMP%]   del[_ngcontent-%COMP%]{font-size:12px}.price-wrapper[_ngcontent-%COMP%]{padding:0 10px}.view-btn[_ngcontent-%COMP%]{height:34px;font-size:11px}}@media (max-width: 576px){.slider-track[_ngcontent-%COMP%]{gap:16px}.flash-card[_ngcontent-%COMP%]{min-width:calc((100% - 16px)/2);max-width:calc((100% - 16px)/2);padding:12px 10px;min-height:220px}.flash-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px}.flash-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px}.price[_ngcontent-%COMP%]{gap:8px}.price[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{font-size:14px}.price[_ngcontent-%COMP%]   del[_ngcontent-%COMP%]{font-size:13px}.view-btn[_ngcontent-%COMP%]{height:38px;font-size:12px}}@media (max-width: 480px){.title[_ngcontent-%COMP%]{font-size:22px}.flash-card[_ngcontent-%COMP%]{padding:10px 8px;min-height:220px}.flash-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:80px}.flash-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:12px}.price[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{font-size:13px}.price[_ngcontent-%COMP%]   del[_ngcontent-%COMP%]{font-size:12px}.view-btn[_ngcontent-%COMP%]{height:34px;font-size:11px}}@font-face{font-family:FSFont1;src:url(/fonts/VAG-Rounded-Bold.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:FSFont2;color:gray;src:url(/fonts/VAGRounded-Thin.ttf) format("truetype");font-weight:200;font-style:normal;font-display:swap}']})};var Of=class n{constructor(e){this.firestore=e}getTrendingItems(){let e=Js(this.firestore,"trendingItems");return Zs(e,{idField:"id"})}static \u0275fac=function(t){return new(t||n)(K(en))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var j$=(n,e)=>e.name;function B$(n,e){if(n&1&&(N(0,"span",13),j(1),O()),n&2){let t=cn().$implicit;B(),Oe(t.badge)}}function $$(n,e){if(n&1&&(N(0,"del"),j(1),O()),n&2){let t=cn().$implicit;B(),Oe(t.oldPrice)}}function H$(n,e){if(n&1&&(N(0,"div",12),Kr(1,B$,2,1,"span",13),ae(2,"img",14),N(3,"h4"),j(4),O(),N(5,"div",15)(6,"span",16),j(7),O(),Kr(8,$$,2,1,"del"),O(),N(9,"div",17)(10,"button",18),ae(11,"i",19),j(12," View Details "),O()()()),n&2){let t=e.$implicit,r=e.$index,i=cn();Be("transition-delay",(i.isFiltering()?0:r*80)+"ms"),B(),Qr(t.badge?1:-1),B(),kt("src",t.img,Ct),B(2),Oe(t.name),B(3),Oe(t.price),B(),Qr(t.oldPrice?8:-1)}}var kf=class n{constructor(e,t){this.el=e;this.trendingItemsService=t}categories=["All Items","Kid Toys","Outdoor Toy","Kid Books","Kid Clothing"];activeCategory=Ne("All Items");isFiltering=Ne(!1);isLoading=Ne(!0);products=[];filteredProducts=Ne([]);sub;observer;ngOnInit(){this.sub=this.trendingItemsService.getTrendingItems().subscribe(e=>{this.products=e,this.isLoading.set(!1),this.filterData(this.activeCategory()),this.observeElements()})}ngAfterViewInit(){this.observer=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&t.target.classList.add("in-view")})},{threshold:.1}),this.observeElements()}ngOnDestroy(){this.observer&&this.observer.disconnect(),this.sub&&this.sub.unsubscribe()}observeElements(){setTimeout(()=>{this.el.nativeElement.querySelectorAll(".fade-up").forEach(e=>{this.observer.observe(e)})},50)}setCategory(e){this.activeCategory()===e||this.isFiltering()||(this.isFiltering.set(!0),this.activeCategory.set(e),setTimeout(()=>{this.filterData(e),this.isFiltering.set(!1),this.observeElements()},400))}filterData(e){e==="All Items"?this.filteredProducts.set([...this.products]):this.filteredProducts.set(this.products.filter(t=>t.category===e))}static \u0275fac=function(t){return new(t||n)(X(it),X(Of))};static \u0275cmp=be({type:n,selectors:[["app-trending-items"]],decls:40,vars:2,consts:[[1,"trending-section"],[1,"cloud-divider","cloud-top"],[1,"cloud-track"],["src","/Images/cloud.png","onerror","this.style.display='none'"],[1,"trending-container"],[1,"trending-header","fade-up"],[1,"trending-content"],[1,"promo-banner","fade-up"],["src","https://html.onertheme.com/babymart/assets/img/normal/ad1-1.png","alt","Trending Banner"],[1,"product-grid"],[1,"product-card","fade-up",3,"transitionDelay"],[1,"cloud-divider","cloud-bottom"],[1,"product-card","fade-up"],[1,"badge"],["alt","product",3,"src"],[1,"price"],[1,"current"],[1,"price-wrapper"],[1,"view-btn"],[1,"fa-solid","fa-circle-info"]],template:function(t,r){t&1&&(N(0,"section",0)(1,"div",1)(2,"div",2),ae(3,"img",3)(4,"img",3)(5,"img",3)(6,"img",3)(7,"img",3)(8,"img",3)(9,"img",3)(10,"img",3)(11,"img",3)(12,"img",3)(13,"img",3)(14,"img",3),O()(),N(15,"div",4)(16,"div",5)(17,"h1")(18,"b"),j(19,"Trending Items"),O()()(),N(20,"div",6)(21,"div",7),ae(22,"img",8),O(),N(23,"div",9),Pt(24,H$,13,7,"div",10,j$),O()()(),N(26,"div",11)(27,"div",2),ae(28,"img",3)(29,"img",3)(30,"img",3)(31,"img",3)(32,"img",3)(33,"img",3)(34,"img",3)(35,"img",3)(36,"img",3)(37,"img",3)(38,"img",3)(39,"img",3),O()()()),t&2&&(B(23),ct("filtering",r.isFiltering()),B(),Nt(r.filteredProducts()))},styles:['.trending-section[_ngcontent-%COMP%]{position:relative;background:#dff8f6;padding:100px 0 120px;margin-top:40px;margin-bottom:40px;font-family:TTFont1,sans-serif}.trending-container[_ngcontent-%COMP%]{max-width:1220px;margin:auto;padding:0 24px;position:relative;z-index:10}.cloud-divider[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;height:56px;overflow:hidden;pointer-events:none;z-index:20}.cloud-top[_ngcontent-%COMP%]{top:50px;transform:translateY(-100%)}.cloud-bottom[_ngcontent-%COMP%]{bottom:50px;transform:translateY(100%) rotate(180deg)}@font-face{font-family:TTFont1;src:url(/fonts/touros-pro.otf) format("opentype");font-weight:400;font-style:normal;font-display:swap}h1[_ngcontent-%COMP%]{font-family:TTFont1,sans-serif;font-size:36px}.cloud-track[_ngcontent-%COMP%]{display:flex;width:max-content;animation:_ngcontent-%COMP%_cloudScroll 28s linear infinite}.cloud-track[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:36px;width:auto;opacity:.85;flex-shrink:0}@keyframes _ngcontent-%COMP%_cloudScroll{0%{transform:translate(0)}to{transform:translate(-50%)}}.fade-up[_ngcontent-%COMP%]{opacity:0;transform:translateY(40px);transition:opacity .8s ease,transform .8s ease}.fade-up.in-view[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.trending-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:40px}.trending-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#0a2540;margin:0}.tabs[_ngcontent-%COMP%]{display:flex;gap:20px;list-style:none;padding:0;margin:0 28px}.tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;font-family:TTFont1,sans-serif;font-size:15px;color:#666;position:relative;transition:color .3s}.tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#00bfa5}.tabs[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#00bfa5;font-weight:600}.tabs[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-6px;left:0;width:100%;height:2px;background:#00bfa5}.trending-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.5fr 2fr;gap:30px}.promo-banner[_ngcontent-%COMP%]{border-radius:24px;overflow:hidden;position:relative;height:100%}.promo-banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;transition:transform .5s ease}.promo-banner[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.03)}.product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:15px}.product-grid.filtering[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{opacity:0!important;transform:scale(.8) translateY(20px)!important;transition:all .3s ease!important}.product-card[_ngcontent-%COMP%]{background:#fff;height:100%;min-height:270px;width:100%;border-radius:18px;padding:20px 16px 16px;position:relative;overflow:hidden;transition:transform .4s ease,box-shadow .4s ease,opacity .4s ease;border:1px solid #d6dfe1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 18px 40px #00000014;border-color:#e6eff2;z-index:2}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:120px;object-fit:contain;margin:0 auto 12px;display:block}.product-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px;margin:8px 0 6px;color:#0a2540;text-align:center;line-height:1.4;width:100%}.price[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;justify-content:center;width:100%;margin-top:6px;padding-bottom:4px}.price[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#00bfa5;font-weight:600}.price[_ngcontent-%COMP%]   del[_ngcontent-%COMP%]{color:#999;font-size:13px}.badge[_ngcontent-%COMP%]{position:absolute;top:14px;left:14px;background:#00bfa5;color:#fff;font-size:11px;font-weight:600;padding:4px 10px;border-radius:12px}.price-wrapper[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:-45%;height:45%;display:flex;align-items:center;justify-content:center;background:linear-gradient(to top,rgba(0,191,165,.95) 15%,rgba(0,191,165,.6) 60%,transparent 100%);padding:0 16px;border-radius:0 0 18px 18px;transition:bottom .35s ease;z-index:10}.product-card[_ngcontent-%COMP%]:hover   .price-wrapper[_ngcontent-%COMP%]{bottom:0}.view-btn[_ngcontent-%COMP%]{width:100%;height:42px;border:none;border-radius:999px;background:#00bfa5;color:#fff;font-size:14px;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px}@media (max-width: 992px){.trending-content[_ngcontent-%COMP%]{grid-template-columns:1fr}.promo-banner[_ngcontent-%COMP%]{order:2;height:950px;max-height:none;margin-top:24px}.promo-banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-position:center top}.product-grid[_ngcontent-%COMP%]{order:1;grid-template-columns:repeat(3,1fr)}}@media (max-width: 768px){.product-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:12px}.product-card[_ngcontent-%COMP%]{padding:16px 12px 14px;min-height:240px}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px}.product-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:13px}.price[_ngcontent-%COMP%]{gap:6px}.price[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{font-size:14px}.price[_ngcontent-%COMP%]   del[_ngcontent-%COMP%]{font-size:12px}.view-btn[_ngcontent-%COMP%]{height:36px;font-size:12px}.promo-banner[_ngcontent-%COMP%]{height:900px}}@media (max-width: 576px){.trending-section[_ngcontent-%COMP%]{padding:60px 16px 80px;margin-top:30px;margin-bottom:30px}.trending-header[_ngcontent-%COMP%]{flex-direction:column;gap:20px;text-align:center;margin-bottom:30px}.trending-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:26px}.tabs[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;gap:12px 16px;margin:0}.tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px}.product-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:10px}.product-card[_ngcontent-%COMP%]{height:auto;padding:16px 10px 20px;border-radius:16px;min-height:220px}.badge[_ngcontent-%COMP%]{top:10px;left:10px;font-size:10px;padding:3px 6px}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:120px;height:80px}.product-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:12px}.price[_ngcontent-%COMP%]{font-size:12px;flex-wrap:wrap;gap:4px}.price[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{font-size:13px}.price[_ngcontent-%COMP%]   del[_ngcontent-%COMP%]{font-size:11px}.price-wrapper[_ngcontent-%COMP%]{padding:0 8px;border-radius:0 0 16px 16px}.view-btn[_ngcontent-%COMP%]{height:30px;font-size:10px}.promo-banner[_ngcontent-%COMP%]{height:420px;margin-top:16px}.cloud-divider[_ngcontent-%COMP%]{height:60px}.cloud-track[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}.cloud-top[_ngcontent-%COMP%]{top:40px;transform:translateY(-100%)}.cloud-bottom[_ngcontent-%COMP%]{bottom:40px;transform:translateY(100%) rotate(180deg)}}'],changeDetection:0})};var pM=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(X(tc),X(it))};static \u0275dir=an({type:n})}return n})(),z$=(()=>{class n extends pM{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ns(n)))(i||n)}})();static \u0275dir=an({type:n,features:[Ui]})}return n})(),gM=new q("");var q$={provide:gM,useExisting:bi(()=>jf),multi:!0};function G$(){let n=ln()?ln().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var W$=new q(""),jf=(()=>{class n extends pM{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!G$())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(X(tc),X(it),X(W$,8))};static \u0275dir=an({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ft("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Md([q$]),Ui]})}return n})();var K$=new q(""),Q$=new q("");function mM(n){return n!=null}function yM(n){return ur(n)?Pe(n):n}function vM(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function _M(n,e){return e.map(t=>t(n))}function Y$(n){return!n.validate}function EM(n){return n.map(e=>Y$(e)?e:t=>e.validate(t))}function Z$(n){if(!n)return null;let e=n.filter(mM);return e.length==0?null:function(t){return vM(_M(t,e))}}function IM(n){return n!=null?Z$(EM(n)):null}function J$(n){if(!n)return null;let e=n.filter(mM);return e.length==0?null:function(t){let r=_M(t,e).map(yM);return Lp(r).pipe(ce(vM))}}function wM(n){return n!=null?J$(EM(n)):null}function aM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function X$(n){return n._rawValidators}function eH(n){return n._rawAsyncValidators}function wI(n){return n?Array.isArray(n)?n:[n]:[]}function Lf(n,e){return Array.isArray(n)?n.includes(e):n===e}function cM(n,e){let t=wI(e);return wI(n).forEach(i=>{Lf(t,i)||t.push(i)}),t}function uM(n,e){return wI(e).filter(t=>!Lf(n,t))}var Vf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=IM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},bI=class extends Vf{name;get formDirective(){return null}get path(){return null}},gu=class extends Vf{_parent=null;name=null;valueAccessor=null},CI=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},tH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},loe=le(L({},tH),{"[class.ng-submitted]":"isSubmitted"}),bM=(()=>{class n extends CI{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(X(gu,2))};static \u0275dir=an({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ct("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ui]})}return n})();var du="VALID",Ff="INVALID",Xs="PENDING",hu="DISABLED",uo=class{},Uf=class extends uo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},fu=class extends uo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},pu=class extends uo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ea=class extends uo{status;source;constructor(e,t){super(),this.status=e,this.source=t}};var DI=class extends uo{source;constructor(e){super(),this.source=e}};function nH(n){return(Bf(n)?n.validators:n)||null}function rH(n){return Array.isArray(n)?IM(n):n||null}function iH(n,e){return(Bf(e)?e.asyncValidators:n)||null}function oH(n){return Array.isArray(n)?wM(n):n||null}function Bf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var TI=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ut(this.statusReactive)}set status(e){ut(()=>this.statusReactive.set(e))}_status=oc(()=>this.statusReactive());statusReactive=Ne(void 0);get valid(){return this.status===du}get invalid(){return this.status===Ff}get pending(){return this.status==Xs}get disabled(){return this.status===hu}get enabled(){return this.status!==hu}errors;get pristine(){return ut(this.pristineReactive)}set pristine(e){ut(()=>this.pristineReactive.set(e))}_pristine=oc(()=>this.pristineReactive());pristineReactive=Ne(!0);get dirty(){return!this.pristine}get touched(){return ut(this.touchedReactive)}set touched(e){ut(()=>this.touchedReactive.set(e))}_touched=oc(()=>this.touchedReactive());touchedReactive=Ne(!1);get untouched(){return!this.touched}_events=new We;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(cM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uM(e,this._rawAsyncValidators))}hasValidator(e){return Lf(this._rawValidators,e)}hasAsyncValidator(e){return Lf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new pu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new pu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new fu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new fu(!0,r))}markAsPending(e={}){this.status=Xs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ea(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=hu,this.errors=null,this._forEachChild(i=>{i.disable(le(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Uf(this.value,r)),this._events.next(new ea(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=du,this._forEachChild(r=>{r.enable(le(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===du||this.status===Xs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Uf(this.value,t)),this._events.next(new ea(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hu:du}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Xs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=yM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ea(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new rt,this.statusChanges=new rt}_calculateStatus(){return this._allControlsDisabled()?hu:this.errors?Ff:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xs)?Xs:this._anyControlsHaveStatus(Ff)?Ff:du}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new fu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new pu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=rH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=oH(this._rawAsyncValidators)}};var CM=new q("",{providedIn:"root",factory:()=>SI}),SI="always";function sH(n,e){return[...e.path,n]}function aH(n,e,t=SI){uH(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),lH(n,e),hH(n,e),dH(n,e),cH(n,e)}function lM(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cH(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function uH(n,e){let t=X$(n);e.validator!==null?n.setValidators(aM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=eH(n);e.asyncValidator!==null?n.setAsyncValidators(aM(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();lM(e._rawValidators,i),lM(e._rawAsyncValidators,i)}function lH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&DM(n,e)})}function dH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&DM(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function DM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hH(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function fH(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function pH(n){return Object.getPrototypeOf(n.constructor)===z$}function gH(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===jf?t=o:pH(o)?r=o:i=o}),i||r||t||null}function dM(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function hM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var mH=class extends TI{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(nH(t),iH(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(hM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new DI(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){hM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var yH={provide:gu,useExisting:bi(()=>AI)},fM=Promise.resolve(),AI=(()=>{class n extends gu{_changeDetectorRef;callSetDisabledState;control=new mH;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new rt;constructor(t,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=gH(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),fH(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){aH(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){fM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Ay(r);fM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?sH(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(X(bI,9),X(K$,10),X(Q$,10),X(gM,10),X(Yr,8),X(CM,8))};static \u0275dir=an({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Md([yH]),Ui,ts]})}return n})();var vH=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gr({type:n});static \u0275inj=nr({})}return n})();var TM=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:CM,useValue:t.callSetDisabledState??SI}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gr({type:n});static \u0275inj=nr({imports:[vH]})}return n})();function EH(n,e){if(n&1){let t=rc();Qe(0,"li",23),Ft("click",function(){let i=zo(t).$implicit,o=cn();return qo(o.selectCategory(i))}),j(1),ze()}if(n&2){let t=e.$implicit;B(),un(" ",t," ")}}var $f=class n{constructor(e){this.settingsService=e}logoUrl=Ne("https://html.onertheme.com/babymart/assets/img/logo.svg");discountText=Ne("Babymart Flash Discount: Starting at 30% Off");categories=["Game And toy","Kid Clothing","Kid Books","Indoor Play","Smart Toys"];selectedCategory="Categories";searchText="";sub;ngOnInit(){this.sub=this.settingsService.getSettings().subscribe(e=>{e&&(e.logoUrl&&this.logoUrl.set(e.logoUrl),e.discountText&&this.discountText.set(e.discountText))})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}selectCategory(e){this.selectedCategory=e}search(){console.log({category:this.selectedCategory,search:this.searchText})}static \u0275fac=function(t){return new(t||n)(X(ui))};static \u0275cmp=be({type:n,selectors:[["app-navbar"]],decls:26,vars:5,consts:[[1,"mobile-topbar"],[1,"navbar"],[1,"navbar-container"],[1,"navbar-logo"],["alt","Happy Toys",2,"width","auto","max-width","100%","height","42px","object-fit","contain",3,"src"],[1,"navbar-search"],[1,"category-dropdown"],["type","button",1,"category-btn"],[1,"cat-icon"],["viewBox","0 0 24 24","aria-hidden","true","preserveAspectRatio","xMidYMid meet",2,"width","16px","height","16px"],["x","1","y","1","width","9","height","9","rx","2"],["x","14","y","1","width","9","height","9","rx","2"],["x","1","y","14","width","9","height","9","rx","2"],["x","14","y","14","width","9","height","9","rx","2"],[1,"selected-category"],[1,"fa-solid","fa-chevron-down","caret"],[1,"category-menu"],[1,"heading"],[3,"click",4,"ngFor","ngForOf"],[1,"divider"],["type","text","placeholder","Type your products..",3,"ngModelChange","ngModel"],[1,"search-btn",3,"click"],[1,"fa-solid","fa-magnifying-glass"],[3,"click"]],template:function(t,r){t&1&&(Qe(0,"div",0),j(1),ze(),Qe(2,"nav",1)(3,"div",2)(4,"div",3),Ot(5,"img",4),ze(),Qe(6,"div",5)(7,"div",6)(8,"button",7)(9,"span",8),Br(),Qe(10,"svg",9),Ot(11,"rect",10)(12,"rect",11)(13,"rect",12)(14,"rect",13),ze()(),$r(),Qe(15,"span",14),j(16),ze(),Ot(17,"i",15),ze(),Qe(18,"ul",16)(19,"li",17),j(20,"Categories"),ze(),ji(21,EH,2,1,"li",18),ze()(),Ot(22,"span",19),Qe(23,"input",20),xd("ngModelChange",function(o){return my(r.searchText,o)||(r.searchText=o),o}),ze(),Qe(24,"button",21),Ft("click",function(){return r.search()}),Ot(25,"i",22),ze()()()()),t&2&&(B(),un(" ",r.discountText(),`
`),B(4),Bi("src",r.logoUrl(),Ct),B(11),un(" ",r.selectedCategory," "),B(5),Bi("ngForOf",r.categories),B(2),Ad("ngModel",r.searchText))},dependencies:[Vn,Ld,TM,jf,bM,AI],styles:[".mobile-topbar[_ngcontent-%COMP%]{display:none;background:#1dc9a0;color:#fff;text-align:center;font-size:13px;padding:10px 16px;font-family:Poppins,sans-serif;letter-spacing:.3px}.mobile-topbar[_ngcontent-%COMP%]   .fw-bold[_ngcontent-%COMP%]{font-weight:600;color:#000}.navbar[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e5e7eb;position:sticky;top:0;z-index:1000;box-shadow:0 2px 10px #00000005}.navbar-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:14px 16px;display:flex;align-items:center;justify-content:space-between;gap:20px}.navbar-logo[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0;max-width:200px}.navbar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:42px;width:auto;max-width:100%;object-fit:contain;object-position:left}.navbar-search[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;width:100%;max-width:460px;height:44px;border:1.5px solid #e5e7eb;border-radius:999px;background:#fff;padding:0 6px 0 0;box-sizing:border-box;transition:all .3s ease}.navbar-search[_ngcontent-%COMP%]:focus-within{border-color:#1dc9a0;box-shadow:0 0 0 3px #1dc9a026}.category-dropdown[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;height:100%}.category-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:transparent;border:none;cursor:pointer;font-size:13.5px;font-weight:500;color:#1f2937;height:100%;padding:0 16px;min-width:145px;max-width:145px;justify-content:space-between}.selected-category[_ngcontent-%COMP%]{flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:left}.cat-icon[_ngcontent-%COMP%]{width:16px;height:16px;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0}.cat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.cat-icon[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{border-radius:6px;fill:#1dc9a0;stroke:#fff;stroke-width:1}.caret[_ngcontent-%COMP%]{font-size:10px;margin-left:2px;color:#9ca3af;flex-shrink:0}.category-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 12px);left:0;width:220px;background:#fff;border:1px solid #f3f4f6;border-radius:12px;list-style:none;padding:10px 0;margin:0;box-shadow:0 10px 25px -5px #00000014,0 8px 10px -6px #0000000a;opacity:0;visibility:hidden;transform:translateY(10px);transition:all .25s cubic-bezier(.4,0,.2,1);z-index:100}.category-dropdown[_ngcontent-%COMP%]:hover   .category-menu[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.category-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 20px;font-size:13.5px;cursor:pointer;color:#374151;transition:background .15s,color .15s}.category-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#f9fafb;color:#1dc9a0}.category-menu[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-weight:600;color:#9ca3af;background:transparent;cursor:default;padding-bottom:6px;text-transform:uppercase;font-size:11px;letter-spacing:.5px}.divider[_ngcontent-%COMP%]{width:1px;height:100%;background:#e5e7eb;margin:0 4px;flex-shrink:0}.navbar-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;font-size:13.5px;padding:0 12px;min-width:0;color:#1f2937;background:transparent}.navbar-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.search-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;font-size:16px;color:#6b7280;padding:0 16px;height:100%;flex-shrink:0;transition:color .2s}.search-btn[_ngcontent-%COMP%]:hover{color:#1dc9a0}@media (max-width: 1024px){.mobile-topbar[_ngcontent-%COMP%]{display:block}}@media (max-width: 767px){.navbar-container[_ngcontent-%COMP%]{flex-wrap:wrap;gap:12px;padding:12px 16px}.navbar-logo[_ngcontent-%COMP%]{max-width:140px}.navbar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:36px}.navbar-search[_ngcontent-%COMP%]{flex:0 0 100%;width:100%;max-width:100%;order:3;height:44px}.category-btn[_ngcontent-%COMP%]{min-width:95px;max-width:95px;padding:0 10px;font-size:13px}}"]})};var Hf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=be({type:n,selectors:[["app-copyright"]],decls:3,vars:0,consts:[[1,"footer-bottom"]],template:function(t,r){t&1&&(N(0,"section")(1,"div",0),j(2," \xA9 Copyright 2026 Happytoys. All Rights Reserved. "),O()())},styles:[".footer-bottom[_ngcontent-%COMP%]{letter-spacing:.5px;font-family:TTFont1;background:#11bfa3;text-align:center;padding:14px 20px;font-size:10px}"]})};var zf=class n{title=Ne("happytoys");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=be({type:n,selectors:[["app-root"]],decls:15,vars:0,template:function(t,r){t&1&&Ot(0,"app-header")(1,"app-navbar")(2,"app-banner")(3,"app-flashsales")(4,"app-category")(5,"app-trending-items")(6,"br")(7,"br")(8,"br")(9,"app-banner3")(10,"app-age")(11,"app-brands")(12,"app-footer")(13,"app-scroll-progress")(14,"app-copyright")},dependencies:[bf,Cf,Df,Tf,Sf,Af,xf,Rf,Nf,kf,$f,Hf],encapsulation:2})};zy(zf,sM).catch(n=>console.error(n));
